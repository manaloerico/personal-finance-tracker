var rx=Object.create;var Vp=Object.defineProperty,ix=Object.defineProperties,ox=Object.getOwnPropertyDescriptor,sx=Object.getOwnPropertyDescriptors,ax=Object.getOwnPropertyNames,qu=Object.getOwnPropertySymbols,VT=Object.getPrototypeOf,jp=Object.prototype.hasOwnProperty,jT=Object.prototype.propertyIsEnumerable,cx=Reflect.get;var FT=(t,e,n)=>e in t?Vp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})jp.call(e,n)&&FT(t,n,e[n]);if(qu)for(var n of qu(e))jT.call(e,n)&&FT(t,n,e[n]);return t},he=(t,e)=>ix(t,sx(e));var Pq=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var ux=(t,e)=>{var n={};for(var r in t)jp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&qu)for(var r of qu(t))e.indexOf(r)<0&&jT.call(t,r)&&(n[r]=t[r]);return n};var xq=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var lx=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ax(e))!jp.call(t,i)&&i!==n&&Vp(t,i,{get:()=>e[i],enumerable:!(r=ox(e,i))||r.enumerable});return t};var Oq=(t,e,n)=>(n=t!=null?rx(VT(t)):{},lx(e||!t||!t.__esModule?Vp(n,"default",{value:t,enumerable:!0}):n,t));var Fr=(t,e,n)=>cx(VT(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Up;function Gu(){return Up}function wn(t){let e=Up;return Up=t,e}var UT=Symbol("NotFound");function Lo(t){return t===UT||t?.name==="\u0275NotFound"}function Ju(t,e){return Object.is(t,e)}var dt=null,Wu=!1,Bp=1,dx=null,We=Symbol("SIGNAL");function J(t){let e=dt;return dt=t,e}function Zu(){return dt}var Ci={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Si(t){if(Wu)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(t);let e=dt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=dt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:dt.producers,n!==void 0&&n.producer===t)){dt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===dt&&(!r||fx(i,dt)))return;let o=Fo(dt),s={producer:t,consumer:dt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};dt.producersTail=s,e!==void 0?e.nextProducer=s:dt.producers=s,o&&$T(t,s)}function BT(){Bp++}function Xu(t){if(!(Fo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Bp)){if(!t.producerMustRecompute(t)&&!Ri(t)){Yu(t);return}t.producerRecomputeValue(t),Yu(t)}}function $p(t){if(t.consumers===void 0)return;let e=Wu;Wu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||hx(r)}}finally{Wu=e}}function Hp(){return dt?.consumerAllowSignalWrites!==!1}function hx(t){t.dirty=!0,$p(t),t.consumerMarkedDirty?.(t)}function Yu(t){t.dirty=!1,t.lastCleanEpoch=Bp}function Vr(t){return t&&(t.producersTail=void 0,t.recomputing=!0),J(t)}function Ai(t,e){if(J(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(Fo(t))do r=zp(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function Ri(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Xu(n),r!==n.version))return!0}return!1}function jr(t){if(Fo(t)){let e=t.producers;for(;e!==void 0;)e=zp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function $T(t,e){let n=t.consumersTail,r=Fo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)$T(i.producer,i)}function zp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Fo(e)){let o=e.producers;for(;o!==void 0;)o=zp(o)}return n}function Fo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function el(t){dx?.(t)}function fx(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function wa(t,e){let n=Object.create(px);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Xu(n),Si(n),n.value===Ia)throw n.error;return n.value};return r[We]=n,el(n),r}var Ku=Symbol("UNSET"),Qu=Symbol("COMPUTING"),Ia=Symbol("ERRORED"),px=he(F({},Ci),{value:Ku,dirty:!0,error:null,equal:Ju,kind:"computed",producerMustRecompute(t){return t.value===Ku||t.value===Qu},producerRecomputeValue(t){if(t.value===Qu)throw new Error("");let e=t.value;t.value=Qu;let n=Vr(t),r,i=!1;try{r=t.computation(),J(null),i=e!==Ku&&e!==Ia&&r!==Ia&&t.equal(e,r)}catch(o){r=Ia,t.error=o}finally{Ai(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function gx(){throw new Error}var HT=gx;function zT(t){HT(t)}function qp(t){HT=t}var mx=null;function Gp(t,e){let n=Object.create(Ta);n.value=t,e!==void 0&&(n.equal=e);let r=()=>qT(n);return r[We]=n,el(n),[r,s=>Vo(n,s),s=>Wp(n,s)]}function qT(t){return Si(t),t.value}function Vo(t,e){Hp()||zT(t),t.equal(t.value,e)||(t.value=e,yx(t))}function Wp(t,e){Hp()||zT(t),Vo(t,e(t.value))}var Ta=he(F({},Ci),{equal:Ju,value:void 0,kind:"signal"});function yx(t){t.version++,BT(),$p(t),mx?.(t)}function ne(t){return typeof t=="function"}function jo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tl=jo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ni(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof tl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{GT(o)}catch(s){e=e??[],s instanceof tl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new tl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)GT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ni(n,e)}remove(e){let{_finalizers:n}=this;n&&Ni(n,e),e instanceof t&&e._removeParent(this)}};Oe.EMPTY=(()=>{let t=new Oe;return t.closed=!0,t})();var Kp=Oe.EMPTY;function nl(t){return t instanceof Oe||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function GT(t){ne(t)?t():t.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Uo={setTimeout(t,e,...n){let{delegate:r}=Uo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Uo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rl(t){Uo.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(t);else throw t})}function Xn(){}var WT=Qp("C",void 0,void 0);function KT(t){return Qp("E",void 0,t)}function QT(t){return Qp("N",t,void 0)}function Qp(t,e,n){return{kind:t,value:e,error:n}}var Mi=null;function Bo(t){if(rn.useDeprecatedSynchronousErrorHandling){let e=!Mi;if(e&&(Mi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Mi;if(Mi=null,n)throw r}}else t()}function YT(t){rn.useDeprecatedSynchronousErrorHandling&&Mi&&(Mi.errorThrown=!0,Mi.error=t)}var Pi=class extends Oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nl(e)&&e.add(this)):this.destination=Ex}static create(e,n,r){return new er(e,n,r)}next(e){this.isStopped?Jp(QT(e),this):this._next(e)}error(e){this.isStopped?Jp(KT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jp(WT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vx=Function.prototype.bind;function Yp(t,e){return vx.call(t,e)}var Zp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){il(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){il(r)}else il(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){il(n)}}},er=class extends Pi{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yp(e.next,o),error:e.error&&Yp(e.error,o),complete:e.complete&&Yp(e.complete,o)}):i=e}this.destination=new Zp(i)}};function il(t){rn.useDeprecatedSynchronousErrorHandling?YT(t):rl(t)}function _x(t){throw t}function Jp(t,e){let{onStoppedNotification:n}=rn;n&&Uo.setTimeout(()=>n(t,e))}var Ex={closed:!0,next:Xn,error:_x,complete:Xn};var $o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rt(t){return t}function Xp(...t){return eg(t)}function eg(t){return t.length===0?rt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=wx(n)?n:new er(n,r,i);return Bo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=JT(r),new r((i,o)=>{let s=new er({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$o](){return this}pipe(...n){return eg(n)(this)}toPromise(n){return n=JT(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function JT(t){var e;return(e=t??rn.Promise)!==null&&e!==void 0?e:Promise}function Ix(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function wx(t){return t&&t instanceof Pi||Ix(t)&&nl(t)}function tg(t){return ne(t?.lift)}function W(t){return e=>{if(tg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new ng(t,e,n,r,i)}var ng=class extends Pi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ho(){return W((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var zo=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,tg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Oe;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Oe.EMPTY)}return e}refCount(){return Ho()(this)}};var ZT=jo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ol(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ZT}next(n){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Kp:(this.currentObservers=null,o.push(n),new Oe(()=>{this.currentObservers=null,Ni(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new ol(e,n),t})(),ol=class extends Ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Kp}};var it=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Da={now(){return(Da.delegate||Date).now()},delegate:void 0};var ba=class extends Ne{constructor(e=1/0,n=1/0,r=Da){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var sl=class extends Oe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ca={setInterval(t,e,...n){let{delegate:r}=Ca;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ca;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ur=class extends sl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ca.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ca.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ni(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Tx=1,rg,ig={};function XT(t){return t in ig?(delete ig[t],!0):!1}var eD={setImmediate(t){let e=Tx++;return ig[e]=!0,rg||(rg=Promise.resolve()),rg.then(()=>XT(e)&&t()),e},clearImmediate(t){XT(t)}};var{setImmediate:Dx,clearImmediate:bx}=eD,Sa={setImmediate(...t){let{delegate:e}=Sa;return(e?.setImmediate||Dx)(...t)},clearImmediate(t){let{delegate:e}=Sa;return(e?.clearImmediate||bx)(t)},delegate:void 0};var al=class extends Ur{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Sa.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:o}=e;n!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(Sa.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}};var qo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};qo.now=Da.now;var Br=class extends qo{constructor(e,n=qo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var cl=class extends Br{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var Cx=new cl(al);var $r=new Br(Ur),og=$r;var ul=class extends Ur{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ll=class extends Br{};var Sx=new ll(ul);var ht=new ae(t=>t.complete());function dl(t){return t&&ne(t.schedule)}function sg(t){return t[t.length-1]}function Go(t){return ne(sg(t))?t.pop():void 0}function Tn(t){return dl(sg(t))?t.pop():void 0}function tD(t,e){return typeof sg(t)=="number"?t.pop():e}function hl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function nD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xi(t){return this instanceof xi?(this.v=t,this):new xi(t)}function iD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(w){return Promise.resolve(w).then(y,p)}}function a(y,w){r[y]&&(i[y]=function(R){return new Promise(function(N,x){o.push([y,R,N,x])>1||u(y,R)})},w&&(i[y]=w(i[y])))}function u(y,w){try{l(r[y](w))}catch(R){g(o[0][3],R)}}function l(y){y.value instanceof xi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,w){y(w),o.shift(),o.length&&u(o[0][0],o[0][1])}}function oD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nD=="function"?nD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var fl=t=>t&&typeof t.length=="number"&&typeof t!="function";function pl(t){return ne(t?.then)}function gl(t){return ne(t[$o])}function ml(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function yl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ax(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vl=Ax();function _l(t){return ne(t?.[vl])}function El(t){return iD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield xi(n.read());if(i)return yield xi(void 0);yield yield xi(r)}}finally{n.releaseLock()}})}function Il(t){return ne(t?.getReader)}function me(t){if(t instanceof ae)return t;if(t!=null){if(gl(t))return Rx(t);if(fl(t))return Nx(t);if(pl(t))return Mx(t);if(ml(t))return sD(t);if(_l(t))return Px(t);if(Il(t))return xx(t)}throw yl(t)}function Rx(t){return new ae(e=>{let n=t[$o]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Nx(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Mx(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rl)})}function Px(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function sD(t){return new ae(e=>{Ox(t,e).catch(n=>e.error(n))})}function xx(t){return sD(El(t))}function Ox(t,e){var n,r,i,o;return rD(this,void 0,void 0,function*(){try{for(n=oD(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Nt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Aa(t,e=0){return W((n,r)=>{n.subscribe(q(r,i=>Nt(r,t,()=>r.next(i),e),()=>Nt(r,t,()=>r.complete(),e),i=>Nt(r,t,()=>r.error(i),e)))})}function wl(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aD(t,e){return me(t).pipe(wl(e),Aa(e))}function cD(t,e){return me(t).pipe(wl(e),Aa(e))}function uD(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lD(t,e){return new ae(n=>{let r;return Nt(n,e,()=>{r=t[vl](),Nt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function Tl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{Nt(n,e,()=>{let r=t[Symbol.asyncIterator]();Nt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dD(t,e){return Tl(El(t),e)}function ag(t,e){if(t!=null){if(gl(t))return aD(t,e);if(fl(t))return uD(t,e);if(pl(t))return cD(t,e);if(ml(t))return Tl(t,e);if(_l(t))return lD(t,e);if(Il(t))return dD(t,e)}throw yl(t)}function ke(t,e){return e?ag(t,e):me(t)}function Q(...t){let e=Tn(t);return ke(t,e)}function Wo(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function cg(t){return!!t&&(t instanceof ae||ne(t.lift)&&ne(t.subscribe))}var tr=jo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function hD(t){return t instanceof Date&&!isNaN(t)}function re(t,e){return W((n,r)=>{let i=0;n.subscribe(q(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:kx}=Array;function Lx(t,e){return kx(e)?t(...e):t(e)}function Dl(t){return re(e=>Lx(t,e))}var{isArray:Fx}=Array,{getPrototypeOf:Vx,prototype:jx,keys:Ux}=Object;function bl(t){if(t.length===1){let e=t[0];if(Fx(e))return{args:e,keys:null};if(Bx(e)){let n=Ux(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Bx(t){return t&&typeof t=="object"&&Vx(t)===jx}function Cl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Sl(...t){let e=Tn(t),n=Go(t),{args:r,keys:i}=bl(t);if(r.length===0)return ke([],e);let o=new ae($x(r,e,i?s=>Cl(i,s):rt));return n?o.pipe(Dl(n)):o}function $x(t,e,n=rt){return r=>{fD(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)fD(e,()=>{let l=ke(t[u],e),h=!1;l.subscribe(q(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function fD(t,e,n){t?Nt(n,t,e):e()}function pD(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?w(R):u.push(R),w=R=>{o&&e.next(R),l++;let N=!1;me(n(R,h++)).subscribe(q(e,x=>{i?.(x),o?y(x):e.next(x)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let x=u.shift();s?Nt(e,s,()=>w(x)):w(x)}g()}catch(x){e.error(x)}}))};return t.subscribe(q(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ve(t,e,n=1/0){return ne(e)?Ve((r,i)=>re((o,s)=>e(r,o,i,s))(me(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>pD(r,i,t,n)))}function Al(t=1/0){return Ve(rt,t)}function gD(){return Al(1)}function Hr(...t){return gD()(ke(t,Tn(t)))}function Ra(t){return new ae(e=>{me(t()).subscribe(e)})}function Hx(...t){let e=Go(t),{args:n,keys:r}=bl(t),i=new ae(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;me(n[h]).subscribe(q(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Cl(r,a):a),o.complete())}))}});return e?i.pipe(Dl(e)):i}function Rl(t=0,e,n=og){let r=-1;return e!=null&&(dl(e)?n=e:r=e),new ae(i=>{let o=hD(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function zx(...t){let e=Tn(t),n=tD(t,1/0),r=t;return r.length?r.length===1?me(r[0]):Al(n)(ke(r,e)):ht}function ft(t,e){return W((n,r)=>{let i=0;n.subscribe(q(r,o=>t.call(e,o,i++)&&r.next(o)))})}function mD(t){return W((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},u=()=>{o=null,s&&n.complete()};e.subscribe(q(n,l=>{r=!0,i=l,o||me(t(l)).subscribe(o=q(n,a,u))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function qx(t,e=$r){return mD(()=>Rl(t,e))}function zr(t){return W((e,n)=>{let r=null,i=!1,o;r=e.subscribe(q(n,void 0,void 0,s=>{o=me(t(s,zr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function yD(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(q(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function qr(t,e){return ne(e)?Ve(t,e,1):Ve(t,1)}function Gx(t,e=$r){return W((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(q(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Gr(t){return W((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ft(t){return t<=0?()=>ht:W((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function vD(){return W((t,e)=>{t.subscribe(q(e,Xn))})}function _D(t){return re(()=>t)}function ug(t,e){return e?n=>Hr(e.pipe(Ft(1),vD()),n.pipe(ug(t))):Ve((n,r)=>me(t(n,r)).pipe(Ft(1),_D(n)))}function Wx(t,e=$r){let n=Rl(t,e);return ug(()=>n)}function Kx(t,e=rt){return t=t??Qx,W((n,r)=>{let i,o=!0;n.subscribe(q(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function Qx(t,e){return t===e}function Nl(t=Yx){return W((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Yx(){return new tr}function Ko(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function nr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,o)=>t(i,o,r)):rt,Ft(1),n?Gr(e):Nl(()=>new tr))}function Qo(t){return t<=0?()=>ht:W((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ft((i,o)=>t(i,o,r)):rt,Qo(1),n?Gr(e):Nl(()=>new tr))}function Jx(){return W((t,e)=>{let n,r=!1;t.subscribe(q(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function dg(t,e){return W(yD(t,e,arguments.length>=2,!0))}function fg(t={}){let{connector:e=()=>new Ne,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=u=void 0,h=p=!1},w=()=>{let R=s;y(),R?.unsubscribe()};return W((R,N)=>{l++,!p&&!h&&g();let x=u=u??e();N.add(()=>{l--,l===0&&!p&&!h&&(a=hg(w,i))}),x.subscribe(N),!s&&l>0&&(s=new er({next:U=>x.next(U),error:U=>{p=!0,g(),a=hg(y,n,U),x.error(U)},complete:()=>{h=!0,g(),a=hg(y,r),x.complete()}}),me(R).subscribe(s))})(o)}}function hg(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new er({next:()=>{r.unsubscribe(),t()}});return me(e(...n)).subscribe(r)}function ED(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,fg({connector:()=>new ba(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Zx(t){return ft((e,n)=>t<=n)}function pg(...t){let e=Tn(t);return W((n,r)=>{(e?Hr(t,n,e):Hr(t,n)).subscribe(r)})}function pt(t,e){return W((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(q(r,u=>{i?.unsubscribe();let l=0,h=o++;me(t(u,h)).subscribe(i=q(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ml(t){return W((e,n)=>{me(t).subscribe(q(n,()=>n.complete(),Xn)),!n.closed&&e.subscribe(n)})}function Xx(t,e=!1){return W((n,r)=>{let i=0;n.subscribe(q(r,o=>{let s=t(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function Ke(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(q(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rt}function eO(...t){let e=Go(t);return W((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let u=0;u<i;u++)me(t[u]).subscribe(q(r,l=>{o[u]=l,!a&&!s[u]&&(s[u]=!0,(a=s.every(rt))&&(s=null))},Xn));n.subscribe(q(r,u=>{if(a){let l=[u,...o];r.next(e?e(...l):l)}}))})}function ID(t){let e=J(null);try{return t()}finally{J(e)}}var wD=he(F({},Ci),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function TD(t){if(t.dirty=!1,t.hasRun&&!Ri(t))return;t.hasRun=!0;let e=Vr(t);try{t.cleanup(),t.fn()}finally{Ai(t,e)}}var Ll="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",k=class extends Error{code;constructor(e,n){super(Qr(e,n)),this.code=e}};function tO(t){return`NG0${Math.abs(t)}`}function Qr(t,e){return`${tO(t)}${e?": "+e:""}`}var Wt=globalThis;function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("")}function CD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ir(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(ir).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Fl(t,e){return t?e?`${t} ${e}`:t:e||""}var nO=ve({__forward_ref__:ve});function Vl(t){return t.__forward_ref__=Vl,t.toString=function(){return ir(this())},t}function ot(t){return Cg(t)?t():t}function Cg(t){return typeof t=="function"&&t.hasOwnProperty(nO)&&t.__forward_ref__===Vl}function SD(t,e){t==null&&Sg(e,t,null,"!=")}function Sg(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yr(t){return{providers:t.providers||[],imports:t.imports||[]}}function ka(t){return rO(t,jl)}function Ag(t){return ka(t)!==null}function rO(t,e){return t.hasOwnProperty(e)&&t[e]||null}function iO(t){let e=t?.[jl]??null;return e||null}function mg(t){return t&&t.hasOwnProperty(xl)?t[xl]:null}var jl=ve({\u0275prov:ve}),xl=ve({\u0275inj:ve}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Rg(t){return t&&!!t.\u0275providers}var Ng=ve({\u0275cmp:ve}),Mg=ve({\u0275dir:ve}),Pg=ve({\u0275pipe:ve}),xg=ve({\u0275mod:ve}),Pa=ve({\u0275fac:ve}),Vi=ve({__NG_ELEMENT_ID__:ve}),DD=ve({__NG_ENV_ID__:ve});function ji(t){return typeof t=="string"?t:t==null?"":String(t)}function Ol(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ji(t)}var Og=ve({ngErrorCode:ve}),AD=ve({ngErrorMessage:ve}),Ma=ve({ngTokenPath:ve});function kg(t,e){return RD("",-200,e)}function Ul(t,e){throw new k(-201,!1)}function oO(t,e){t[Ma]??=[];let n=t[Ma],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(SD(e.provide,"Token with multi: true should have a provide property"),r=Ol(e.provide)):r=Ol(e),n[0]!==r&&t[Ma].unshift(r)}function sO(t,e){let n=t[Ma],r=t[Og],i=t[AD]||t.message;return t.message=cO(i,r,n,e),t}function RD(t,e,n){let r=new k(e,t);return r[Og]=e,r[AD]=t,n&&(r[Ma]=n),r}function aO(t){return t[Og]}function cO(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Qr(e,`${t}${o}${i}`)}var yg;function ND(){return yg}function Tt(t){let e=yg;return yg=t,e}function Lg(t,e,n){let r=ka(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Ul(t,"Injector")}var uO={},Oi=uO,vg="__NG_DI_FLAG__",_g=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=ki(n)||0;try{return this.injector.get(e,r&8?null:Oi,r)}catch(i){if(Lo(i))return i;throw i}}};function lO(t,e=0){let n=Gu();if(n===void 0)throw new k(-203,!1);if(n===null)return Lg(t,void 0,e);{let r=dO(e),i=n.retrieve(t,r);if(Lo(i)){if(r.optional)return null;throw i}return i}}function K(t,e=0){return(ND()||lO)(ot(t),e)}function P(t,e){return K(t,ki(e))}function ki(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dO(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Eg(t){let e=[];for(let n=0;n<t.length;n++){let r=ot(t[n]);if(Array.isArray(r)){if(r.length===0)throw new k(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=hO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function Fg(t,e){return t[vg]=e,t.prototype[vg]=e,t}function hO(t){return t[vg]}function Wr(t,e){let n=t.hasOwnProperty(Pa);return n?t[Pa]:null}function MD(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function PD(t){return t.flat(Number.POSITIVE_INFINITY)}function Bl(t,e){t.forEach(n=>Array.isArray(n)?Bl(n,e):e(n))}function Vg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function La(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xD(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function OD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function $l(t,e,n){let r=Jo(t,e);return r>=0?t[r|1]=n:(r=~r,OD(t,r,e,n)),r}function Hl(t,e){let n=Jo(t,e);if(n>=0)return t[n|1]}function Jo(t,e){return fO(t,e,1)}function fO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Jr={},gt=[],or=new $(""),jg=new $("",-1),Ug=new $(""),xa=class{get(e,n=Oi){if(n===Oi){let i=RD("",-201);throw i.name="\u0275NotFound",i}return n}};function Bg(t){return t[xg]||null}function sr(t){return t[Ng]||null}function $g(t){return t[Mg]||null}function kD(t){return t[Pg]||null}function Zo(t){return{\u0275providers:t}}function LD(...t){return{\u0275providers:Hg(!0,t),\u0275fromNgModule:!0}}function Hg(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Bl(e,s=>{let a=s;kl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&FD(i,o),n}function FD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];zg(i,o=>{e(o,r)})}}function kl(t,e,n,r){if(t=ot(t),!t)return!1;let i=null,o=mg(t),s=!o&&sr(t);if(!o&&!s){let u=t.ngModule;if(o=mg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)kl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Bl(o.imports,h=>{kl(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&FD(l,e)}if(!a){let l=Wr(i)||(()=>new i);e({provide:i,useFactory:l,deps:gt},i),e({provide:Ug,useValue:i,multi:!0},i),e({provide:or,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;zg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function zg(t,e){for(let n of t)Rg(n)&&(n=n.\u0275providers),Array.isArray(n)?zg(n,e):e(n)}var pO=ve({provide:String,useValue:ve});function VD(t){return t!==null&&typeof t=="object"&&pO in t}function gO(t){return!!(t&&t.useExisting)}function mO(t){return!!(t&&t.useFactory)}function Li(t){return typeof t=="function"}function jD(t){return!!t.useClass}var Fa=new $(""),Pl={},bD={},gg;function Xo(){return gg===void 0&&(gg=new xa),gg}var Qe=class{},Fi=class extends Qe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,wg(e,s=>this.processProvider(s)),this.records.set(jg,Yo(void 0,this)),i.has("environment")&&this.records.set(Qe,Yo(void 0,this));let o=this.records.get(Fa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ug,gt,{self:!0}))}retrieve(e,n){let r=ki(n)||0;try{return this.get(e,Oi,r)}catch(i){if(Lo(i))return i;throw i}}destroy(){Na(this),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return Na(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Na(this);let n=wn(this),r=Tt(void 0),i;try{return e()}finally{wn(n),Tt(r)}}get(e,n=Oi,r){if(Na(this),e.hasOwnProperty(DD))return e[DD](this);let i=ki(r),o,s=wn(this),a=Tt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=IO(e)&&ka(e);h&&this.injectableDefInScope(h)?l=Yo(Ig(e),Pl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Xo():this.parent;return n=i&8&&n===Oi?null:n,u.get(e,n)}catch(u){let l=aO(u);throw l===-200||l===-201?new k(l,null):u}finally{Tt(a),wn(s)}}resolveInjectorInitializers(){let e=J(null),n=wn(this),r=Tt(void 0),i;try{let o=this.get(or,gt,{self:!0});for(let s of o)s()}finally{wn(n),Tt(r),J(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ir(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ot(e);let n=Li(e)?e:ot(e&&e.provide),r=vO(e);if(!Li(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Yo(void 0,Pl,!0),i.factory=()=>Eg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=J(null);try{if(n.value===bD)throw kg(ir(e));return n.value===Pl&&(n.value=bD,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&EO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ot(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ig(t){let e=ka(t),n=e!==null?e.factory:Wr(t);if(n!==null)return n;if(t instanceof $)throw new k(204,!1);if(t instanceof Function)return yO(t);throw new k(204,!1)}function yO(t){if(t.length>0)throw new k(204,!1);let n=iO(t);return n!==null?()=>n.factory(t):()=>new t}function vO(t){if(VD(t))return Yo(void 0,t.useValue);{let e=qg(t);return Yo(e,Pl)}}function qg(t,e,n){let r;if(Li(t)){let i=ot(t);return Wr(i)||Ig(i)}else if(VD(t))r=()=>ot(t.useValue);else if(mO(t))r=()=>t.useFactory(...Eg(t.deps||[]));else if(gO(t))r=(i,o)=>K(ot(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ot(t&&(t.useClass||t.provide));if(_O(t))r=()=>new i(...Eg(t.deps));else return Wr(i)||Ig(i)}return r}function Na(t){if(t.destroyed)throw new k(205,!1)}function Yo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _O(t){return!!t.deps}function EO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function IO(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function wg(t,e){for(let n of t)Array.isArray(n)?wg(n,e):n&&Rg(n)?wg(n.\u0275providers,e):e(n)}function mt(t,e){let n;t instanceof Fi?(Na(t),n=t):n=new _g(t);let r,i=wn(n),o=Tt(void 0);try{return e()}finally{wn(i),Tt(o)}}function UD(){return ND()!==void 0||Gu()!=null}var sn=0,H=1,Y=2,Ye=3,Kt=4,bt=5,Ui=6,es=7,je=8,Bi=9,Dn=10,Ie=11,ts=12,Gg=13,$i=14,Ct=15,Zr=16,Hi=17,bn=18,Va=19,Wg=20,rr=21,zl=22,ar=23,Vt=24,zi=25,be=26,BD=1,Kg=6,Xr=7,ja=8,qi=9,Ze=10;function Cn(t){return Array.isArray(t)&&typeof t[BD]=="object"}function an(t){return Array.isArray(t)&&t[BD]===!0}function Qg(t){return(t.flags&4)!==0}function ei(t){return t.componentOffset>-1}function ns(t){return(t.flags&1)===1}function Sn(t){return!!t.template}function rs(t){return(t[Y]&512)!==0}function Gi(t){return(t[Y]&256)===256}var Yg="svg",$D="math";function Qt(t){for(;Array.isArray(t);)t=t[sn];return t}function Jg(t,e){return Qt(e[t])}function cn(t,e){return Qt(e[t.index])}function Ua(t,e){return t.data[e]}function Ba(t,e){return t[e]}function Zg(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Yt(t,e){let n=e[t];return Cn(n)?n:n[sn]}function HD(t){return(t[Y]&4)===4}function ql(t){return(t[Y]&128)===128}function zD(t){return an(t[Ye])}function jt(t,e){return e==null?null:t[e]}function Xg(t){t[Hi]=0}function em(t){t[Y]&1024||(t[Y]|=1024,ql(t)&&ti(t))}function qD(t,e){for(;t>0;)e=e[$i],t--;return e}function $a(t){return!!(t[Y]&9216||t[Vt]?.dirty)}function Gl(t){t[Dn].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),$a(t)&&ti(t)}function ti(t){t[Dn].changeDetectionScheduler?.notify(0);let e=Kr(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!ql(e)));)e=Kr(e)}function tm(t,e){if(Gi(t))throw new k(911,!1);t[rr]===null&&(t[rr]=[]),t[rr].push(e)}function GD(t,e){if(t[rr]===null)return;let n=t[rr].indexOf(e);n!==-1&&t[rr].splice(n,1)}function Kr(t){let e=t[Ye];return an(e)?e[Ye]:e}function nm(t){return t[es]??=[]}function rm(t){return t.cleanup??=[]}function WD(t,e,n,r){let i=nm(e);i.push(n),t.firstCreatePass&&rm(t).push(r,i.length-1)}var ie={lFrame:ab(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ha=(function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t})(Ha||{}),wO=0,Tg=!1;function KD(){return ie.lFrame.elementDepthCount}function QD(){ie.lFrame.elementDepthCount++}function im(){ie.lFrame.elementDepthCount--}function Wl(){return ie.bindingsEnabled}function om(){return ie.skipHydrationRootTNode!==null}function sm(t){return ie.skipHydrationRootTNode===t}function am(){ie.skipHydrationRootTNode=null}function z(){return ie.lFrame.lView}function Ce(){return ie.lFrame.tView}function YD(t){return ie.lFrame.contextLView=t,t[je]}function JD(t){return ie.lFrame.contextLView=null,t}function Be(){let t=cm();for(;t!==null&&t.type===64;)t=t.parent;return t}function cm(){return ie.lFrame.currentTNode}function ZD(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function is(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function um(){return ie.lFrame.isParent}function lm(){ie.lFrame.isParent=!1}function XD(){return ie.lFrame.contextLView}function dm(t){Sg("Must never be called in production mode"),wO=t}function hm(){return Tg}function os(t){let e=Tg;return Tg=t,e}function za(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function eb(){return ie.lFrame.bindingIndex}function tb(t){return ie.lFrame.bindingIndex=t}function ni(){return ie.lFrame.bindingIndex++}function Kl(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function nb(){return ie.lFrame.inI18n}function rb(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ql(e)}function ib(){return ie.lFrame.currentDirectiveIndex}function Ql(t){ie.lFrame.currentDirectiveIndex=t}function ob(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Yl(){return ie.lFrame.currentQueryIndex}function qa(t){ie.lFrame.currentQueryIndex=t}function TO(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[bt]:null}function fm(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=TO(o),i===null||(o=o[$i],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=sb();return r.currentTNode=e,r.lView=t,!0}function Jl(t){let e=sb(),n=t[H];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sb(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?ab(t):e}function ab(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function cb(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pm=cb;function Zl(){let t=cb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ub(t){return(ie.lFrame.contextLView=qD(t,ie.lFrame.contextLView))[je]}function An(){return ie.lFrame.selectedIndex}function ri(t){ie.lFrame.selectedIndex=t}function Ga(){let t=ie.lFrame;return Ua(t.tView,t.selectedIndex)}function lb(){ie.lFrame.currentNamespace=Yg}function db(){DO()}function DO(){ie.lFrame.currentNamespace=null}function hb(){return ie.lFrame.currentNamespace}var fb=!0;function Xl(){return fb}function Wa(t){fb=t}var bO={elements:void 0};function ed(){return bO}function Dg(t,e=null,n=null,r){let i=gm(t,e,n,r);return i.resolveInjectorInitializers(),i}function gm(t,e=null,n=null,r,i=new Set){let o=[n||gt,LD(t)];return r=r||(typeof t=="object"?void 0:ir(t)),new Fi(o,e||Xo(),r||null,i)}var Dt=class t{static THROW_IF_NOT_FOUND=Oi;static NULL=new xa;static create(e,n){if(Array.isArray(e))return Dg({name:""},n,e,"");{let r=e.name??"";return Dg({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>K(jg)});static __NG_ELEMENT_ID__=-1},Je=new $(""),un=(()=>{class t{static __NG_ELEMENT_ID__=CO;static __NG_ENV_ID__=n=>n}return t})(),Oa=class extends un{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Gi(this._lView)}onDestroy(e){let n=this._lView;return tm(n,e),()=>GD(n,e)}};function CO(){return new Oa(z())}var Gt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Mt=new $("",{providedIn:"root",factory:()=>{let t=P(Qe),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Gt),e.handleError(n))}}}),pb={provide:or,useValue:()=>void P(Gt),multi:!0};function mm(t){return typeof t=="function"&&t[We]!==void 0}function Rn(t,e){let[n,r,i]=Gp(t,e?.equal),o=n,s=o[We];return o.set=r,o.update=i,o.asReadonly=ym.bind(o),o}function ym(){let t=this[We];if(t.readonlyFn===void 0){let e=()=>this();e[We]=t,t.readonlyFn=e}return t.readonlyFn}function vm(t){return mm(t)&&typeof t.set=="function"}var on=class{},Ka=new $("",{providedIn:"root",factory:()=>!1});var _m=new $(""),Em=new $("");var Wi=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=SO}return t})();function SO(){return new Wi(z(),Be())}var cr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new it(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ae(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ki(...t){}var Qa=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new bg})}return t})(),bg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function fs(t){return{toString:t}.toString()}var td="__parameters__";function xO(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Kb(t,e,n){return fs(()=>{let r=xO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(td)?u[td]:Object.defineProperty(u,td,{value:[]})[td];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Qb=Fg(Kb("Optional"),8);var OO=Fg(Kb("SkipSelf"),4);function kO(t){return typeof t=="function"}var dd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Yb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var no=(()=>{let t=()=>Jb;return t.ngInherit=!0,t})();function Jb(t){return t.type.prototype.ngOnChanges&&(t.setInput=FO),LO}function LO(){let t=Xb(this),e=t?.current;if(e){let n=t.previous;if(n===Jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function FO(t,e,n,r,i){let o=this.declaredInputs[r],s=Xb(t)||VO(t,{previous:Jr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new dd(l&&l.currentValue,n,u===Jr),Yb(t,e,i,n)}var Zb="__ngSimpleChanges__";function Xb(t){return t[Zb]||null}function VO(t,e){return t[Zb]=e}var gb=[];var _e=function(t,e=null,n){for(let r=0;r<gb.length;r++){let i=gb[r];i(t,e,n)}};function jO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Jb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function eC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function sd(t,e,n){tC(t,e,3,n)}function ad(t,e,n,r){(t[Y]&3)===n&&tC(t,e,n,r)}function Im(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function tC(t,e,n,r){let i=r!==void 0?t[Hi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Hi]+=65536),(a<o||o==-1)&&(UO(t,n,e,u),t[Hi]=(t[Hi]&4294901760)+u+2),u++}function mb(t,e){_e(4,t,e);let n=J(null);try{e.call(t)}finally{J(n),_e(5,t,e)}}function UO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Y]>>14<t[Hi]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,mb(a,o)):mb(a,o)}var as=-1,Ji=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function BO(t){return(t.flags&8)!==0}function $O(t){return(t.flags&16)!==0}function HO(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];zO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function nC(t){return t===3||t===4||t===6}function zO(t){return t.charCodeAt(0)===64}function cs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?yb(t,n,i,null,e[++r]):yb(t,n,i,null,null))}}return t}function yb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function rC(t){return t!==as}function hd(t){return t&32767}function qO(t){return t>>16}function fd(t,e){let n=qO(t),r=e;for(;n>0;)r=r[$i],n--;return r}var Pm=!0;function pd(t){let e=Pm;return Pm=t,e}var GO=256,iC=GO-1,oC=5,WO=0,Nn={};function KO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vi)&&(r=n[Vi]),r==null&&(r=n[Vi]=WO++);let i=r&iC,o=1<<i;e.data[t+(i>>oC)]|=o}function gd(t,e){let n=sC(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,wm(r.data,t),wm(e,null),wm(r.blueprint,null));let i=yy(t,e),o=t.injectorIndex;if(rC(i)){let s=hd(i),a=fd(i,e),u=a[H].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function wm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function yy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=dC(i),r===null)return as;if(n++,i=i[$i],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return as}function xm(t,e,n){KO(t,e,n)}function QO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(nC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function aC(t,e,n){if(n&8||t!==void 0)return t;Ul(e,"NodeInjector")}function cC(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Bi],o=Tt(void 0);try{return i?i.get(e,r,n&8):Lg(e,r,n&8)}finally{Tt(o)}}return aC(r,e,n)}function uC(t,e,n,r=0,i){if(t!==null){if(e[Y]&2048&&!(r&2)){let s=XO(t,e,n,r,Nn);if(s!==Nn)return s}let o=lC(t,e,n,r,Nn);if(o!==Nn)return o}return cC(e,n,r,i)}function lC(t,e,n,r,i){let o=JO(n);if(typeof o=="function"){if(!fm(e,t,r))return r&1?aC(i,n,r):cC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ul(n);else return s}finally{pm()}}else if(typeof o=="number"){let s=null,a=sC(t,e),u=as,l=r&1?e[Ct][bt]:null;for((a===-1||r&4)&&(u=a===-1?yy(t,e):e[a+8],u===as||!_b(r,!1)?a=-1:(s=e[H],a=hd(u),e=fd(u,e)));a!==-1;){let h=e[H];if(vb(o,a,h.data)){let p=YO(a,e,n,s,r,l);if(p!==Nn)return p}u=e[a+8],u!==as&&_b(r,e[H].data[a+8]===l)&&vb(o,a,e)?(s=h,a=hd(u),e=fd(u,e)):a=-1}}return i}function YO(t,e,n,r,i,o){let s=e[H],a=s.data[t+8],u=r==null?ei(a)&&Pm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=cd(a,s,n,u,l);return h!==null?Za(e,s,h,a,i):Nn}function cd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let w=s[y];if(y<u&&n===w||y>=u&&w.type===n)return y}if(i){let y=s[u];if(y&&Sn(y)&&y.type===n)return u}return null}function Za(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Ji){let a=o;if(a.resolving){let y=Ol(s[n]);throw kg(y)}let u=pd(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?Tt(a.injectImpl):null,g=fm(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&jO(n,s[n],e)}finally{p!==null&&Tt(p),pd(u),a.resolving=!1,pm()}}return o}function JO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vi)?t[Vi]:void 0;return typeof e=="number"?e>=0?e&iC:ZO:e}function vb(t,e,n){let r=1<<t;return!!(n[e+(t>>oC)]&r)}function _b(t,e){return!(t&2)&&!(t&1&&e)}var Yi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uC(this._tNode,this._lView,e,ki(r),n)}};function ZO(){return new Yi(Be(),z())}function Md(t){return fs(()=>{let e=t.prototype.constructor,n=e[Pa]||Om(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Pa]||Om(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Om(t){return Cg(t)?()=>{let e=Om(ot(t));return e&&e()}:Wr(t)}function XO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!rs(s);){let a=lC(o,s,n,r|2,Nn);if(a!==Nn)return a;let u=o.parent;if(!u){let l=s[Wg];if(l){let h=l.get(n,Nn,r);if(h!==Nn)return h}u=dC(s),s=s[$i]}o=u}return i}function dC(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[bt]:null}function ic(t){return QO(Be(),t)}function ek(){return ps(Be(),z())}function ps(t,e){return new hr(cn(t,e))}var hr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ek}return t})();function hC(t){return t instanceof hr?t.nativeElement:t}function tk(){return this._results[Symbol.iterator]()}var md=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ne}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=PD(e);(this._changesDetected=!MD(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=tk};function fC(t){return(t.flags&128)===128}var vy=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(vy||{}),pC=new Map,nk=0;function rk(){return nk++}function ik(t){pC.set(t[Va],t)}function km(t){pC.delete(t[Va])}var Eb="__ngContext__";function us(t,e){Cn(e)?(t[Eb]=e[Va],ik(e)):t[Eb]=e}function gC(t){return yC(t[ts])}function mC(t){return yC(t[Kt])}function yC(t){for(;t!==null&&!an(t);)t=t[Kt];return t}var Lm;function _y(t){Lm=t}function vC(){if(Lm!==void 0)return Lm;if(typeof document<"u")return document;throw new k(210,!1)}var Pd=new $("",{providedIn:"root",factory:()=>ok}),ok="ng",xd=new $(""),gs=new $("",{providedIn:"platform",factory:()=>"unknown"});var sk=new $(""),Od=new $("",{providedIn:"root",factory:()=>vC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ak="h",ck="b";var _C="r";var EC="di";var IC=!1,wC=new $("",{providedIn:"root",factory:()=>IC});var uk=(t,e,n,r)=>{};function lk(t,e,n,r){uk(t,e,n,r)}function kd(t){return(t.flags&32)===32}var dk=()=>null;function TC(t,e,n=!1){return dk(t,e,n)}function DC(t,e){let n=t.contentQueries;if(n!==null){let r=J(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];qa(o),a.contentQueries(2,e[s],s)}}}finally{J(r)}}}function Fm(t,e,n){qa(0);let r=J(null);try{e(t,n)}finally{J(r)}}function Ey(t,e,n){if(Qg(e)){let r=J(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{J(r)}}}var ur=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(ur||{}),nd;function hk(){if(nd===void 0&&(nd=null,Wt.trustedTypes))try{nd=Wt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nd}function Ld(t){return hk()?.createHTML(t)||t}var rd;function fk(){if(rd===void 0&&(rd=null,Wt.trustedTypes))try{rd=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rd}function Ib(t){return fk()?.createScriptURL(t)||t}var lr=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ll})`}},Vm=class extends lr{getTypeName(){return"HTML"}},jm=class extends lr{getTypeName(){return"Style"}},Um=class extends lr{getTypeName(){return"Script"}},Bm=class extends lr{getTypeName(){return"URL"}},$m=class extends lr{getTypeName(){return"ResourceURL"}};function hn(t){return t instanceof lr?t.changingThisBreaksApplicationSecurity:t}function fr(t,e){let n=bC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ll})`)}return n===e}function bC(t){return t instanceof lr&&t.getTypeName()||null}function Iy(t){return new Vm(t)}function wy(t){return new jm(t)}function Ty(t){return new Um(t)}function Dy(t){return new Bm(t)}function by(t){return new $m(t)}function pk(t){let e=new zm(t);return gk()?new Hm(e):e}var Hm=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ld(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},zm=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ld(e),n}};function gk(){try{return!!new window.DOMParser().parseFromString(Ld(""),"text/html")}catch{return!1}}var mk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oc(t){return t=String(t),t.match(mk)?t:"unsafe:"+t}function pr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function sc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var CC=pr("area,br,col,hr,img,wbr"),SC=pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AC=pr("rp,rt"),yk=sc(AC,SC),vk=sc(SC,pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_k=sc(AC,pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wb=sc(CC,vk,_k,yk),RC=pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ek=pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ik=pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),wk=sc(RC,Ek,Ik),Tk=pr("script,style,template"),qm=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Ck(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=bk(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Tb(e).toLowerCase();if(!wb.hasOwnProperty(n))return this.sanitizedSomething=!0,!Tk.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!wk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;RC[a]&&(u=oc(u)),this.buf.push(" ",s,'="',Db(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=Tb(e).toLowerCase();wb.hasOwnProperty(n)&&!CC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Db(e))}};function Dk(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function bk(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw NC(e);return e}function Ck(t){let e=t.firstChild;if(e&&Dk(t,e))throw NC(e);return e}function Tb(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function NC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Sk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ak=/([^\#-~ |!])/g;function Db(t){return t.replace(/&/g,"&amp;").replace(Sk,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Ak,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var id;function Cy(t,e){let n=null;try{id=id||pk(t);let r=e?String(e):"";n=id.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=id.getInertBodyElement(r)}while(r!==o);let a=new qm().sanitizeChildren(bb(n)||n);return Ld(a)}finally{if(n){let r=bb(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function bb(t){return"content"in t&&Rk(t)?t.content:null}function Rk(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var fn=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(fn||{});function MC(t){let e=xC();return e?e.sanitize(fn.URL,t)||"":fr(t,"URL")?hn(t):oc(ji(t))}function PC(t){let e=xC();if(e)return Ib(e.sanitize(fn.RESOURCE_URL,t)||"");if(fr(t,"ResourceURL"))return Ib(hn(t));throw new k(904,!1)}function Nk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?PC:MC}function Sy(t,e,n){return Nk(e,n)(t)}function xC(){let t=z();return t&&t[Dn].sanitizer}var Mk=/^>|^->|<!--|-->|--!>|<!-$/g,Pk=/(<|>)/g,xk="\u200B$1\u200B";function Ok(t){return t.replace(Mk,e=>e.replace(Pk,xk))}function OC(t){return t instanceof Function?t():t}function kk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var kC="ng-template";function Lk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ay(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ay(t){return t.type===4&&t.value!==kC}function Fk(t,e,n){let r=t.type===4&&!n?kC:t.value;return e===r}function Vk(t,e,n){let r=4,i=t.attrs,o=i!==null?Bk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!ln(r)&&!ln(u))return!1;if(s&&ln(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Fk(t,u,n)||u===""&&e.length===1){if(ln(r))return!1;s=!0}}else if(r&8){if(i===null||!Lk(t,i,u,n)){if(ln(r))return!1;s=!0}}else{let l=e[++a],h=jk(u,i,Ay(t),n);if(h===-1){if(ln(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(ln(r))return!1;s=!0}}}}return ln(r)||s}function ln(t){return(t&1)===0}function jk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $k(e,t)}function LC(t,e,n=!1){for(let r=0;r<e.length;r++)if(Vk(t,e[r],n))return!0;return!1}function Uk(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function Bk(t){for(let e=0;e<t.length;e++){let n=t[e];if(nC(n))return e}return t.length}function $k(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Hk(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Cb(t,e){return t?":not("+e.trim()+")":e}function zk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ln(s)&&(e+=Cb(o,i),i=""),r=s,o=o||!ln(r);n++}return i!==""&&(e+=Cb(o,i)),e}function qk(t){return t.map(zk).join(",")}function Gk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!ln(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var At={};function Wk(t,e){return t.createText(e)}function Kk(t,e,n){t.setValue(e,n)}function Qk(t,e){return t.createComment(Ok(e))}function FC(t,e,n){return t.createElement(e,n)}function yd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function VC(t,e,n){t.appendChild(e,n)}function Sb(t,e,n,r,i){r!==null?yd(t,e,n,r,i):VC(t,e,n)}function jC(t,e,n){t.removeChild(null,e,n)}function Yk(t,e,n){t.setAttribute(e,"style",n)}function Jk(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function UC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&HO(t,e,r),i!==null&&Jk(t,e,i),o!==null&&Yk(t,e,o)}function Ry(t,e,n,r,i,o,s,a,u,l,h){let p=be+r,g=p+i,y=Zk(p,g),w=typeof l=="function"?l():l;return y[H]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:h}}function Zk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:At);return n}function Xk(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ry(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ny(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[sn]=i,p[Y]=r|4|128|8|64|1024,(l!==null||t&&t[Y]&2048)&&(p[Y]|=2048),Xg(p),p[Ye]=p[$i]=t,p[je]=n,p[Dn]=s||t&&t[Dn],p[Ie]=a||t&&t[Ie],p[Bi]=u||t&&t[Bi]||null,p[bt]=o,p[Va]=rk(),p[Ui]=h,p[Wg]=l,p[Ct]=e.type==2?t[Ct]:p,p}function eL(t,e,n){let r=cn(e,t),i=Xk(n),o=t[Dn].rendererFactory,s=My(t,Ny(t,i,null,BC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function BC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function $C(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function My(t,e){return t[ts]?t[Gg][Kt]=e:t[ts]=e,t[Gg]=e,e}function tL(t=1){HC(Ce(),z(),An()+t,!1)}function HC(t,e,n,r){if(!r)if((e[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&sd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ad(e,o,0,n)}ri(n)}var Fd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Fd||{});function Gm(t,e,n,r){let i=J(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Fd.SignalBased)!==0&&(u=e[o][We]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):Yb(e,u,o,r)}finally{J(i)}}var Mn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Mn||{}),nL;function Py(t,e){return nL(t,e)}function ss(t,e,n,r,i){if(r!=null){let o,s=!1;an(r)?o=r:Cn(r)&&(s=!0,r=r[sn]);let a=Qt(r);t===0&&n!==null?i==null?VC(e,n,a):yd(e,n,a,i||null,!0):t===1&&n!==null?yd(e,n,a,i||null,!0):t===2?jC(e,a,s):t===3&&e.destroyNode(a),o!=null&&hL(e,t,o,n,i)}}function rL(t,e){zC(t,e),e[sn]=null,e[bt]=null}function iL(t,e,n,r,i,o){r[sn]=i,r[bt]=e,jd(t,r,n,1,i,o)}function zC(t,e){e[Dn].changeDetectionScheduler?.notify(9),jd(t,e,e[Ie],2,null,null)}function oL(t){let e=t[ts];if(!e)return Tm(t[H],t);for(;e;){let n=null;if(Cn(e))n=e[ts];else{let r=e[Ze];r&&(n=r)}if(!n){for(;e&&!e[Kt]&&e!==t;)Cn(e)&&Tm(e[H],e),e=e[Ye];e===null&&(e=t),Cn(e)&&Tm(e[H],e),n=e&&e[Kt]}e=n}}function xy(t,e){let n=t[qi],r=n.indexOf(e);n.splice(r,1)}function Vd(t,e){if(Gi(e))return;let n=e[Ie];n.destroyNode&&jd(t,e,n,3,null,null),oL(e)}function Tm(t,e){if(Gi(e))return;let n=J(null);try{e[Y]&=-129,e[Y]|=256,e[Vt]&&jr(e[Vt]),aL(t,e),sL(t,e),e[H].type===1&&e[Ie].destroy();let r=e[Zr];if(r!==null&&an(e[Ye])){r!==e[Ye]&&xy(r,e);let i=e[bn];i!==null&&i.detachView(t)}km(e)}finally{J(n)}}function sL(t,e){let n=t.cleanup,r=e[es];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[es]=null);let i=e[rr];if(i!==null){e[rr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ar];if(o!==null){e[ar]=null;for(let s of o)s.destroy()}}function aL(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ji)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];_e(4,a,u);try{u.call(a)}finally{_e(5,a,u)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function qC(t,e,n){return cL(t,e.parent,n)}function cL(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[sn];if(ei(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ur.None||i===ur.Emulated)return null}return cn(r,n)}function GC(t,e,n){return lL(t,e,n)}function uL(t,e,n){return t.type&40?cn(t,n):null}var lL=uL,Ab;function Oy(t,e,n,r){let i=qC(t,r,e),o=e[Ie],s=r.parent||e[bt],a=GC(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Sb(o,i,n[u],a,!1);else Sb(o,i,n,a,!1);Ab!==void 0&&Ab(o,r,e,n,i)}function Ya(t,e){if(e!==null){let n=e.type;if(n&3)return cn(e,t);if(n&4)return Wm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ya(t,r);{let i=t[e.index];return an(i)?Wm(-1,i):Qt(i)}}else{if(n&128)return Ya(t,e.next);if(n&32)return Py(e,t)()||Qt(t[e.index]);{let r=WC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Kr(t[Ct]);return Ya(i,r)}else return Ya(t,e.next)}}}return null}function WC(t,e){if(e!==null){let r=t[Ct][bt],i=e.projection;return r.projection[i]}return null}function Wm(t,e){let n=Ze+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return Ya(r,i)}return e[Xr]}function ky(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&us(Qt(a),r),n.flags|=2),!kd(n))if(u&8)ky(t,e,n.child,r,i,o,!1),ss(e,t,i,a,o);else if(u&32){let l=Py(n,r),h;for(;h=l();)ss(e,t,i,h,o);ss(e,t,i,a,o)}else u&16?KC(t,e,r,n,i,o):ss(e,t,i,a,o);n=s?n.projectionNext:n.next}}function jd(t,e,n,r,i,o){ky(n,r,t.firstChild,e,i,o,!1)}function dL(t,e,n){let r=e[Ie],i=qC(t,n,e),o=n.parent||e[bt],s=GC(o,n,e);KC(r,0,e,n,i,s)}function KC(t,e,n,r,i,o){let s=n[Ct],u=s[bt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ss(e,t,i,h,o)}else{let l=u,h=s[Ye];fC(r)&&(l.flags|=128),ky(t,e,l,h,i,o,!0)}}function hL(t,e,n,r,i){let o=n[Xr],s=Qt(n);o!==s&&ss(e,t,r,o,i);for(let a=Ze;a<n.length;a++){let u=n[a];jd(u[H],u,t,e,r,o)}}function fL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Mn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mn.Important),t.setStyle(n,r,i,o))}}function QC(t,e,n,r,i){let o=An(),s=r&2;try{ri(-1),s&&e.length>be&&HC(t,e,be,!1),_e(s?2:0,i,n),n(r,i)}finally{ri(o),_e(s?3:1,i,n)}}function Ud(t,e,n){_L(t,e,n),(n.flags&64)===64&&EL(t,e,n)}function ac(t,e,n=cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function pL(t,e,n,r){let o=r.get(wC,IC)||n===ur.ShadowDom,s=t.selectRootElement(e,o);return gL(s),s}function gL(t){mL(t)}var mL=()=>null;function yL(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function YC(t,e,n,r,i,o){let s=e[H];if(jy(t,s,e,n,r)){ei(t)&&vL(e,t.index);return}t.type&3&&(n=yL(n)),JC(t,e,n,r,i,o)}function JC(t,e,n,r,i,o){if(t.type&3){let s=cn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function vL(t,e){let n=Yt(e,t);n[Y]&16||(n[Y]|=64)}function _L(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ei(n)&&eL(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||gd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Za(e,t,s,n);if(us(u,e),o!==null&&DL(e,s-r,u,a,n,o),Sn(a)){let l=Yt(n.index,e);l[je]=Za(e,t,s,n)}}}function EL(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ib();try{ri(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Ql(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&IL(u,l)}}finally{ri(-1),Ql(s)}}function IL(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ly(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];LC(e,o.selectors,!1)&&(r??=[],Sn(o)?r.unshift(o):r.push(o))}return r}function wL(t,e,n,r,i,o){let s=cn(t,e);TL(e[Ie],s,o,t.value,n,r,i)}function TL(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ji(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function DL(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Gm(r,n,u,l)}}function Fy(t,e,n,r,i){let o=be+n,s=e[H],a=i(s,e,t,r,n);e[o]=a,is(t,!0);let u=t.type===2;return u?(UC(e[Ie],a,t),(KD()===0||ns(t))&&us(a,e),QD()):us(a,e),Xl()&&(!u||!kd(t))&&Oy(s,e,a,t),t}function Vy(t){let e=t;return um()?lm():(e=e.parent,is(e,!1)),e}function bL(t,e){let n=t[Bi];if(!n)return;let r;try{r=n.get(Mt,null)}catch{r=null}r?.(e)}function jy(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Gm(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Gm(h,l,r,i),a=!0}return a}function CL(t,e){let n=Yt(e,t),r=n[H];SL(r,n);let i=n[sn];i!==null&&n[Ui]===null&&(n[Ui]=TC(i,n[Bi])),_e(18),Uy(r,n,n[je]),_e(19,n[je])}function SL(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Uy(t,e,n){Jl(e);try{let r=t.viewQuery;r!==null&&Fm(1,r,n);let i=t.template;i!==null&&QC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[bn]?.finishViewCreation(t),t.staticContentQueries&&DC(t,e),t.staticViewQueries&&Fm(2,t.viewQuery,n);let o=t.components;o!==null&&AL(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Zl()}}function AL(t,e){for(let n=0;n<e.length;n++)CL(t,e[n])}function cc(t,e,n,r){let i=J(null);try{let o=e.tView,a=t[Y]&4096?4096:16,u=Ny(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Zr]=l;let h=t[bn];return h!==null&&(u[bn]=h.createEmbeddedView(o)),Uy(o,u,n),u}finally{J(i)}}function ls(t,e){return!e||e.firstChild===null||fC(t)}var Rb=!1,RL=new $("");function Xa(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Qt(o)),an(o)&&ZC(o,r);let s=n.type;if(s&8)Xa(t,e,n.child,r);else if(s&32){let a=Py(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=WC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Kr(e[Ct]);Xa(u[H],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZC(t,e){for(let n=Ze;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&Xa(r[H],r,i,e)}t[Xr]!==t[sn]&&e.push(t[Xr])}function XC(t){if(t[zi]!==null){for(let e of t[zi])e.impl.addSequence(e);t[zi].length=0}}var eS=[];function NL(t){return t[Vt]??ML(t)}function ML(t){let e=eS.pop()??Object.create(xL);return e.lView=t,e}function PL(t){t.lView[Vt]!==t&&(t.lView=null,eS.push(t))}var xL=he(F({},Ci),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ti(t.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function OL(t){let e=t[Vt]??Object.create(kL);return e.lView=t,e}var kL=he(F({},Ci),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Kr(t.lView);for(;e&&!tS(e[H]);)e=Kr(e);e&&em(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function tS(t){return t.type!==2}function nS(t){if(t[ar]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ar])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Y]&8192)}}var LL=100;function By(t,e=0){let r=t[Dn].rendererFactory,i=!1;i||r.begin?.();try{FL(t,e)}finally{i||r.end?.()}}function FL(t,e){let n=hm();try{os(!0),Km(t,e);let r=0;for(;$a(t);){if(r===LL)throw new k(103,!1);r++,Km(t,1)}}finally{os(n)}}function rS(t,e){dm(e?Ha.Exhaustive:Ha.OnlyDirtyViews);try{By(t)}finally{dm(Ha.Off)}}function VL(t,e,n,r){if(Gi(e))return;let i=e[Y],o=!1,s=!1;Jl(e);let a=!0,u=null,l=null;o||(tS(t)?(l=NL(e),u=Vr(l)):Zu()===null?(a=!1,l=OL(e),u=Vr(l)):e[Vt]&&(jr(e[Vt]),e[Vt]=null));try{Xg(e),tb(t.bindingStartIndex),n!==null&&QC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&sd(e,y,null)}else{let y=t.preOrderHooks;y!==null&&ad(e,y,0,null),Im(e,0)}if(s||jL(e),nS(e),iS(e,0),t.contentQueries!==null&&DC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&sd(e,y)}else{let y=t.contentHooks;y!==null&&ad(e,y,1),Im(e,1)}BL(t,e);let p=t.components;p!==null&&sS(e,p,0);let g=t.viewQuery;if(g!==null&&Fm(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&sd(e,y)}else{let y=t.viewHooks;y!==null&&ad(e,y,2),Im(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zl]){for(let y of e[zl])y();e[zl]=null}o||(XC(e),e[Y]&=-73)}catch(h){throw o||ti(e),h}finally{l!==null&&(Ai(l,u),a&&PL(l)),Zl()}}function iS(t,e){for(let n=gC(t);n!==null;n=mC(n))for(let r=Ze;r<n.length;r++){let i=n[r];oS(i,e)}}function jL(t){for(let e=gC(t);e!==null;e=mC(e)){if(!(e[Y]&2))continue;let n=e[qi];for(let r=0;r<n.length;r++){let i=n[r];em(i)}}}function UL(t,e,n){_e(18);let r=Yt(e,t);oS(r,n),_e(19,r[je])}function oS(t,e){ql(t)&&Km(t,e)}function Km(t,e){let r=t[H],i=t[Y],o=t[Vt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ri(o)),s||=!1,o&&(o.dirty=!1),t[Y]&=-9217,s)VL(r,t,r.template,t[je]);else if(i&8192){let a=J(null);try{nS(t),iS(t,1);let u=r.components;u!==null&&sS(t,u,1),XC(t)}finally{J(a)}}}function sS(t,e,n){for(let r=0;r<e.length;r++)UL(t,e[r],n)}function BL(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ri(~i);else{let o=i,s=n[++r],a=n[++r];rb(s,o);let u=e[o];_e(24,u),a(2,u),_e(25,u)}}}finally{ri(-1)}}function $y(t,e){let n=hm()?64:1088;for(t[Dn].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=Kr(t);if(rs(t)&&!r)return t;t=r}return null}function aS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function cS(t,e){let n=Ze+e;if(n<t.length)return t[n]}function uc(t,e,n,r=!0){let i=e[H];if($L(i,e,t,n),r){let s=Wm(n,t),a=e[Ie],u=a.parentNode(t[Xr]);u!==null&&iL(i,t[bt],a,e,u,s)}let o=e[Ui];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function uS(t,e){let n=ec(t,e);return n!==void 0&&Vd(n[H],n),n}function ec(t,e){if(t.length<=Ze)return;let n=Ze+e,r=t[n];if(r){let i=r[Zr];i!==null&&i!==t&&xy(i,r),e>0&&(t[n-1][Kt]=r[Kt]);let o=La(t,Ze+e);rL(r[H],r);let s=o[bn];s!==null&&s.detachView(o[H]),r[Ye]=null,r[Kt]=null,r[Y]&=-129}return r}function $L(t,e,n,r){let i=Ze+r,o=n.length;r>0&&(n[i-1][Kt]=e),r<o-Ze?(e[Kt]=n[i],Vg(n,Ze+r,e)):(n.push(e),e[Kt]=null),e[Ye]=n;let s=e[Zr];s!==null&&n!==s&&lS(s,e);let a=e[bn];a!==null&&a.insertView(t),Gl(e),e[Y]|=128}function lS(t,e){let n=t[qi],r=e[Ye];if(Cn(r))t[Y]|=2;else{let i=r[Ye][Ct];e[Ct]!==i&&(t[Y]|=2)}n===null?t[qi]=[e]:n.push(e)}var ii=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[H];return Xa(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[je]}set context(e){this._lView[je]=e}get destroyed(){return Gi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ye];if(an(e)){let n=e[ja],r=n?n.indexOf(this):-1;r>-1&&(ec(e,r),La(n,r))}this._attachedToViewContainer=!1}Vd(this._lView[H],this._lView)}onDestroy(e){tm(this._lView,e)}markForCheck(){$y(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Gl(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,By(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rs(this._lView),n=this._lView[Zr];n!==null&&!e&&xy(n,this._lView),zC(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e;let n=rs(this._lView),r=this._lView[Zr];r!==null&&!n&&lS(r,this._lView),Gl(this._lView)}};var dr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=HL;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=cc(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new ii(o)}}return t})();function HL(){return Bd(Be(),z())}function Bd(t,e){return t.type&4?new dr(e,t,ps(t,e)):null}function ms(t,e,n,r,i){let o=t.data[e];if(o===null)o=zL(t,e,n,r,i),nb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ZD();o.injectorIndex=s===null?-1:s.injectorIndex}return is(o,!0),o}function zL(t,e,n,r,i){let o=cm(),s=um(),a=s?o:o&&o.parent,u=t.data[e]=GL(t,a,n,e,r,i);return qL(t,u,o,s),u}function qL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function GL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return om()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var d7=new RegExp(`^(\\d+)*(${ck}|${ak})*(.*)`);function WL(t){let e=t[Kg]??[],r=t[Ye][Ie],i=[];for(let o of e)o.data[EC]!==void 0?i.push(o):KL(o,r);t[Kg]=i}function KL(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[_C];for(;n<i;){let o=r.nextSibling;jC(e,r,!1),r=o,n++}}}var QL=()=>null,YL=()=>null;function vd(t,e){return QL(t,e)}function dS(t,e,n){return YL(t,e,n)}var hS=class{},$d=class{},Qm=class{resolveComponentFactory(e){throw new k(917,!1)}},lc=class{static NULL=new Qm},Zi=class{},dc=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>JL()}return t})();function JL(){let t=z(),e=Be(),n=Yt(e.index,t);return(Cn(n)?n:t)[Ie]}var fS=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var ud={},Ym=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,ud,r);return i!==ud||n===ud?i:this.parentInjector.get(e,n,r)}};function _d(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Fl(i,a);else if(o==2){let u=a,l=e[++s];r=Fl(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function we(t,e=0){let n=z();if(n===null)return K(t,e);let r=Be();return uC(r,n,ot(t),e)}function pS(){let t="invalid";throw new Error(t)}function gS(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}eF(t,e,n,a,o,u,l)}o!==null&&r!==null&&ZL(n,r,o)}function ZL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new k(-301,!1);r.push(e[i],o)}}function XL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function eF(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&Sn(y)&&(u=!0,XL(t,n,g)),xm(gd(n,e),t,y.type)}sF(n,t.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=$C(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=cs(n.mergedAttrs,y.hostAttrs),nF(t,n,e,p,y),oF(p,y,i),s!==null&&s.has(y)){let[R,N]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,N+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let w=y.type.prototype;!l&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(w.ngOnChanges||w.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}tF(t,n,o)}function tF(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Nb(0,e,i,r),Nb(1,e,i,r),Pb(e,r,!1);else{let o=n.get(i);Mb(0,e,o,r),Mb(1,e,o,r),Pb(e,r,!0)}}}function Nb(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),mS(e,o)}}function Mb(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),mS(e,s)}}function mS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Pb(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Ay(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function nF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Wr(i.type,!0)),s=new Ji(o,Sn(i),we,null);t.blueprint[r]=s,n[r]=s,rF(t,e,r,$C(t,n,i.hostVars,At),i)}function rF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;iF(s)!=a&&s.push(a),s.push(n,r,o)}}function iF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function oF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Sn(e)&&(n[""]=t)}}function sF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Hy(t,e,n,r,i,o,s,a){let u=e[H],l=u.consts,h=jt(l,s),p=ms(u,t,n,r,h);return o&&gS(u,e,p,jt(l,a),i),p.mergedAttrs=cs(p.mergedAttrs,p.attrs),p.attrs!==null&&_d(p,p.attrs,!1),p.mergedAttrs!==null&&_d(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function zy(t,e){eC(t,e),Qg(e)&&t.queries.elementEnd(e)}function aF(t,e,n,r,i,o){let s=e.consts,a=jt(s,i),u=ms(e,t,n,r,a);if(u.mergedAttrs=cs(u.mergedAttrs,u.attrs),o!=null){let l=jt(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&_d(u,u.attrs,!1),u.mergedAttrs!==null&&_d(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function qy(t){return vS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function yS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function vS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Hd(t,e,n){return t[e]=n}function cF(t,e){return t[e]}function Ut(t,e,n){if(n===At)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Gy(t,e,n,r){let i=Ut(t,e,n);return Ut(t,e+1,r)||i}function uF(t,e,n,r,i){let o=Gy(t,e,n,r);return Ut(t,e+2,i)||o}function ld(t,e,n){return function r(i){let o=ei(t)?Yt(t.index,e):e;$y(o,5);let s=e[je],a=xb(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=xb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function xb(t,e,n,r){let i=J(null);try{return _e(6,e,n),n(r)!==!1}catch(o){return bL(t,o),!1}finally{_e(7,e,n),J(i)}}function _S(t,e,n,r,i,o,s,a){let u=ns(t),l=!1,h=null;if(!r&&u&&(h=lF(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=cn(t,n),g=r?r(p):p;lk(n,g,o,a);let y=i.listen(g,o,a),w=r?R=>r(Qt(R[t.index])):t.index;ES(w,e,n,o,a,y,!1)}return l}function lF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[es],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ES(t,e,n,r,i,o,s){let a=e.firstCreatePass?rm(e):null,u=nm(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function Ob(t,e,n,r,i,o){let s=e[n],a=e[H],l=a.data[n].outputs[r],p=s[l].subscribe(o);ES(t.index,a,e,i,o,p,!0)}var Jm=Symbol("BINDING");var Ed=class extends lc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=sr(e);return new Xi(n,this.ngModule)}};function dF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Fd.SignalBased)!==0};return i&&(o.transform=i),o})}function hF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function fF(t,e,n){let r=e instanceof Qe?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ym(n,r):n}function pF(t){let e=t.get(Zi,null);if(e===null)throw new k(407,!1);let n=t.get(fS,null),r=t.get(on,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function gF(t,e){let n=IS(t);return FC(e,n,n==="svg"?Yg:n==="math"?$D:null)}function IS(t){return(t.selectors[0][0]||"div").toLowerCase()}var Xi=class extends $d{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=dF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=hF(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){_e(22);let a=J(null);try{let u=this.componentDef,l=mF(r,u,s,o),h=fF(u,i||this.ngModule,e),p=pF(h),g=p.rendererFactory.createRenderer(null,u),y=r?pL(g,r,u.encapsulation,h):gF(u,g),w=s?.some(kb)||o?.some(x=>typeof x!="function"&&x.bindings.some(kb)),R=Ny(null,l,null,512|BC(u),null,null,p,g,h,null,TC(y,h,!0));R[be]=y,Jl(R);let N=null;try{let x=Hy(be,R,2,"#host",()=>l.directiveRegistry,!0,0);y&&(UC(g,y,x),us(y,R)),Ud(l,R,x),Ey(l,x,R),zy(l,x),n!==void 0&&vF(x,this.ngContentSelectors,n),N=Yt(x.index,R),R[je]=N[je],Uy(l,R,null)}catch(x){throw N!==null&&km(N),km(R),x}finally{_e(23),Zl()}return new Id(this.componentType,R,!!w)}finally{J(a)}}};function mF(t,e,n,r){let i=t?["ng-version","20.2.4"]:Gk(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[Jm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Jm].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=$g(p);u.push(g)}return Ry(0,null,yF(o,s),1,a,u,null,null,null,[i],null)}function yF(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function kb(t){let e=t[Jm].kind;return e==="input"||e==="twoWay"}var Id=class extends hS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ua(n[H],be),this.location=ps(this._tNode,n),this.instance=Yt(this._tNode.index,n)[je],this.hostView=this.changeDetectorRef=new ii(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=jy(r,i[H],i,e,n);this.previousInputValues.set(e,n);let s=Yt(r.index,i);$y(s,1)}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pn=(()=>{class t{static __NG_ELEMENT_ID__=_F}return t})();function _F(){let t=Be();return TS(t,z())}var EF=pn,wS=class extends EF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ps(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){let e=yy(this._hostTNode,this._hostLView);if(rC(e)){let n=fd(e,this._hostLView),r=hd(e),i=n[H].data[r+8];return new Yi(i,n)}else return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Lb(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ze}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=vd(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ls(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!kO(e),l;if(u)l=n;else{let N=n||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let h=u?e:new Xi(sr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let x=(u?p:this.parentInjector).get(Qe,null);x&&(o=x)}let g=sr(h.componentType??{}),y=vd(this._lContainer,g?.id??null),w=y?.firstChild??null,R=h.create(p,i,w,o,s,a);return this.insertImpl(R.hostView,l,ls(this._hostTNode,y)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ye],l=new wS(u,u[bt],u[Ye]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return uc(s,i,o,r),e.attachToViewContainerRef(),Vg(Dm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Lb(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ec(this._lContainer,n);r&&(La(Dm(this._lContainer),n),Vd(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=ec(this._lContainer,n);return r&&La(Dm(this._lContainer),n)!=null?new ii(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Lb(t){return t[ja]}function Dm(t){return t[ja]||(t[ja]=[])}function TS(t,e){let n,r=e[t.index];return an(r)?n=r:(n=aS(r,e,null,t),e[t.index]=n,My(e,n)),wF(n,e,t,r),new wS(n,t,e)}function IF(t,e){let n=t[Ie],r=n.createComment(""),i=cn(e,t),o=n.parentNode(i);return yd(n,o,r,n.nextSibling(i),!1),r}var wF=bF,TF=()=>!1;function DF(t,e,n){return TF(t,e,n)}function bF(t,e,n,r){if(t[Xr])return;let i;n.type&8?i=Qt(r):i=IF(e,n),t[Xr]=i}var Zm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Xm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Ky(e,n).matches!==null&&this.queries[n].setDirty()}},wd=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=NF(e):this.predicate=e}},ey=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ty=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,CF(n,o)),this.matchTNodeWithReadOption(e,n,cd(n,e,o,!1,!1))}else r===dr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,cd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===hr||i===pn||i===dr&&n.type&4)this.addMatch(n.index,-2);else{let o=cd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function CF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function SF(t,e){return t.type&11?ps(t,e):t.type&4?Bd(t,e):null}function AF(t,e,n,r){return n===-1?SF(e,t):n===-2?RF(t,e,r):Za(t,t[H],n,e)}function RF(t,e,n){if(n===hr)return ps(e,t);if(n===dr)return Bd(e,t);if(n===pn)return TS(e,t)}function DS(t,e,n,r){let i=e[bn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(AF(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function ny(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=DS(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Ze;p<h.length;p++){let g=h[p];g[Zr]===g[Ye]&&ny(g[H],g,l,r)}if(h[qi]!==null){let p=h[qi];for(let g=0;g<p.length;g++){let y=p[g];ny(y[H],y,l,r)}}}}}return r}function Wy(t,e){return t[bn].queries[e].queryList}function bS(t,e,n){let r=new md((n&4)===4);return WD(t,e,r,r.destroy),(e[bn]??=new Xm).queries.push(new Zm(r))-1}function CS(t,e,n){let r=Ce();return r.firstCreatePass&&(AS(r,new wd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),bS(r,z(),e)}function SS(t,e,n,r){let i=Ce();if(i.firstCreatePass){let o=Be();AS(i,new wd(e,n,r),o.index),MF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return bS(i,z(),n)}function NF(t){return t.split(",").map(e=>e.trim())}function AS(t,e,n){t.queries===null&&(t.queries=new ey),t.queries.track(new ty(e,n))}function MF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Ky(t,e){return t.queries.getByIndex(e)}function RS(t,e){let n=t[H],r=Ky(n,e);return r.crossesNgTemplate?ny(n,t,e,[]):DS(n,t,r,e)}function NS(t,e,n){let r,i=wa(()=>{r._dirtyCounter();let o=PF(r,t);if(e&&o===void 0)throw new k(-951,!1);return o});return r=i[We],r._dirtyCounter=Rn(0),r._flatValue=void 0,i}function Qy(t){return NS(!0,!1,t)}function Yy(t){return NS(!0,!0,t)}function MS(t,e){let n=t[We];n._lView=z(),n._queryIndex=e,n._queryList=Wy(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function PF(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[Y]&4)return e?void 0:gt;let i=Wy(n,r),o=RS(n,r);return i.reset(o,hC),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var Fb=new Set;function oi(t){Fb.has(t)||(Fb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var eo=class{},zd=class{};var Td=class extends eo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ed(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Bg(e);this._bootstrapComponents=OC(o.bootstrap),this._r3Injector=gm(e,n,[{provide:eo,useValue:this},{provide:lc,useValue:this.componentFactoryResolver},...r],ir(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Dd=class extends zd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Td(this.moduleType,e,[])}};var tc=class extends eo{injector;componentFactoryResolver=new Ed(this);instance=null;constructor(e){super();let n=new Fi([...e.providers,{provide:eo,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],e.parent||Xo(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function hc(t,e,n=null){return new tc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var xF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Hg(!1,n.type),i=r.length>0?hc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(K(Qe))})}return t})();function Jy(t){return fs(()=>{let e=PS(t),n=he(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(xF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ur.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&oi("NgStandalone"),xS(n);let r=t.dependencies;return n.directiveDefs=Vb(r,OF),n.pipeDefs=Vb(r,kD),n.id=FF(n),n})}function OF(t){return sr(t)||$g(t)}function ro(t){return fs(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kF(t,e){if(t==null)return Jr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Fd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function LF(t){if(t==null)return Jr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Jt(t){return fs(()=>{let e=PS(t);return xS(e),e})}function fc(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function PS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Jr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:kF(t.inputs,e),outputs:LF(t.outputs),debugInfo:null}}function xS(t){t.features?.forEach(e=>e(t))}function Vb(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function FF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function VF(t){return Object.getPrototypeOf(t.prototype).constructor}function OS(t){let e=VF(t.type),n=!0,r=[t];for(;e;){let i;if(Sn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=bm(t.inputs),s.declaredInputs=bm(t.declaredInputs),s.outputs=bm(t.outputs);let a=i.hostBindings;a&&HF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&BF(t,u),l&&$F(t,l),jF(t,i),CD(t.outputs,i.outputs),Sn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===OS&&(n=!1)}}e=Object.getPrototypeOf(e)}UF(r)}function jF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function UF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cs(i.hostAttrs,n=cs(n,i.hostAttrs))}}function bm(t){return t===Jr?{}:t===gt?[]:t}function BF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function $F(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function HF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function kS(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=cs(t.mergedAttrs,t.attrs);let h=t.tView=Ry(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),is(t,!1);let u=qF(n,e,t,r);Xl()&&Oy(n,e,u,t),us(u,e);let l=aS(u,e,u,t);e[r+be]=l,My(e,l),DF(l,t,e)}function zF(t,e,n,r,i,o,s,a,u,l,h){let p=n+be,g;return e.firstCreatePass?(g=ms(e,p,4,s||null,a||null),Wl()&&gS(e,t,g,jt(e.consts,l),Ly),eC(e,g)):g=e.data[p],kS(g,t,e,n,r,i,o,u),ns(g)&&Ud(e,t,g),l!=null&&ac(t,g,h),g}function ds(t,e,n,r,i,o,s,a,u,l,h){let p=n+be,g;if(e.firstCreatePass){if(g=ms(e,p,4,s||null,a||null),l!=null){let y=jt(e.consts,l);g.localNames=[];for(let w=0;w<y.length;w+=2)g.localNames.push(y[w],-1)}}else g=e.data[p];return kS(g,t,e,n,r,i,o,u),l!=null&&ac(t,g,h),g}function LS(t,e,n,r,i,o,s,a){let u=z(),l=Ce(),h=jt(l.consts,o);return zF(u,l,t,e,n,r,i,h,void 0,s,a),LS}function FS(t,e,n,r,i,o,s,a){let u=z(),l=Ce(),h=jt(l.consts,o);return ds(u,l,t,e,n,r,i,h,void 0,s,a),FS}var qF=GF;function GF(t,e,n,r){return Wa(!0),e[Ie].createComment("")}var qd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(qd||{}),si=new $(""),VS=!1,ry=class extends Ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,UD()&&(this.destroyRef=P(un,{optional:!0})??void 0,this.pendingTasks=P(cr,{optional:!0})??void 0)}emit(e){let n=J(null);try{super.next(e)}finally{J(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Oe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},St=ry;function jS(t){let e,n;function r(){t=Ki;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function jb(t){return queueMicrotask(()=>t()),()=>{t=Ki}}var Zy="isAngularZone",bd=Zy+"_ID",WF=0,Ue=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new St(!1);onMicrotaskEmpty=new St(!1);onStable=new St(!1);onError=new St(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=VS}=e;if(typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,YF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new k(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,KF,Ki,Ki);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},KF={};function Xy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function QF(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){jS(()=>{t.callbackScheduled=!1,iy(t),t.isCheckStableRunning=!0,Xy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),iy(t)}function YF(t){let e=()=>{QF(t)},n=WF++;t._inner=t._inner.fork({name:"angular",properties:{[Zy]:!0,[bd]:n,[bd+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(JF(u))return r.invokeTask(o,s,a,u);try{return Ub(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Bb(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Ub(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ZF(u)&&e(),Bb(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,iy(t),Xy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function iy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ub(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bb(t){t._nesting--,Xy(t)}var Cd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new St;onMicrotaskEmpty=new St;onStable=new St;onError=new St;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function JF(t){return US(t,"__ignore_ng_zone__")}function ZF(t){return US(t,"__scheduler_tick__")}function US(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Gd=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),ev=[0,1,2,3],tv=(()=>{class t{ngZone=P(Ue);scheduler=P(on);errorHandler=P(Gt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(si,{optional:!0})}execute(){let n=this.sequences.size>0;n&&_e(16),this.executing=!0;for(let r of ev)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&_e(17)}register(n){let{view:r}=n;r!==void 0?((r[zi]??=[]).push(n),ti(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(qd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),nc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[zi];e&&(this.view[zi]=e.filter(n=>n!==this))}};function BS(t,e){let n=e?.injector??P(Dt);return oi("NgAfterNextRender"),e1(t,n,e,!0)}function XF(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function e1(t,e,n,r){let i=e.get(Gd);i.impl??=e.get(tv);let o=e.get(si,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(un):null,a=e.get(Wi,null,{optional:!0}),u=new nc(i.impl,XF(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Wd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var nv=new $("");function io(t){return!!t&&typeof t.then=="function"}function Kd(t){return!!t&&typeof t.subscribe=="function"}var $S=new $("");var rv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P($S,{optional:!0})??[];injector=P(Dt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=mt(this.injector,i);if(io(o))n.push(o);else if(Kd(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qd=new $("");function HS(){qp(()=>{let t="";throw new k(600,t)})}function zS(t){return t.isBoundToModule}var t1=10;var ai=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Mt);afterRenderManager=P(Gd);zonelessEnabled=P(Ka);rootEffectScheduler=P(Qa);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ne;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(cr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(re(n=>!n))}constructor(){P(si,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(Qe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Dt.NULL){return this._injector.get(Ue).run(()=>{_e(10);let s=n instanceof $d;if(!this._injector.get(rv).done){let w="";throw new k(405,w)}let u;s?u=n:u=this._injector.get(lc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=zS(u)?void 0:this._injector.get(eo),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(nv,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Ja(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),_e(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new k(101,!1);let n=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(n),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<t1;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$a(i))continue;let o=r&&!this.zonelessEnabled?0:1;By(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>$a(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ja(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Qd,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ja(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new k(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ja(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Yd(t,e,n,r){let i=z(),o=ni();if(Ut(i,o,e)){let s=Ce(),a=Ga();wL(a,i,t,e,n,r)}return Yd}var iv=new $("",{providedIn:"root",factory:()=>!1}),ov=new $("",{providedIn:"root",factory:()=>n1}),n1=4e3;var v7=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var oy=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Cm(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function r1(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=Cm(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),y=e[u],w=Cm(s,g,u,y,n);if(w!==0){w<0&&t.updateValue(s,y),s--,u--;continue}let R=n(o,l),N=n(s,g),x=n(o,h);if(Object.is(x,N)){let U=n(u,y);Object.is(U,R)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Sd,i??=Hb(t,o,s,n),sy(t,r,o,x))t.updateValue(o,h),o++,s++;else if(i.has(x))r.set(R,t.detach(o)),s--;else{let U=t.create(o,e[o]);t.attach(o,U),o++,s++}}for(;o<=u;)$b(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=Cm(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Sd,i??=Hb(t,o,s,n);let y=n(o,p);if(sy(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let w=n(o,h);r.set(w,t.detach(o)),s--}}}for(;!l.done;)$b(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function sy(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function $b(t,e,n,r,i){if(sy(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Hb(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Sd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function i1(t,e,n,r,i,o,s,a){oi("NgControlFlow");let u=z(),l=Ce(),h=jt(l.consts,o);return ds(u,l,t,e,n,r,i,h,256,s,a),sv}function sv(t,e,n,r,i,o,s,a){oi("NgControlFlow");let u=z(),l=Ce(),h=jt(l.consts,o);return ds(u,l,t,e,n,r,i,h,512,s,a),sv}function o1(t,e){oi("NgControlFlow");let n=z(),r=ni(),i=n[r]!==At?n[r]:-1,o=i!==-1?Ad(n,be+i):void 0,s=0;if(Ut(n,r,t)){let a=J(null);try{if(o!==void 0&&uS(o,s),t!==-1){let u=be+t,l=Ad(n,u),h=ly(n[H],u),p=dS(l,h,n),g=cc(n,h,e,{dehydratedView:p});uc(l,g,s,ls(h,p))}}finally{J(a)}}else if(o!==void 0){let a=cS(o,s);a!==void 0&&(a[je]=e)}}var ay=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ze}};var cy=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function s1(t,e,n,r,i,o,s,a,u,l,h,p,g){oi("NgControlFlow");let y=z(),w=Ce(),R=u!==void 0,N=z(),x=a?s.bind(N[Ct][je]):s,U=new cy(R,x);N[be+t]=U,ds(y,w,t+1,e,n,r,i,jt(w.consts,o),256),R&&ds(y,w,t+2,u,l,h,p,jt(w.consts,g),512)}var uy=class extends oy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Ze}at(e){return this.getLView(e)[je].$implicit}attach(e,n){let r=n[Ui];this.needsIndexUpdate||=e!==this.length,uc(this.lContainer,n,e,ls(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,c1(this.lContainer,e)}create(e,n){let r=vd(this.lContainer,this.templateTNode.tView.ssrId),i=cc(this.hostLView,this.templateTNode,new ay(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Vd(e[H],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[je].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[je].$index=e}getLView(e){return u1(this.lContainer,e)}};function a1(t){let e=J(null),n=An();try{let r=z(),i=r[H],o=r[n],s=n+1,a=Ad(r,s);if(o.liveCollection===void 0){let l=ly(i,s);o.liveCollection=new uy(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(r1(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=ni(),h=u.length===0;if(Ut(r,l,h)){let p=n+2,g=Ad(r,p);if(h){let y=ly(i,p),w=dS(g,y,r),R=cc(r,y,void 0,{dehydratedView:w});uc(g,R,0,ls(y,w))}else i.firstUpdatePass&&WL(g),uS(g,0)}}}finally{J(e)}}function Ad(t,e){return t[e]}function c1(t,e){return ec(t,e)}function u1(t,e){return cS(t,e)}function ly(t,e){return Ua(t,e)}function qS(t,e,n){let r=z(),i=ni();if(Ut(r,i,e)){let o=Ce(),s=Ga();YC(s,r,t,e,r[Ie],n)}return qS}function dy(t,e,n,r,i){jy(e,t,n,i?"class":"style",r)}function av(t,e,n,r){let i=z(),o=i[H],s=t+be,a=o.firstCreatePass?Hy(s,i,2,e,Ly,Wl(),n,r):o.data[s];if(Fy(a,i,t,e,WS),ns(a)){let u=i[H];Ud(u,i,a),Ey(u,a,i)}return r!=null&&ac(i,a),av}function cv(){let t=Ce(),e=Be(),n=Vy(e);return t.firstCreatePass&&zy(t,n),sm(n)&&am(),im(),n.classesWithoutHost!=null&&BO(n)&&dy(t,n,z(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&$O(n)&&dy(t,n,z(),n.stylesWithoutHost,!1),cv}function Jd(t,e,n,r){return av(t,e,n,r),cv(),Jd}function uv(t,e,n,r){let i=z(),o=i[H],s=t+be,a=o.firstCreatePass?aF(s,o,2,e,n,r):o.data[s];return Fy(a,i,t,e,WS),r!=null&&ac(i,a),uv}function lv(){let t=Be(),e=Vy(t);return sm(e)&&am(),im(),lv}function GS(t,e,n,r){return uv(t,e,n,r),lv(),GS}var WS=(t,e,n,r,i)=>(Wa(!0),FC(e[Ie],r,hb()));function dv(t,e,n){let r=z(),i=r[H],o=t+be,s=i.firstCreatePass?Hy(o,r,8,"ng-container",Ly,Wl(),e,n):i.data[o];if(Fy(s,r,t,"ng-container",l1),ns(s)){let a=r[H];Ud(a,r,s),Ey(a,s,r)}return n!=null&&ac(r,s),dv}function hv(){let t=Ce(),e=Be(),n=Vy(e);return t.firstCreatePass&&zy(t,n),hv}function KS(t,e,n){return dv(t,e,n),hv(),KS}var l1=(t,e,n,r,i)=>(Wa(!0),Qk(e[Ie],""));function d1(){return z()}function QS(t,e,n){let r=z(),i=ni();if(Ut(r,i,e)){let o=Ce(),s=Ga();JC(s,r,t,e,r[Ie],n)}return QS}var Qi=void 0;function h1(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var f1=["en",[["a","p"],["AM","PM"],Qi],[["AM","PM"],Qi,Qi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qi,"{1} 'at' {0}",Qi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",h1],Sm={};function Pt(t){let e=p1(t),n=zb(e);if(n)return n;let r=e.split("-")[0];if(n=zb(r),n)return n;if(r==="en")return f1;throw new k(701,!1)}function zb(t){return t in Sm||(Sm[t]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[t]),Sm[t]}var Le=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Le||{});function p1(t){return t.toLowerCase().replace(/_/g,"-")}var pc="en-US";var g1=pc;function YS(t){typeof t=="string"&&(g1=t.toLowerCase().replace(/_/g,"-"))}function Zd(t,e,n){let r=z(),i=Ce(),o=Be();return ZS(i,r,r[Ie],o,t,e,n),Zd}function JS(t,e,n){let r=z(),i=Ce(),o=Be();return(o.type&3||n)&&_S(o,i,r,n,r[Ie],t,e,ld(o,r,e)),JS}function ZS(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=ld(r,e,o),_S(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=ld(r,e,o),Ob(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=ld(r,e,o),Ob(r,e,p,i,i,u)}}function m1(t=1){return ub(t)}function y1(t,e){let n=null,r=Uk(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?LC(t,o,!0):Hk(r,o))return i}return n}function v1(t){let e=z()[Ct][bt];if(!e.projection){let n=t?t.length:1,r=e.projection=xD(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?y1(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function _1(t,e=0,n,r,i,o){let s=z(),a=Ce(),u=r?t+1:null;u!==null&&ds(s,a,u,r,i,o,null,n);let l=ms(a,be+t,16,null,n||null);l.projection===null&&(l.projection=e),lm();let p=!s[Ui]||om();s[Ct][bt].projection[l.projection]===null&&u!==null?E1(s,a,u):p&&!kd(l)&&dL(a,s,l)}function E1(t,e,n){let r=be+n,i=e.data[r],o=t[r],s=vd(o,i.tView.ssrId),a=cc(t,i,void 0,{dehydratedView:s});uc(o,a,0,ls(i,s))}function XS(t,e,n,r){SS(t,e,n,r)}function I1(t,e,n){CS(t,e,n)}function eA(t){let e=z(),n=Ce(),r=Yl();qa(r+1);let i=Ky(n,r);if(t.dirty&&HD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=RS(e,r);t.reset(o,hC),t.notifyOnChanges()}return!0}return!1}function tA(){return Wy(z(),Yl())}function w1(t,e,n,r,i){MS(e,SS(t,n,r,i))}function T1(t,e,n,r){MS(t,CS(e,n,r))}function D1(t=1){qa(Yl()+t)}function b1(t){let e=XD();return Ba(e,be+t)}function od(t,e){return t<<17|e<<2}function to(t){return t>>17&32767}function C1(t){return(t&2)==2}function S1(t,e){return t&131071|e<<17}function hy(t){return t|2}function hs(t){return(t&131068)>>2}function Am(t,e){return t&-131069|e<<2}function A1(t){return(t&1)===1}function fy(t){return t|1}function R1(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=to(s),u=hs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Jo(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=to(t[a+1]);t[r+1]=od(g,a),g!==0&&(t[g+1]=Am(t[g+1],r)),t[a+1]=S1(t[a+1],r)}else t[r+1]=od(a,0),a!==0&&(t[a+1]=Am(t[a+1],r)),a=r;else t[r+1]=od(u,0),a===0?a=r:t[u+1]=Am(t[u+1],r),u=r;l&&(t[r+1]=hy(t[r+1])),qb(t,h,r,!0),qb(t,h,r,!1),N1(e,h,t,r,o),s=od(a,u),o?e.classBindings=s:e.styleBindings=s}function N1(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Jo(o,e)>=0&&(n[r+1]=fy(n[r+1]))}function qb(t,e,n,r){let i=t[n+1],o=e===null,s=r?to(i):hs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];M1(u,e)&&(a=!0,t[s+1]=r?fy(l):hy(l)),s=r?to(l):hs(l)}a&&(t[n+1]=r?hy(i):fy(i))}function M1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Jo(t,e)>=0:!1}var dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P1(t){return t.substring(dn.key,dn.keyEnd)}function x1(t){return O1(t),nA(t,rA(t,0,dn.textEnd))}function nA(t,e){let n=dn.textEnd;return n===e?-1:(e=dn.keyEnd=k1(t,dn.key=e,n),rA(t,e,n))}function O1(t){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=t.length}function rA(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function k1(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function iA(t,e,n){return sA(t,e,n,!1),iA}function oA(t,e){return sA(t,e,null,!0),oA}function L1(t){V1(z1,F1,t,!0)}function F1(t,e){for(let n=x1(e);n>=0;n=nA(e,n))$l(t,P1(e),!0)}function sA(t,e,n,r){let i=z(),o=Ce(),s=Kl(2);if(o.firstUpdatePass&&cA(o,t,s,r),e!==At&&Ut(i,s,e)){let a=o.data[An()];uA(o,a,i,i[Ie],t,i[s+1]=G1(e,n),r,s)}}function V1(t,e,n,r){let i=Ce(),o=Kl(2);i.firstUpdatePass&&cA(i,null,o,r);let s=z();if(n!==At&&Ut(s,o,n)){let a=i.data[An()];if(lA(a,r)&&!aA(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Fl(u,n||"")),dy(i,a,s,n,r)}else q1(i,a,s,s[Ie],s[o+1],s[o+1]=H1(t,e,n),r,o)}}function aA(t,e){return e>=t.expandoStartIndex}function cA(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[An()],s=aA(t,n);lA(o,r)&&e===null&&!s&&(e=!1),e=j1(i,o,e,r),R1(i,o,e,n,s,r)}}function j1(t,e,n,r){let i=ob(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Rm(null,t,e,n,r),n=rc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Rm(i,t,e,n,r),o===null){let u=U1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Rm(null,t,e,u[1],r),u=rc(u,e.attrs,r),B1(t,e,r,u))}else o=$1(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function U1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(hs(r)!==0)return t[to(r)]}function B1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[to(i)]=r}function $1(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=rc(r,s,n)}return rc(r,e.attrs,n)}function Rm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=rc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function rc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),$l(t,s,n?!0:e[++o]))}return t===void 0?null:t}function H1(t,e,n){if(n==null||n==="")return gt;let r=[],i=hn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function z1(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&$l(t,r,n)}function q1(t,e,n,r,i,o,s,a){i===At&&(i=gt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,w=null,R;h===p?(u+=2,l+=2,g!==y&&(w=p,R=y)):p===null||h!==null&&h<p?(u+=2,w=h):(l+=2,w=p,R=y),w!==null&&uA(t,e,n,r,w,R,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function uA(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=A1(l)?Gb(u,e,n,i,hs(l),s):void 0;if(!Rd(h)){Rd(o)||C1(l)&&(o=Gb(u,null,n,i,a,s));let p=Jg(An(),n);fL(r,s,p,i,o)}}function Gb(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===At&&(g=p?gt:void 0);let y=p?Hl(g,r):h===r?g:void 0;if(l&&!Rd(y)&&(y=Hl(u,r)),Rd(y)&&(a=y,s))return a;let w=t[i+1];i=s?to(w):hs(w)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Hl(u,r))}return a}function Rd(t){return t!==void 0}function G1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ir(hn(t)))),t}function lA(t,e){return(t.flags&(e?8:16))!==0}function W1(t,e=""){let n=z(),r=Ce(),i=t+be,o=r.firstCreatePass?ms(r,i,1,e,null):r.data[i],s=K1(r,n,o,e,t);n[i]=s,Xl()&&Oy(r,n,s,o),is(o,!1)}var K1=(t,e,n,r,i)=>(Wa(!0),Wk(e[Ie],r));function dA(t,e,n,r=""){return Ut(t,ni(),n)?e+ji(n)+r:At}function Q1(t,e,n,r,i,o=""){let s=eb(),a=Gy(t,s,n,i);return Kl(2),a?e+ji(n)+r+ji(i)+o:At}function hA(t){return fv("",t),hA}function fv(t,e,n){let r=z(),i=dA(r,t,e,n);return i!==At&&pA(r,An(),i),fv}function fA(t,e,n,r,i){let o=z(),s=Q1(o,t,e,n,r,i);return s!==At&&pA(o,An(),s),fA}function pA(t,e,n){let r=Jg(e,t);Kk(t[Ie],r,n)}function gA(t,e,n){vm(e)&&(e=e());let r=z(),i=ni();if(Ut(r,i,e)){let o=Ce(),s=Ga();YC(s,r,t,e,r[Ie],n)}return gA}function Y1(t,e){let n=vm(t);return n&&t.set(e),n}function mA(t,e){let n=z(),r=Ce(),i=Be();return ZS(r,n,n[Ie],i,t,e),mA}function J1(t,e,n=""){return dA(z(),t,e,n)}function Z1(t,e,n){let r=Ce();if(r.firstCreatePass){let i=Sn(t);py(n,r.data,r.blueprint,i,!0),py(e,r.data,r.blueprint,i,!1)}}function py(t,e,n,r,i){if(t=ot(t),Array.isArray(t))for(let o=0;o<t.length;o++)py(t[o],e,n,r,i);else{let o=Ce(),s=z(),a=Be(),u=Li(t)?t:ot(t.provide),l=qg(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Li(t)||!t.multi){let y=new Ji(l,i,we,null),w=Mm(u,e,i?h:h+g,p);w===-1?(xm(gd(a,s),o,u),Nm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[w]=y,s[w]=y)}else{let y=Mm(u,e,h+g,p),w=Mm(u,e,h,h+g),R=y>=0&&n[y],N=w>=0&&n[w];if(i&&!N||!i&&!R){xm(gd(a,s),o,u);let x=tV(i?eV:X1,n.length,i,r,l,t);!i&&N&&(n[w].providerFactory=x),Nm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=yA(n[i?w:y],l,!i&&r);Nm(o,t,y>-1?y:w,x)}!i&&r&&N&&n[w].componentProviders++}}}function Nm(t,e,n,r){let i=Li(e),o=jD(e);if(i||o){let u=(o?ot(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function yA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function X1(t,e,n,r,i){return gy(this.multi,[])}function eV(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Za(r,r[H],this.providerFactory.index,i);s=u.slice(0,a),gy(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],gy(o,s);return s}function gy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function tV(t,e,n,r,i,o){let s=new Ji(t,n,we,null);return s.multi=[],s.index=e,s.componentProviders=0,yA(s,i,r&&!n),s}function nV(t,e=[]){return n=>{n.providersResolver=(r,i)=>Z1(r,i?i(t):t,e)}}function rV(t,e,n){let r=za()+t,i=z();return i[r]===At?Hd(i,r,n?e.call(n):e()):cF(i,r)}function pv(t,e){let n=t[e];return n===At?void 0:n}function iV(t,e,n,r,i,o){let s=e+n;return Ut(t,s,i)?Hd(t,s+1,o?r.call(o,i):r(i)):pv(t,s+1)}function oV(t,e,n,r,i,o,s){let a=e+n;return Gy(t,a,i,o)?Hd(t,a+2,s?r.call(s,i,o):r(i,o)):pv(t,a+2)}function sV(t,e,n,r,i,o,s,a){let u=e+n;return uF(t,u,i,o,s)?Hd(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):pv(t,u+3)}function aV(t,e){let n=Ce(),r,i=t+be;n.firstCreatePass?(r=cV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Wr(r.type,!0)),s,a=Tt(we);try{let u=pd(!1),l=o();return pd(u),Zg(n,z(),i,l),l}finally{Tt(a)}}function cV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function uV(t,e,n){let r=t+be,i=z(),o=Ba(i,r);return gv(i,r)?iV(i,za(),e,o.transform,n,o):o.transform(n)}function lV(t,e,n,r){let i=t+be,o=z(),s=Ba(o,i);return gv(o,i)?oV(o,za(),e,s.transform,n,r,s):s.transform(n,r)}function dV(t,e,n,r,i){let o=t+be,s=z(),a=Ba(s,o);return gv(s,o)?sV(s,za(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function gv(t,e){return t[H].data[e].pure}function hV(t,e){return Bd(t,e)}var Nd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},mv=(()=>{class t{compileModuleSync(n){return new Dd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Bg(n),o=OC(i.declarations).reduce((s,a)=>{let u=sr(a);return u&&s.push(new Xi(u)),s},[]);return new Nd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fV=(()=>{class t{zone=P(Ue);changeDetectionScheduler=P(on);applicationRef=P(ai);applicationErrorHandler=P(Mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ue(he(F({},_A()),{scheduleInRootZone:n})),[{provide:Ue,useFactory:t},{provide:or,multi:!0,useFactory:()=>{let r=P(fV,{optional:!0});return()=>r.initialize()}},{provide:or,multi:!0,useFactory:()=>{let r=P(pV);return()=>{r.initialize()}}},e===!0?{provide:_m,useValue:!0}:[],{provide:Em,useValue:n??VS},{provide:Mt,useFactory:()=>{let r=P(Ue),i=P(Qe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Gt),o.handleError(s))})}}}]}function _A(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var pV=(()=>{class t{subscription=new Oe;initialized=!1;zone=P(Ue);pendingTasks=P(cr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var EA=(()=>{class t{applicationErrorHandler=P(Mt);appRef=P(ai);taskService=P(cr);ngZone=P(Ue);zonelessEnabled=P(Ka);tracing=P(si,{optional:!0});disableScheduling=P(_m,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Oe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Em,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?jb:jS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gV(){return typeof $localize<"u"&&$localize.locale||pc}var ys=new $("",{providedIn:"root",factory:()=>P(ys,{optional:!0,skipSelf:!0})||gV()});function Zt(t){return ID(t)}function mV(t,e){return wa(t,e?.equal)}var yv=class{[We];constructor(e){this[We]=e}destroy(){this[We].destroy()}};function yV(t,e){let n=e?.injector??P(Dt),r=e?.manualCleanup!==!0?n.get(un):null,i,o=n.get(Wi,null,{optional:!0}),s=n.get(on);return o!==null?(i=EV(o.view,s,t),r instanceof Oa&&r._lView===o.view&&(r=null)):i=IV(t,n.get(Qa),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new yv(i)}var IA=he(F({},wD),{cleanupFns:void 0,zone:null,onDestroyFn:Ki,run(){let t=os(!1);try{TD(this)}finally{os(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=J(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],J(t)}}}),vV=he(F({},IA),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){jr(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),_V=he(F({},IA),{consumerMarkedDirty(){this.view[Y]|=8192,ti(this.view),this.notifier.notify(13)},destroy(){jr(this),this.onDestroyFn(),this.cleanup(),this.view[ar]?.delete(this)}});function EV(t,e,n){let r=Object.create(_V);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=wA(r,n),t[ar]??=new Set,t[ar].add(r),r.consumerMarkedDirty(r),r}function IV(t,e,n){let r=Object.create(vV);return r.fn=wA(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function wA(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}var RA=Symbol("InputSignalNode#UNSET"),xV=he(F({},Ta),{transformFn:void 0,applyValueToInputSignal(t,e){Vo(t,e)}});function NA(t,e){let n=Object.create(xV);n.value=t,n.transformFn=e?.transform;function r(){if(Si(n),n.value===RA){let i=null;throw new k(-950,i)}return n.value}return r[We]=n,r}var eh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>ic(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},OV=new $("");OV.__NG_ELEMENT_ID__=t=>{let e=Be();if(e===null)throw new k(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new k(204,!1)};function TA(t,e){return NA(t,e)}function kV(t){return NA(RA,t)}var MA=(TA.required=kV,TA);function DA(t,e){return Qy(e)}function LV(t,e){return Yy(e)}var uee=(DA.required=LV,DA);function bA(t,e){return Qy(e)}function FV(t,e){return Yy(e)}var lee=(bA.required=FV,bA);var th=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},dee=new th("20.2.4");var _v=new $(""),VV=new $("");function gc(t){return!t.moduleRef}function jV(t){let e=gc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ue);return n.run(()=>{gc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Mt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),gc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(_v);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(_v);s.add(o),t.moduleRef.onDestroy(()=>{Ja(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return BV(r,n,()=>{let o=e.get(cr),s=o.add(),a=e.get(rv);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(ys,pc);if(YS(u||pc),!e.get(VV,!0))return gc(t)?e.get(ai):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(gc(t)){let h=e.get(ai);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return UV?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var UV;function BV(t,e,n){try{let r=n();return io(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Xd=null;function $V(t=[],e){return Dt.create({name:e,providers:[{provide:Fa,useValue:"platform"},{provide:_v,useValue:new Set([()=>Xd=null])},...t]})}function HV(t=[]){if(Xd)return Xd;let e=$V(t);return Xd=e,HS(),zV(e),e}function zV(t){let e=t.get(xd,null);mt(t,()=>{e?.forEach(n=>n())})}function hee(){return!1}var mc=(()=>{class t{static __NG_ELEMENT_ID__=qV}return t})();function qV(t){return GV(Be(),z(),(t&16)===16)}function GV(t,e,n){if(ei(t)&&!n){let r=Yt(t.index,e);return new ii(r,r)}else if(t.type&175){let r=e[Ct];return new ii(r,e)}return null}var Ev=class{constructor(){}supports(e){return qy(e)}create(e){return new Iv(e)}},WV=(t,e)=>e,Iv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||WV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<CA(r,i,o)?n:r,a=CA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,w=y+g;h<=w&&w<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!qy(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,yS(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new wv(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new nh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Tv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},nh=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Tv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function CA(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function SA(){return new bv([new Ev])}var bv=(()=>{class t{factories;static \u0275prov=B({token:t,providedIn:"root",factory:SA});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=P(t,{optional:!0,skipSelf:!0});return t.create(n,r||SA())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new k(901,!1)}}return t})();function PA(t){_e(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=HV(r),o=[vA({}),{provide:on,useExisting:EA},pb,...n||[]],s=new tc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return jV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{_e(9)}}function rh(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function fee(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var vv=Symbol("NOT_SET"),xA=new Set,KV=he(F({},Ta),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:vv,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(t){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==vv&&!Ri(this))return this.signal;try{for(let i of this.cleanup??xA)i()}finally{this.cleanup?.clear()}let e=[];t!==void 0&&e.push(t),e.push(this.registerCleanupFn);let n=Vr(this),r;try{r=this.userFn.apply(null,e)}finally{Ai(this,n)}return(this.value===vv||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),Dv=class extends nc{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,n,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o.get(un),s),this.scheduler=i;for(let a of ev){let u=n[a];if(u===void 0)continue;let l=Object.create(KV);l.sequence=this,l.phase=a,l.userFn=u,l.dirty=!0,l.signal=()=>(Si(l),l.value),l.signal[We]=l,l.registerCleanupFn=h=>(l.cleanup??=new Set).add(h),this.nodes[a]=l,this.hooks[a]=h=>l.phaseFn(h)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let n of e.cleanup??xA)n()}finally{jr(e)}}};function pee(t,e){let n=e?.injector??P(Dt),r=n.get(on),i=n.get(Gd),o=n.get(si,null,{optional:!0});i.impl??=n.get(tv);let s=t;typeof s=="function"&&(s={mixedReadWrite:t});let a=n.get(Wi,null,{optional:!0}),u=new Dv(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,n,o?.snapshot(null));return i.impl.register(u),u}function gee(t,e){let n=sr(t),r=e.elementInjector||Xo();return new Xi(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var LA=null;function mr(){return LA}function Cv(t){LA??=t}var yc=class{},vc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(FA),providedIn:"platform"})}return t})();var FA=(()=>{class t extends vc{_location;_history;_doc=P(Je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mr().getBaseHref(this._doc)}onPopState(n){let r=mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ih(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function OA(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function gn(t){return t&&t[0]!=="?"?`?${t}`:t}var Pn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(Sv),providedIn:"root"})}return t})(),oh=new $(""),Sv=(()=>{class t extends Pn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ih(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+gn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+gn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+gn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(K(vc),K(oh,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oo=(()=>{class t{_subject=new Ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=JV(OA(kA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gn(r))}normalize(n){return t.stripTrailingSlash(YV(this._basePath,kA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=gn;static joinWithSlash=ih;static stripTrailingSlash=OA;static \u0275fac=function(r){return new(r||t)(K(Pn))};static \u0275prov=B({token:t,factory:()=>QV(),providedIn:"root"})}return t})();function QV(){return new oo(K(Pn))}function YV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function kA(t){return t.replace(/\/index.html$/,"")}function JV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Fv=(()=>{class t extends Pn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=ih(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+gn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+gn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(K(vc),K(oh,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();var Vv=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(Vv||{});var yt=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(yt||{}),Te=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Te||{}),xt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(xt||{}),Ot={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function HA(t){return Pt(t)[Le.LocaleId]}function zA(t,e,n){let r=Pt(t),i=[r[Le.DayPeriodsFormat],r[Le.DayPeriodsStandalone]],o=Xt(i,e);return Xt(o,n)}function qA(t,e,n){let r=Pt(t),i=[r[Le.DaysFormat],r[Le.DaysStandalone]],o=Xt(i,e);return Xt(o,n)}function GA(t,e,n){let r=Pt(t),i=[r[Le.MonthsFormat],r[Le.MonthsStandalone]],o=Xt(i,e);return Xt(o,n)}function WA(t,e){let r=Pt(t)[Le.Eras];return Xt(r,e)}function _c(t,e){let n=Pt(t);return Xt(n[Le.DateFormat],e)}function Ec(t,e){let n=Pt(t);return Xt(n[Le.TimeFormat],e)}function Ic(t,e){let r=Pt(t)[Le.DateTimeFormat];return Xt(r,e)}function xn(t,e){let n=Pt(t),r=n[Le.NumberSymbols][e];if(typeof r>"u"){if(e===Ot.CurrencyDecimal)return n[Le.NumberSymbols][Ot.Decimal];if(e===Ot.CurrencyGroup)return n[Le.NumberSymbols][Ot.Group]}return r}function KA(t,e){return Pt(t)[Le.NumberFormats][e]}function QA(t){if(!t[Le.ExtraData])throw new k(2303,!1)}function YA(t){let e=Pt(t);return QA(e),(e[Le.ExtraData][2]||[]).map(r=>typeof r=="string"?Av(r):[Av(r[0]),Av(r[1])])}function JA(t,e,n){let r=Pt(t);QA(r);let i=[r[Le.ExtraData][0],r[Le.ExtraData][1]],o=Xt(i,e)||[];return Xt(o,n)||[]}function Xt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new k(2304,!1)}function Av(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var ZV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sh={},XV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ZA(t,e,n,r){let i=cj(t);e=yr(n,e)||e;let s=[],a;for(;e;)if(a=XV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=e0(r,u),i=aj(i,r));let l="";return s.forEach(h=>{let p=oj(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function dh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function yr(t,e){let n=HA(t);if(sh[n]??={},sh[n][e])return sh[n][e];let r="";switch(e){case"shortDate":r=_c(t,xt.Short);break;case"mediumDate":r=_c(t,xt.Medium);break;case"longDate":r=_c(t,xt.Long);break;case"fullDate":r=_c(t,xt.Full);break;case"shortTime":r=Ec(t,xt.Short);break;case"mediumTime":r=Ec(t,xt.Medium);break;case"longTime":r=Ec(t,xt.Long);break;case"fullTime":r=Ec(t,xt.Full);break;case"short":let i=yr(t,"shortTime"),o=yr(t,"shortDate");r=ah(Ic(t,xt.Short),[i,o]);break;case"medium":let s=yr(t,"mediumTime"),a=yr(t,"mediumDate");r=ah(Ic(t,xt.Medium),[s,a]);break;case"long":let u=yr(t,"longTime"),l=yr(t,"longDate");r=ah(Ic(t,xt.Long),[u,l]);break;case"full":let h=yr(t,"fullTime"),p=yr(t,"fullDate");r=ah(Ic(t,xt.Full),[h,p]);break}return r&&(sh[n][e]=r),r}function ah(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function mn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function ej(t,e){return mn(t,3).substring(0,e)}function $e(t,e,n=0,r=!1,i=!1){return function(o,s){let a=tj(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return ej(a,e);let u=xn(s,Ot.MinusSign);return mn(a,e,u,r,i)}}function tj(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new k(2301,!1)}}function Se(t,e,n=yt.Format,r=!1){return function(i,o){return nj(i,o,t,e,n,r)}}function nj(t,e,n,r,i,o){switch(n){case 2:return GA(e,i,r)[t.getMonth()];case 1:return qA(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=YA(e),h=JA(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,w]=g,R=s>=y.hours&&a>=y.minutes,N=s<w.hours||s===w.hours&&a<w.minutes;if(y.hours<w.hours){if(R&&N)return!0}else if(R||N)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return zA(e,i,r)[s<12?0:1];case 3:return WA(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new k(2302,!1)}}function ch(t){return function(e,n,r){let i=-1*r,o=xn(n,Ot.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+mn(s,2,o)+mn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+mn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+mn(s,2,o)+":"+mn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+mn(s,2,o)+":"+mn(Math.abs(i%60),2,o);default:throw new k(2302,!1)}}}var rj=0,lh=4;function ij(t){let e=dh(t,rj,1).getDay();return dh(t,0,1+(e<=lh?lh:lh+7)-e)}function XA(t){let e=t.getDay(),n=e===0?-3:lh-e;return dh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Rv(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=XA(n),s=ij(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return mn(i,t,xn(r,Ot.MinusSign))}}function uh(t,e=!1){return function(n,r){let o=XA(n).getFullYear();return mn(o,t,xn(r,Ot.MinusSign),e)}}var Nv={};function oj(t){if(Nv[t])return Nv[t];let e;switch(t){case"G":case"GG":case"GGG":e=Se(3,Te.Abbreviated);break;case"GGGG":e=Se(3,Te.Wide);break;case"GGGGG":e=Se(3,Te.Narrow);break;case"y":e=$e(0,1,0,!1,!0);break;case"yy":e=$e(0,2,0,!0,!0);break;case"yyy":e=$e(0,3,0,!1,!0);break;case"yyyy":e=$e(0,4,0,!1,!0);break;case"Y":e=uh(1);break;case"YY":e=uh(2,!0);break;case"YYY":e=uh(3);break;case"YYYY":e=uh(4);break;case"M":case"L":e=$e(1,1,1);break;case"MM":case"LL":e=$e(1,2,1);break;case"MMM":e=Se(2,Te.Abbreviated);break;case"MMMM":e=Se(2,Te.Wide);break;case"MMMMM":e=Se(2,Te.Narrow);break;case"LLL":e=Se(2,Te.Abbreviated,yt.Standalone);break;case"LLLL":e=Se(2,Te.Wide,yt.Standalone);break;case"LLLLL":e=Se(2,Te.Narrow,yt.Standalone);break;case"w":e=Rv(1);break;case"ww":e=Rv(2);break;case"W":e=Rv(1,!0);break;case"d":e=$e(2,1);break;case"dd":e=$e(2,2);break;case"c":case"cc":e=$e(7,1);break;case"ccc":e=Se(1,Te.Abbreviated,yt.Standalone);break;case"cccc":e=Se(1,Te.Wide,yt.Standalone);break;case"ccccc":e=Se(1,Te.Narrow,yt.Standalone);break;case"cccccc":e=Se(1,Te.Short,yt.Standalone);break;case"E":case"EE":case"EEE":e=Se(1,Te.Abbreviated);break;case"EEEE":e=Se(1,Te.Wide);break;case"EEEEE":e=Se(1,Te.Narrow);break;case"EEEEEE":e=Se(1,Te.Short);break;case"a":case"aa":case"aaa":e=Se(0,Te.Abbreviated);break;case"aaaa":e=Se(0,Te.Wide);break;case"aaaaa":e=Se(0,Te.Narrow);break;case"b":case"bb":case"bbb":e=Se(0,Te.Abbreviated,yt.Standalone,!0);break;case"bbbb":e=Se(0,Te.Wide,yt.Standalone,!0);break;case"bbbbb":e=Se(0,Te.Narrow,yt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Se(0,Te.Abbreviated,yt.Format,!0);break;case"BBBB":e=Se(0,Te.Wide,yt.Format,!0);break;case"BBBBB":e=Se(0,Te.Narrow,yt.Format,!0);break;case"h":e=$e(3,1,-12);break;case"hh":e=$e(3,2,-12);break;case"H":e=$e(3,1);break;case"HH":e=$e(3,2);break;case"m":e=$e(4,1);break;case"mm":e=$e(4,2);break;case"s":e=$e(5,1);break;case"ss":e=$e(5,2);break;case"S":e=$e(6,1);break;case"SS":e=$e(6,2);break;case"SSS":e=$e(6,3);break;case"Z":case"ZZ":case"ZZZ":e=ch(0);break;case"ZZZZZ":e=ch(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ch(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=ch(2);break;default:return null}return Nv[t]=e,e}function e0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function sj(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function aj(t,e,n){let i=t.getTimezoneOffset(),o=e0(e,i);return sj(t,-1*(o-i))}function cj(t){if(VA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return dh(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(ZV))return uj(r)}let e=new Date(t);if(!VA(e))throw new k(2302,!1);return e}function uj(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function VA(t){return t instanceof Date&&!isNaN(t.valueOf())}var lj=/^(\d+)?\.((\d+)(-(\d+))?)?$/,jA=22,hh=".",wc="0",dj=";",hj=",",Mv="#";function fj(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=xn(n,Ot.Infinity);else{let l=mj(t);s&&(l=gj(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let U=o.match(lj);if(U===null)throw new k(2306,!1);let X=U[1],ge=U[3],Pe=U[5];X!=null&&(h=Pv(X)),ge!=null&&(p=Pv(ge)),Pe!=null?g=Pv(Pe):ge!=null&&p>g&&(g=p)}yj(l,p,g);let y=l.digits,w=l.integerLen,R=l.exponent,N=[];for(u=y.every(U=>!U);w<h;w++)y.unshift(0);for(;w<0;w++)y.unshift(0);w>0?N=y.splice(w,y.length):(N=y,y=[0]);let x=[];for(y.length>=e.lgSize&&x.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)x.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&x.unshift(y.join("")),a=x.join(xn(n,r)),N.length&&(a+=xn(n,i)+N.join("")),R&&(a+=xn(n,Ot.Exponential)+"+"+R)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function t0(t,e,n){let r=KA(e,Vv.Decimal),i=pj(r,xn(e,Ot.MinusSign));return fj(t,i,e,Ot.Group,Ot.Decimal,n)}function pj(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(dj),i=r[0],o=r[1],s=i.indexOf(hh)!==-1?i.split(hh):[i.substring(0,i.lastIndexOf(wc)+1),i.substring(i.lastIndexOf(wc)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Mv));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===wc?n.minFrac=n.maxFrac=h+1:p===Mv?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(hj);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Mv);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function gj(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function mj(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(hh))>-1&&(e=e.replace(hh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===wc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===wc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>jA&&(r=r.splice(0,jA-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function yj(t,e,n){if(e>n)throw new k(2307,!1);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,y,w){return g=g+p,w[y]=g<10?g:g-10,u&&(w[y]===0&&y>=l?w.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Pv(t){let e=parseInt(t);if(isNaN(e))throw new k(2305,!1);return e}var xv=/\s+/,UA=[],vj=(()=>{class t{_ngEl;_renderer;initialClasses=UA;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(xv):UA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(xv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(xv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(we(hr),we(dc))};static \u0275dir=Jt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var fh=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},n0=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new fh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BA(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(we(pn),we(dr),we(bv))};static \u0275dir=Jt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function BA(t,e){t.context.$implicit=e.item}var _j=(()=>{class t{_viewContainer;_context=new ph;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$A(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$A(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(we(pn),we(dr))};static \u0275dir=Jt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),ph=class{$implicit=null;ngIf=null};function $A(t,e){if(t&&!t.createEmbeddedView)throw new k(2020,!1)}var Ov=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,n){this._viewContainerRef=e,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},r0=(()=>{class t{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Jt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return t})(),Ej=(()=>{class t{ngSwitch;_view;ngSwitchCase;constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new Ov(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||t)(we(pn),we(dr),we(r0,9))};static \u0275dir=Jt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return t})();var Ij=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||t)(we(pn))};static \u0275dir=Jt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[no]})}return t})();function jv(t,e){return new k(2100,!1)}var kv=class{createSubscription(e,n,r){return Zt(()=>e.subscribe({next:n,error:r}))}dispose(e){Zt(()=>e.unsubscribe())}},Lv=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},wj=new Lv,Tj=new kv,Dj=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=P(Mt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(io(n))return wj;if(Kd(n))return Tj;throw jv(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(we(mc,16))};static \u0275pipe=fc({name:"async",type:t,pure:!1})}return t})();var bj="mediumDate",i0=new $(""),o0=new $(""),Cj=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??bj,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ZA(n,s,o||this.locale,a)}catch(s){throw jv(t,s.message)}}static \u0275fac=function(r){return new(r||t)(we(ys,16),we(i0,24),we(o0,24))};static \u0275pipe=fc({name:"date",type:t,pure:!0})}return t})();var Sj=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!Aj(n))return null;i||=this._locale;try{let o=Rj(n);return t0(o,i,r)}catch(o){throw jv(t,o.message)}}static \u0275fac=function(r){return new(r||t)(we(ys,16))};static \u0275pipe=fc({name:"number",type:t,pure:!0})}return t})();function Aj(t){return!(t==null||t===""||t!==t)}function Rj(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new k(2309,!1);return t}var s0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ro({type:t});static \u0275inj=Yr({})}return t})();function Uv(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Tc=class{};var Bv="browser";function yte(t){return t===Bv}var mh=new $(""),Gv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(K(mh),K(Ue))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Dc=class{_doc;constructor(e){this._doc=e}manager},$v="ng-app-id";function a0(t){for(let e of t)e.remove()}function c0(t,e){let n=e.createElement("style");return n.textContent=t,n}function Pj(t,e,n,r){let i=t.head?.querySelectorAll(`style[${$v}="${e}"],link[${$v}="${e}"]`);if(i)for(let o of i)o.removeAttribute($v),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function zv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Wv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,Pj(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,c0);r?.forEach(i=>this.addUsage(i,this.external,zv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(a0(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])a0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,c0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,zv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(K(Je),K(Pd),K(Od,8),K(gs))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Hv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Kv=/%COMP%/g;var l0="%COMP%",xj=`_nghost-${l0}`,Oj=`_ngcontent-${l0}`,kj=!0,Lj=new $("",{providedIn:"root",factory:()=>kj});function Fj(t){return Oj.replace(Kv,t)}function Vj(t){return xj.replace(Kv,t)}function d0(t,e){return e.map(n=>n.replace(Kv,t))}var Qv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,i,o,s,a,u,l=null,h,p,g=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.animationDisabled=h,this.maxAnimationTimeout=p,this.tracingService=g,this.platformIsServer=!1,this.defaultRenderer=new bc(n,s,u,this.platformIsServer,this.tracingService,this.registry=ed(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof gh?i.applyToHost(n):i instanceof Cc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case ur.Emulated:o=new gh(u,l,r,this.appId,h,s,a,p,g,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case ur.ShadowDom:return new qv(u,l,n,r,s,a,this.nonce,p,g,this.registry,this.maxAnimationTimeout);default:o=new Cc(u,l,r,h,s,a,p,g,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(K(Gv),K(Wv),K(Pd),K(Lj),K(Je),K(gs),K(Ue),K(Od),K(iv),K(ov),K(si,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),bc=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o,s,a){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Hv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(u0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(u0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){let{elements:r}=this.registry;if(r){r.animate(n,()=>n.remove(),this.maxAnimationTimeout);return}n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Hv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Hv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(n,r,i&Mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=mr().getGlobalEventTarget(this.doc,e),!e))throw new k(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function u0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var qv=class extends bc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l,h,p){super(e,o,s,u,l,h,p),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=i.styles;g=d0(i.id,g);for(let w of g){let R=document.createElement("style");a&&R.setAttribute("nonce",a),R.textContent=w,this.shadowRoot.appendChild(R)}let y=i.getExternalStyles?.();if(y)for(let w of y){let R=zv(w,o);a&&R.setAttribute("nonce",a),this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cc=class extends bc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,n,r,i,o,s,a,u,l,h,p,g){super(e,o,s,a,u,l,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this._animationDisabled=h;let y=r.styles;this.styles=g?d0(g,y):y,this.styleUrls=r.getExternalStyles?.(g)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},gh=class extends Cc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l,h,p,g){let y=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h,p,g,y),this.contentAttr=Fj(y),this.hostAttr=Vj(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var yh=class t extends yc{supportsDOMEvents=!0;static makeCurrent(){Cv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=jj();return n==null?null:Uj(n)}resetBaseElement(){Sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Uv(document.cookie,e)}},Sc=null;function jj(){return Sc=Sc||document.head.querySelector("base"),Sc?Sc.getAttribute("href"):null}function Uj(t){return new URL(t,document.baseURI).pathname}var Bj=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),f0=(()=>{class t extends Dc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(K(Je))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),h0=["alt","control","meta","shift"],$j={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},p0=(()=>{class t extends Dc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),h0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=$j[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),h0.forEach(s=>{if(s!==i){let a=Hj[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(K(Je))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function zj(t,e){let n=F({rootComponent:t},qj(e));return PA(n)}function qj(t){return{appProviders:[...Yj,...t?.providers??[]],platformProviders:Qj}}function Gj(){yh.makeCurrent()}function Wj(){return new Gt}function Kj(){return _y(document),document}var Qj=[{provide:gs,useValue:Bv},{provide:xd,useValue:Gj,multi:!0},{provide:Je,useFactory:Kj}];var Yj=[{provide:Fa,useValue:"root"},{provide:Gt,useFactory:Wj},{provide:mh,useClass:f0,multi:!0,deps:[Je]},{provide:mh,useClass:p0,multi:!0,deps:[Je]},Qv,Wv,Gv,{provide:Zi,useExisting:Qv},{provide:Tc,useClass:Bj},[]];var Jv=class{};var so=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Zv=class{encodeKey(e){return g0(e)}encodeValue(e){return g0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Jj(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var Zj=/%(\d[a-f0-9])/gi,Xj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function g0(t){return encodeURIComponent(t).replace(Zj,(e,n)=>Xj[n]??e)}function vh(t){return`${t}`}var vr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Zv,e.fromString){if(e.fromObject)throw new k(2805,!1);this.map=Jj(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(vh):[vh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(vh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(vh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Xv=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function eU(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function m0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function y0(t){return typeof Blob<"u"&&t instanceof Blob}function v0(t){return typeof FormData<"u"&&t instanceof FormData}function tU(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var nU="X-Request-URL",_0="text/plain",E0="application/json",Jte=`${E0}, ${_0}, */*`,vs=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(eU(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new k(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new so,this.context??=new Xv,!this.params)this.params=new vr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||m0(this.body)||y0(this.body)||v0(this.body)||tU(this.body)?this.body:this.body instanceof vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||v0(this.body)?null:y0(this.body)?this.body.type||null:m0(this.body)?null:typeof this.body=="string"?_0:this.body instanceof vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?E0:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,u=e.mode||this.mode,l=e.redirect||this.redirect,h=e.credentials||this.credentials,p=e.referrer||this.referrer,g=e.integrity||this.integrity,y=e.transferCache??this.transferCache,w=e.timeout??this.timeout,R=e.body!==void 0?e.body:this.body,N=e.withCredentials??this.withCredentials,x=e.reportProgress??this.reportProgress,U=e.headers||this.headers,X=e.params||this.params,ge=e.context??this.context;return e.setHeaders!==void 0&&(U=Object.keys(e.setHeaders).reduce((Pe,le)=>Pe.set(le,e.setHeaders[le]),U)),e.setParams&&(X=Object.keys(e.setParams).reduce((Pe,le)=>Pe.set(le,e.setParams[le]),X)),new t(n,r,R,{params:X,headers:U,context:ge,reportProgress:x,responseType:i,withCredentials:N,transferCache:y,keepalive:o,cache:a,priority:s,timeout:w,mode:u,redirect:l,credentials:h,referrer:p,integrity:g})}},t_=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(t_||{}),e_=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new so,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}};var _h=class t extends e_{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=t_.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}};function Yv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var rU=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof vs)o=n;else{let u;i.headers instanceof so?u=i.headers:u=new so(i.headers);let l;i.params&&(i.params instanceof vr?l=i.params:l=new vr({fromObject:i.params})),o=new vs(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=Q(o).pipe(qr(u=>this.handler.handle(u)));if(n instanceof vs||i.observe==="events")return s;let a=s.pipe(ft(u=>u instanceof _h));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new k(2806,!1);return u.body}));case"blob":return a.pipe(re(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new k(2807,!1);return u.body}));case"text":return a.pipe(re(u=>{if(u.body!==null&&typeof u.body!="string")throw new k(2808,!1);return u.body}));case"json":default:return a.pipe(re(u=>u.body))}case"response":return a;default:throw new k(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new vr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Yv(i,r))}post(n,r,i={}){return this.request("POST",n,Yv(i,r))}put(n,r,i={}){return this.request("PUT",n,Yv(i,r))}static \u0275fac=function(r){return new(r||t)(K(Jv))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();var Zte=RegExp(`^${nU}:`,"m");var I0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(K(Je))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var iU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=K(oU),i},providedIn:"root"})}return t})(),oU=(()=>{class t extends iU{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case fn.NONE:return r;case fn.HTML:return fr(r,"HTML")?hn(r):Cy(this._doc,String(r)).toString();case fn.STYLE:return fr(r,"Style")?hn(r):r;case fn.SCRIPT:if(fr(r,"Script"))return hn(r);throw new k(5200,!1);case fn.URL:return fr(r,"URL")?hn(r):oc(String(r));case fn.RESOURCE_URL:if(fr(r,"ResourceURL"))return hn(r);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(n){return Iy(n)}bypassSecurityTrustStyle(n){return wy(n)}bypassSecurityTrustScript(n){return Ty(n)}bypassSecurityTrustUrl(n){return Dy(n)}bypassSecurityTrustResourceUrl(n){return by(n)}static \u0275fac=function(r){return new(r||t)(K(Je))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oe="primary",$c=Symbol("RouteTitle"),s_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function uo(t){return new s_(t)}function R0(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function aU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!On(t[n],e[n]))return!1;return!0}function On(t,e){let n=t?a_(t):void 0,r=e?a_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!N0(t[i],e[i]))return!1;return!0}function a_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function N0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function M0(t){return t.length>0?t[t.length-1]:null}function Ir(t){return cg(t)?t:io(t)?ke(Promise.resolve(t)):Q(t)}var cU={exact:x0,subset:O0},P0={exact:uU,subset:lU,ignored:()=>!0};function w0(t,e,n){return cU[n.paths](t.root,e.root,n.matrixParams)&&P0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function uU(t,e){return On(t,e)}function x0(t,e,n){if(!ao(t.segments,e.segments)||!wh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!x0(t.children[r],e.children[r],n))return!1;return!0}function lU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>N0(t[n],e[n]))}function O0(t,e,n){return k0(t,e,e.segments,n)}function k0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ao(i,n)||e.hasChildren()||!wh(i,n,r))}else if(t.segments.length===n.length){if(!ao(t.segments,n)||!wh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!O0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ao(t.segments,i)||!wh(t.segments,i,r)||!t.children[oe]?!1:k0(t.children[oe],e,o,r)}}function wh(t,e,n){return e.every((r,i)=>P0[n](t[i].parameters,r.parameters))}var Ln=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){return fU.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Th(this)}},ci=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=uo(this.parameters),this._parameterMap}toString(){return F0(this)}};function dU(t,e){return ao(t,e)&&t.every((n,r)=>On(n.parameters,e[r].parameters))}function ao(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function hU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var Hc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new lo,providedIn:"root"})}return t})(),lo=class{parse(e){let n=new u_(e);return new Ln(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ac(e.root,!0)}`,r=mU(e.queryParams),i=typeof e.fragment=="string"?`#${pU(e.fragment)}`:"";return`${n}${r}${i}`}},fU=new lo;function Th(t){return t.segments.map(e=>F0(e)).join("/")}function Ac(t,e){if(!t.hasChildren())return Th(t);if(e){let n=t.children[oe]?Ac(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${Ac(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=hU(t,(r,i)=>i===oe?[Ac(t.children[oe],!1)]:[`${i}:${Ac(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${Th(t)}/${n[0]}`:`${Th(t)}/(${n.join("//")})`}}function L0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eh(t){return L0(t).replace(/%3B/gi,";")}function pU(t){return encodeURI(t)}function c_(t){return L0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dh(t){return decodeURIComponent(t)}function T0(t){return Dh(t.replace(/\+/g,"%20"))}function F0(t){return`${c_(t.path)}${gU(t.parameters)}`}function gU(t){return Object.entries(t).map(([e,n])=>`;${c_(e)}=${c_(n)}`).join("")}function mU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Eh(n)}=${Eh(i)}`).join("&"):`${Eh(n)}=${Eh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var yU=/^[^\/()?;#]+/;function n_(t){let e=t.match(yU);return e?e[0]:""}var vU=/^[^\/()?;=#]+/;function _U(t){let e=t.match(vU);return e?e[0]:""}var EU=/^[^=?&#]+/;function IU(t){let e=t.match(EU);return e?e[0]:""}var wU=/^[^&#]+/;function TU(t){let e=t.match(wU);return e?e[0]:""}var u_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new ye(e,n)),r}parseSegment(){let e=n_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new ci(Dh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=_U(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=n_(this.remaining);i&&(r=i,this.capture(r))}e[Dh(n)]=Dh(r)}parseQueryParam(e){let n=IU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=TU(this.remaining);s&&(r=s,this.capture(r))}let i=T0(n),o=T0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=n_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[oe]:new ye([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}};function V0(t){return t.segments.length>0?new ye([],{[oe]:t}):t}function j0(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=j0(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ye(t.segments,e);return DU(n)}function DU(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new ye(t.segments.concat(e.segments),e.children)}return t}function ui(t){return t instanceof Ln}function U0(t,e,n=null,r=null){let i=B0(t);return $0(i,e,n,r)}function B0(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ye(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=V0(r);return e??i}function $0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return r_(i,i,i,n,r);let o=bU(e);if(o.toRoot())return r_(i,i,new ye([],{}),n,r);let s=CU(o,i,t),a=s.processChildren?Nc(s.segmentGroup,s.index,o.commands):z0(s.segmentGroup,s.index,o.commands);return r_(i,s.segmentGroup,a,n,r)}function bh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xc(t){return typeof t=="object"&&t!=null&&t.outlets}function r_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=H0(t,e,n);let a=V0(j0(s));return new Ln(a,o,i)}function H0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=H0(o,e,n)}),new ye(t.segments,r)}var Ch=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bh(r[0]))throw new k(4003,!1);let i=r.find(xc);if(i&&i!==M0(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ch(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ch(n,e,r)}var Is=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function CU(t,e,n){if(t.isAbsolute)return new Is(e,!0,0);if(!n)return new Is(e,!1,NaN);if(n.parent===null)return new Is(n,!0,0);let r=bh(t.commands[0])?0:1,i=n.segments.length-1+r;return SU(n,i,t.numberOfDoubleDots)}function SU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Is(r,!1,i-o)}function AU(t){return xc(t[0])?t[0].outlets:{[oe]:t}}function z0(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Nc(t,e,n);let r=RU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ye(t.segments.slice(0,r.pathIndex),{});return o.children[oe]=new ye(t.segments.slice(r.pathIndex),t.children),Nc(o,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?l_(t,e,n):r.match?Nc(t,0,i):l_(t,e,n)}function Nc(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=AU(n),i={};if(Object.keys(r).some(o=>o!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let o=Nc(t.children[oe],e,n);return new ye(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=z0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(t.segments,i)}}function RU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(xc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!b0(u,l,s))return o;r+=2}else{if(!b0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function l_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(xc(o)){let u=NU(o.outlets);return new ye(r,u)}if(i===0&&bh(n[0])){let u=t.segments[e];r.push(new ci(u.path,D0(n[0]))),i++;continue}let s=xc(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&bh(a)?(r.push(new ci(s,D0(a))),i+=2):(r.push(new ci(s,{})),i++)}return new ye(r,{})}function NU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=l_(new ye([],{}),0,r))}),e}function D0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function b0(t,e,n){return t==n.path&&On(e,n.parameters)}var Mc="imperative",Xe=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Xe||{}),$t=class{id;url;constructor(e,n){this.id=e,this.url=n}},ho=class extends $t{type=Xe.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fn=class extends $t{urlAfterRedirects;type=Xe.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Rt||{}),Oc=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Oc||{}),kn=class extends $t{reason;code;type=Xe.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_r=class extends $t{reason;code;type=Xe.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ts=class extends $t{error;target;type=Xe.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kc=class extends $t{urlAfterRedirects;state;type=Xe.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class extends $t{urlAfterRedirects;state;type=Xe.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class extends $t{urlAfterRedirects;state;shouldActivate;type=Xe.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rh=class extends $t{urlAfterRedirects;state;type=Xe.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nh=class extends $t{urlAfterRedirects;state;type=Xe.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mh=class{route;type=Xe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ph=class{route;type=Xe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xh=class{snapshot;type=Xe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oh=class{snapshot;type=Xe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kh=class{snapshot;type=Xe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lh=class{snapshot;type=Xe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Lc=class{},Ds=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function MU(t){return!(t instanceof Lc)&&!(t instanceof Ds)}function PU(t,e){return t.providers&&!t._injector&&(t._injector=hc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function yn(t){return t.outlet||oe}function xU(t,e){let n=t.filter(r=>yn(r)===e);return n.push(...t.filter(r=>yn(r)!==e)),n}function Ss(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Fh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ss(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new As(this.rootInjector)}},As=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Fh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(K(Qe))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=d_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=d_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=h_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return h_(e,this._root).map(n=>n.value)}};function d_(t,e){if(t===e.value)return e;for(let n of e.children){let r=d_(t,n);if(r)return r}return null}function h_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=h_(t,n);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Es(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Fc=class extends Vh{snapshot;constructor(e,n){super(e),this.snapshot=n,E_(this,e)}toString(){return this.snapshot.toString()}};function q0(t){let e=OU(t),n=new it([new ci("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new Er(n,r,o,s,i,oe,t,e.root);return a.snapshot=e.root,new Fc(new Bt(a,[]),e)}function OU(t){let e={},n={},r={},o=new co([],e,r,"",n,oe,t,null,{});return new Vc("",new Bt(o,[]))}var Er=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[$c]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>uo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>uo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&W0(i)&&(r.resolve[$c]=i.title),r}var co=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$c]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vc=class extends Vh{url;constructor(e,n){super(n),this.url=e,E_(this,n)}toString(){return G0(this._root)}};function E_(t,e){e.value._routerState=t,e.children.forEach(n=>E_(t,n))}function G0(t){let e=t.children.length>0?` { ${t.children.map(G0).join(", ")} } `:"";return`${t.value}${e}`}function i_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,On(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),On(e.params,n.params)||t.paramsSubject.next(n.params),aU(e.url,n.url)||t.urlSubject.next(n.url),On(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function f_(t,e){let n=On(t.params,e.params)&&dU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||f_(t.parent,e.parent))}function W0(t){return typeof t.title=="string"||t.title===null}var K0=new $(""),I_=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new St;deactivateEvents=new St;attachEvents=new St;detachEvents=new St;routerOutletData=MA(void 0);parentContexts=P(As);location=P(pn);changeDetector=P(mc);inputBinder=P(Hh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new p_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Jt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[no]})}return t})(),p_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Er?this.route:e===As?this.childContexts:e===K0?this.outletData:this.parent.get(e,n)}},Hh=new $("");var w_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Jy({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Jd(0,"router-outlet")},dependencies:[I_],encapsulation:2})}return t})();function T_(t){let e=t.children&&t.children.map(T_),n=e?he(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=w_),n}function kU(t,e,n){let r=jc(t,e._root,n?n._root:void 0);return new Fc(r,e)}function jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=LU(t,e,n);return new Bt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>jc(t,a)),s}}let r=FU(e.value),i=e.children.map(o=>jc(t,o));return new Bt(r,i)}}function LU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jc(t,r,i);return jc(t,r)})}function FU(t){return new Er(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var bs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Q0="ngNavigationCancelingError";function Uh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ui(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Y0(!1,Rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Y0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Q0]=!0,n.cancellationCode=e,n}function VU(t){return J0(t)&&ui(t.url)}function J0(t){return!!t&&t[Q0]}var jU=(t,e,n,r)=>re(i=>(new g_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),g_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),i_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Es(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Es(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Es(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Oh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),i_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Bh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ws=class{component;route;constructor(e,n){this.component=e,this.route=n}};function UU(t,e,n){let r=t._root,i=e?e._root:null;return Rc(r,i,n,[r.value])}function BU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Rs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Ag(t)?t:e.get(t):r}function Rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Es(e);return t.children.forEach(s=>{$U(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pc(a,n.getContext(s),i)),i}function $U(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=HU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Bh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Rc(t,e,a?a.children:null,r,i):Rc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ws(a.outlet.component,s))}else s&&Pc(e,a,i),i.canActivateChecks.push(new Bh(r)),o.component?Rc(t,null,a?a.children:null,r,i):Rc(t,null,n,r,i);return i}function HU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ao(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(t.url,e.url)||!On(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!f_(t,e)||!On(t.queryParams,e.queryParams);case"paramsChange":default:return!f_(t,e)}}function Pc(t,e,n){let r=Es(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pc(s,e.children.getContext(o),n):Pc(s,null,n):Pc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ws(e.outlet.component,i)):n.canDeactivateChecks.push(new ws(null,i)):n.canDeactivateChecks.push(new ws(null,i))}function zc(t){return typeof t=="function"}function zU(t){return typeof t=="boolean"}function qU(t){return t&&zc(t.canLoad)}function GU(t){return t&&zc(t.canActivate)}function WU(t){return t&&zc(t.canActivateChild)}function KU(t){return t&&zc(t.canDeactivate)}function QU(t){return t&&zc(t.canMatch)}function Z0(t){return t instanceof tr||t?.name==="EmptyError"}var Ih=Symbol("INITIAL_VALUE");function Cs(){return pt(t=>Sl(t.map(e=>e.pipe(Ft(1),pg(Ih)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===Ih)return Ih;if(n===!1||YU(n))return n}return!0}),ft(e=>e!==Ih),Ft(1)))}function YU(t){return ui(t)||t instanceof bs}function JU(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(he(F({},n),{guardsResult:!0})):ZU(s,r,i,t).pipe(Ve(a=>a&&zU(a)?XU(r,o,t,e):Q(a)),re(a=>he(F({},n),{guardsResult:a})))})}function ZU(t,e,n,r){return ke(t).pipe(Ve(i=>i2(i.component,i.route,n,e,r)),nr(i=>i!==!0,!0))}function XU(t,e,n,r){return ke(e).pipe(qr(i=>Hr(t2(i.route.parent,r),e2(i.route,r),r2(t,i.path,n),n2(t,i.route,n))),nr(i=>i!==!0,!0))}function e2(t,e){return t!==null&&e&&e(new kh(t)),Q(!0)}function t2(t,e){return t!==null&&e&&e(new xh(t)),Q(!0)}function n2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Ra(()=>{let s=Ss(e)??n,a=Rs(o,s),u=GU(a)?a.canActivate(e,t):mt(s,()=>a(e,t));return Ir(u).pipe(nr())}));return Q(i).pipe(Cs())}function r2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>BU(s)).filter(s=>s!==null).map(s=>Ra(()=>{let a=s.guards.map(u=>{let l=Ss(s.node)??n,h=Rs(u,l),p=WU(h)?h.canActivateChild(r,t):mt(l,()=>h(r,t));return Ir(p).pipe(nr())});return Q(a).pipe(Cs())}));return Q(o).pipe(Cs())}function i2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=Ss(e)??i,l=Rs(a,u),h=KU(l)?l.canDeactivate(t,e,n,r):mt(u,()=>l(t,e,n,r));return Ir(h).pipe(nr())});return Q(s).pipe(Cs())}function o2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=Rs(s,t),u=qU(a)?a.canLoad(e,n):mt(t,()=>a(e,n));return Ir(u)});return Q(o).pipe(Cs(),X0(r))}function X0(t){return Xp(Ke(e=>{if(typeof e!="boolean")throw Uh(t,e)}),re(e=>e===!0))}function s2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=Rs(s,t),u=QU(a)?a.canMatch(e,n):mt(t,()=>a(e,n));return Ir(u)});return Q(o).pipe(Cs(),X0(r))}var Uc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Bc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function _s(t){return Wo(new Uc(t))}function a2(t){return Wo(new k(4e3,!1))}function c2(t){return Wo(Y0(!1,Rt.GuardRejected))}var m_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[oe])return a2(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,o){return u2(n,i,o).pipe(re(s=>{if(s instanceof Ln)throw new Bc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Bc(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Ln(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function u2(t,e,n){if(typeof t=="string")return Q(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Ir(mt(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var y_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function l2(t,e,n,r,i){let o=eR(t,e,n);return o.matched?(r=PU(e,r),s2(r,e,n,i).pipe(re(s=>s===!0?o:F({},y_)))):Q(o)}function eR(t,e,n){if(e.path==="**")return d2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},y_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||R0)(n,t,e);if(!i)return F({},y_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function d2(t){return{matched:!0,parameters:t.length>0?M0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function C0(t,e,n,r){return n.length>0&&p2(t,n,r)?{segmentGroup:new ye(e,f2(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&g2(t,n,r)?{segmentGroup:new ye(t.segments,h2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function h2(t,e,n,r){let i={};for(let o of n)if(zh(t,e,o)&&!r[yn(o)]){let s=new ye([],{});i[yn(o)]=s}return F(F({},r),i)}function f2(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&yn(r)!==oe){let i=new ye([],{});n[yn(r)]=i}return n}function p2(t,e,n){return n.some(r=>zh(t,e,r)&&yn(r)!==oe)}function g2(t,e,n){return n.some(r=>zh(t,e,r))}function zh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function m2(t,e,n){return e.length===0&&!t.children[n]}var v_=class{};function y2(t,e,n,r,i,o,s="emptyOnly"){return new __(t,e,n,r,i,s,o).recognize()}var v2=31,__=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new m_(this.urlSerializer,this.urlTree)}noMatchError(e){return new k(4002,`'${e.segmentGroup}'`)}recognize(){let e=C0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new Bt(r,n),o=new Vc("",i),s=U0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new co([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(re(r=>({children:r,rootSnapshot:n})),zr(r=>{if(r instanceof Bc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Uc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(re(s=>s instanceof Bt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(qr(s=>{let a=r.children[s],u=xU(n,s);return this.processSegmentGroup(e,u,a,s,i)}),dg((s,a)=>(s.push(...a),s)),Gr(null),lg(),Ve(s=>{if(s===null)return _s(r);let a=tR(s);return _2(a),Q(a)}))}processSegment(e,n,r,i,o,s,a){return ke(n).pipe(qr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(zr(l=>{if(l instanceof Uc)return Q(null);throw l}))),nr(u=>!!u),zr(u=>{if(Z0(u))return m2(r,i,o)?Q(new v_):_s(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return yn(r)!==s&&(s===oe||!zh(i,o,r))?_s(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):_s(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=eR(n,i,o);if(!u)return _s(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>v2&&(this.allowRedirects=!1));let y=new co(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,S0(i),yn(i),i.component??i._loadedComponent??null,i,A0(i)),w=jh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(w.params),y.data=Object.freeze(w.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(pt(N=>this.applyRedirects.lineralizeSegments(i,N)),Ve(N=>this.processSegment(e,r,n,N.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=l2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(pt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,w=new co(g,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,S0(r),yn(r),r.component??r._loadedComponent??null,r,A0(r)),R=jh(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(R.params),w.data=Object.freeze(R.data);let{segmentGroup:N,slicedSegments:x}=C0(n,g,y,l);if(x.length===0&&N.hasChildren())return this.processChildren(h,l,N,w).pipe(re(X=>new Bt(w,X)));if(l.length===0&&x.length===0)return Q(new Bt(w,[]));let U=yn(r)===o;return this.processSegment(h,l,N,x,U?oe:o,!0,w).pipe(re(X=>new Bt(w,X instanceof Bt?[X]:[])))}))):_s(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):o2(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(Ke(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):c2(n))):Q({routes:[],injector:e})}};function _2(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function E2(t){let e=t.value.routeConfig;return e&&e.path===""}function tR(t){let e=[],n=new Set;for(let r of t){if(!E2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tR(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!n.has(r))}function S0(t){return t.data||{}}function A0(t){return t.resolve||{}}function I2(t,e,n,r,i,o){return Ve(s=>y2(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:u})=>he(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function w2(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of nR(u))s.add(l);let a=0;return ke(s).pipe(qr(u=>o.has(u)?T2(u,r,t,e):(u.data=jh(u,u.parent,t).resolve,Q(void 0))),Ke(()=>a++),Qo(1),Ve(u=>a===s.size?Q(n):ht))})}function nR(t){let e=t.children.map(n=>nR(n)).flat();return[t,...e]}function T2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!W0(i)&&(o[$c]=i.title),Ra(()=>(t.data=jh(t,t.parent,n).resolve,D2(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=F(F({},t.data),s),null)))))}function D2(t,e,n,r){let i=a_(t);if(i.length===0)return Q({});let o={};return ke(i).pipe(Ve(s=>b2(t[s],e,n,r).pipe(nr(),Ke(a=>{if(a instanceof bs)throw Uh(new lo,a);o[s]=a}))),Qo(1),re(()=>o),zr(s=>Z0(s)?ht:Wo(s)))}function b2(t,e,n,r){let i=Ss(e)??r,o=Rs(t,i),s=o.resolve?o.resolve(e,n):mt(i,()=>o(e,n));return Ir(s)}function o_(t){return pt(e=>{let n=t(e);return n?ke(n).pipe(re(()=>e)):Q(e)})}var D_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(n){return n.data[$c]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(rR),providedIn:"root"})}return t})(),rR=(()=>{class t extends D_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(K(I0))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ns=new $("",{providedIn:"root",factory:()=>({})}),qc=new $(""),iR=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(mv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ir(mt(n,()=>r.loadComponent())).pipe(re(sR),pt(aR),Ke(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ko(()=>{this.componentLoaders.delete(r)})),o=new zo(i,()=>new Ne).pipe(Ho());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=oR(r,this.compiler,n,this.onLoadEndListener).pipe(Ko(()=>{this.childrenLoaders.delete(r)})),s=new zo(o,()=>new Ne).pipe(Ho());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oR(t,e,n,r){return Ir(mt(n,()=>t.loadChildren())).pipe(re(sR),pt(aR),Ve(i=>i instanceof zd||Array.isArray(i)?Q(i):ke(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(qc,[],{optional:!0,self:!0}).flat()),{routes:s.map(T_),injector:o}}))}function C2(t){return t&&typeof t=="object"&&"default"in t}function sR(t){return C2(t)?t.default:t}function aR(t){return Q(t)}var qh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(S2),providedIn:"root"})}return t})(),S2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cR=new $("");var uR=new $(""),lR=(()=>{class t{currentNavigation=Rn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ne;transitionAbortWithErrorSubject=new Ne;configLoader=P(iR);environmentInjector=P(Qe);destroyRef=P(un);urlSerializer=P(Hc);rootContexts=P(As);location=P(oo);inputBindingEnabled=P(Hh,{optional:!0})!==null;titleStrategy=P(D_);options=P(Ns,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(qh);createViewTransition=P(cR,{optional:!0});navigationErrorHandler=P(uR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Mh(i)),r=i=>this.events.next(new Ph(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Zt(()=>{this.transitions?.next(he(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new it(null),this.transitions.pipe(ft(r=>r!==null),pt(r=>{let i=!1;return Q(r).pipe(pt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),ht;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?he(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new _r(o.id,this.urlSerializer.serialize(o.rawUrl),"",Oc.IgnoredSameUrlNavigation)),o.resolve(!1),ht;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Q(o).pipe(pt(u=>(this.events.next(new ho(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?ht:Promise.resolve(u))),I2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ke(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new kc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new ho(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let w=q0(this.rootComponentType).snapshot;return this.currentTransition=r=he(F({},o),{targetSnapshot:w,urlAfterRedirects:l,extras:he(F({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=l,R)),Q(r)}else return this.events.next(new _r(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Oc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ht}),Ke(o=>{let s=new Sh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),re(o=>(this.currentTransition=r=he(F({},o),{guards:UU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),JU(this.environmentInjector,o=>this.events.next(o)),Ke(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Uh(this.urlSerializer,o.guardsResult);let s=new Ah(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),ft(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Rt.GuardRejected),!1)),o_(o=>{if(o.guards.canActivateChecks.length!==0)return Q(o).pipe(Ke(s=>{let a=new Rh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),pt(s=>{let a=!1;return Q(s).pipe(w2(this.paramsInheritanceStrategy,this.environmentInjector),Ke({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Rt.NoDataFromResolver)}}))}),Ke(s=>{let a=new Nh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),o_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Ss(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ke(h=>{a.component=h}),re(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Sl(s(o.targetSnapshot.root)).pipe(Gr(null),Ft(1))}),o_(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ke(a).pipe(re(()=>r)):Q(r)}),re(o=>{let s=kU(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=he(F({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Ke(()=>{this.events.next(new Lc)}),jU(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ft(1),Ml(new ae(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(ft(()=>!i&&!r.targetRouterState),Ke(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Rt.Aborted)}))),Ke({next:o=>{i=!0,this.lastSuccessfulNavigation=Zt(this.currentNavigation),this.events.next(new Fn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ml(this.transitionAbortWithErrorSubject.pipe(Ke(o=>{throw o}))),Ko(()=>{i||this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),zr(o=>{if(this.destroyed)return r.resolve(!1),ht;if(i=!0,J0(o))this.events.next(new kn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),VU(o)?this.events.next(new Ds(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ts(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=mt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof bs){let{message:u,cancellationCode:l}=Uh(this.urlSerializer,a);this.events.next(new kn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ds(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return ht}))}))}cancelNavigationTransition(n,r,i){let o=new kn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Zt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function A2(t){return t!==Mc}var dR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(R2),providedIn:"root"})}return t})(),$h=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},R2=(()=>{class t extends $h{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Md(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hR=(()=>{class t{urlSerializer=P(Hc);options=P(Ns,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(oo);urlHandlingStrategy=P(qh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ln;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Ln?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=q0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>P(N2),providedIn:"root"})}return t})(),N2=(()=>{class t extends hR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ho?this.updateStateMemento():n instanceof _r?this.commitTransition(r):n instanceof kc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Lc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof kn&&n.code!==Rt.SupersededByNewNavigation&&n.code!==Rt.Redirect?this.restoreHistory(r):n instanceof Ts?this.restoreHistory(r,!0):n instanceof Fn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Md(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function b_(t,e){t.events.pipe(ft(n=>n instanceof Fn||n instanceof kn||n instanceof Ts||n instanceof _r),re(n=>n instanceof Fn||n instanceof _r?0:(n instanceof kn?n.code===Rt.Redirect||n.code===Rt.SupersededByNewNavigation:!1)?2:1),ft(n=>n!==2),Ft(1)).subscribe(()=>{e()})}var M2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},fo=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Wd);stateManager=P(hR);options=P(Ns,{optional:!0})||{};pendingTasks=P(cr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(lR);urlSerializer=P(Hc);location=P(oo);urlHandlingStrategy=P(qh);injector=P(Qe);_events=new Ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(dR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(qc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Hh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Oe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Zt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof kn&&r.code!==Rt.Redirect&&r.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Fn)this.navigated=!0;else if(r instanceof Ds){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||A2(i.source)},s);this.scheduleNavigation(a,Mc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}MU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Mt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Zt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(T_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=B0(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return $0(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ui(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Mc,null,r)}navigate(n,r={skipLocationChange:!1}){return x2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},M2):r===!1?i=F({},P2):i=r,ui(n))return w0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return w0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return b_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function x2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new k(4008,!1)}var fR=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Rn(null);get href(){return Zt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ne;applicationErrorHandler=P(Mt);options=P(Ns,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new eh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Fn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ui(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ui(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(we(fo),we(Er),ic("tabindex"),we(dc),we(hr),we(Pn))};static \u0275dir=Jt({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Zd("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Yd("href",i.reactiveHref(),Sy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",rh],skipLocationChange:[2,"skipLocationChange","skipLocationChange",rh],replaceUrl:[2,"replaceUrl","replaceUrl",rh],routerLink:"routerLink"},features:[no]})}return t})();var k2=new $("");function L2(t,...e){return Zo([{provide:qc,multi:!0,useValue:t},[],{provide:Er,useFactory:F2,deps:[fo]},{provide:Qd,multi:!0,useFactory:j2},e.map(n=>n.\u0275providers)])}function F2(t){return t.routerState.root}function V2(t,e){return{\u0275kind:t,\u0275providers:e}}function j2(){let t=P(Dt);return e=>{let n=t.get(ai);if(e!==n.components[0])return;let r=t.get(fo),i=t.get(U2);t.get(B2)===1&&r.initialNavigation(),t.get($2,null,{optional:!0})?.setUpPreloading(),t.get(k2,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var U2=new $("",{factory:()=>new Ne}),B2=new $("",{providedIn:"root",factory:()=>1});var $2=new $("");function H2(){return V2(6,[{provide:Pn,useClass:Fv}])}var gR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new S_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let w=l<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},S_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},q2=function(t){let e=gR(t);return mR.encodeByteArray(e,!0)},Gc=function(t){return q2(t).replace(/\./g,"")},R_=function(t){try{return mR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function G2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var W2=()=>G2().__FIREBASE_DEFAULTS__,K2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&R_(t[1]);return e&&JSON.parse(e)},Wh=()=>{try{return W2()||K2()||Q2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N_=t=>{var e,n;return(n=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yR=t=>{let e=N_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},M_=()=>{var t;return(t=Wh())===null||t===void 0?void 0:t.config},P_=t=>{var e;return(e=Wh())===null||e===void 0?void 0:e[`_${t}`]};var Gh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function vR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gc(JSON.stringify(n)),Gc(JSON.stringify(s)),""].join(".")}function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function Y2(){var t;let e=(t=Wh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ER(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TR(){let t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DR(){return!Y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x_(){try{return typeof indexedDB=="object"}catch{return!1}}function bR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var J2="FirebaseError",Ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wr.prototype.create)}},wr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Z2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ht(i,a,r)}};function Z2(t,e){return t.replace(X2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var X2=/\{\$([^}]+)}/g;function CR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function po(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(pR(o)&&pR(s)){if(!po(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function pR(t){return t!==null&&typeof t=="object"}function Ms(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function SR(t,e){let n=new A_(t,e);return n.subscribe.bind(n)}var A_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=C_),i.error===void 0&&(i.error=C_),i.complete===void 0&&(i.complete=C_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function C_(){}var bre=14400*1e3;function He(t){return t&&t._delegate?t._delegate:t}var en=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var go="[DEFAULT]";var O_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Gh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nB(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tB(t){return t===go?void 0:t}function nB(t){return t.instantiationMode==="EAGER"}var Kh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new O_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var rB=[],ce=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ce||{}),iB={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},oB=ce.INFO,sB={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},aB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=sB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},li=class{constructor(e){this.name=e,this._logLevel=oB,this._logHandler=aB,this._userLogHandler=null,rB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var cB=(t,e)=>e.some(n=>t instanceof n),AR,RR;function uB(){return AR||(AR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lB(){return RR||(RR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NR=new WeakMap,L_=new WeakMap,MR=new WeakMap,k_=new WeakMap,V_=new WeakMap;function dB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Vn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&NR.set(n,t)}).catch(()=>{}),V_.set(e,t),e}function hB(t){if(L_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});L_.set(t,e)}var F_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PR(t){F_=t(F_)}function fB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Qh(this),e,...n);return MR.set(r,e.sort?e.sort():[e]),Vn(r)}:lB().includes(t)?function(...e){return t.apply(Qh(this),e),Vn(NR.get(this))}:function(...e){return Vn(t.apply(Qh(this),e))}}function pB(t){return typeof t=="function"?fB(t):(t instanceof IDBTransaction&&hB(t),cB(t,uB())?new Proxy(t,F_):t)}function Vn(t){if(t instanceof IDBRequest)return dB(t);if(k_.has(t))return k_.get(t);let e=pB(t);return e!==t&&(k_.set(t,e),V_.set(e,t)),e}var Qh=t=>V_.get(t);function OR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Vn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Vn(s.result),u.oldVersion,u.newVersion,Vn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var gB=["get","getKey","getAll","getAllKeys","count"],mB=["put","add","delete","clear"],j_=new Map;function xR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(j_.get(e))return j_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=mB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gB.includes(n)))return;let o=function(s,...a){return I(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return j_.set(e,o),o}PR(t=>he(F({},t),{get:(e,n,r)=>xR(e,n)||t.get(e,n,r),has:(e,n)=>!!xR(e,n)||t.has(e,n)}));var B_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function yB(t){let e=t.getComponent();return e?.type==="VERSION"}var $_="@firebase/app",kR="0.10.13";var Tr=new li("@firebase/app"),vB="@firebase/app-compat",_B="@firebase/analytics-compat",EB="@firebase/analytics",IB="@firebase/app-check-compat",wB="@firebase/app-check",TB="@firebase/auth",DB="@firebase/auth-compat",bB="@firebase/database",CB="@firebase/data-connect",SB="@firebase/database-compat",AB="@firebase/functions",RB="@firebase/functions-compat",NB="@firebase/installations",MB="@firebase/installations-compat",PB="@firebase/messaging",xB="@firebase/messaging-compat",OB="@firebase/performance",kB="@firebase/performance-compat",LB="@firebase/remote-config",FB="@firebase/remote-config-compat",VB="@firebase/storage",jB="@firebase/storage-compat",UB="@firebase/firestore",BB="@firebase/vertexai-preview",$B="@firebase/firestore-compat",HB="firebase",zB="10.14.1";var H_="[DEFAULT]",qB={[$_]:"fire-core",[vB]:"fire-core-compat",[EB]:"fire-analytics",[_B]:"fire-analytics-compat",[wB]:"fire-app-check",[IB]:"fire-app-check-compat",[TB]:"fire-auth",[DB]:"fire-auth-compat",[bB]:"fire-rtdb",[CB]:"fire-data-connect",[SB]:"fire-rtdb-compat",[AB]:"fire-fn",[RB]:"fire-fn-compat",[NB]:"fire-iid",[MB]:"fire-iid-compat",[PB]:"fire-fcm",[xB]:"fire-fcm-compat",[OB]:"fire-perf",[kB]:"fire-perf-compat",[LB]:"fire-rc",[FB]:"fire-rc-compat",[VB]:"fire-gcs",[jB]:"fire-gcs-compat",[UB]:"fire-fst",[$B]:"fire-fst-compat",[BB]:"fire-vertex","fire-js":"fire-js",[HB]:"fire-js-all"};var Yh=new Map,GB=new Map,z_=new Map;function LR(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hi(t){let e=t.name;if(z_.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;z_.set(e,t);for(let n of Yh.values())LR(n,t);for(let n of GB.values())LR(n,t);return!0}function Kc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t.settings!==void 0}var WB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new wr("app","Firebase",WB);var q_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}};var fi=zB;function K_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:H_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=M_()),!n)throw di.create("no-options");let o=Yh.get(i);if(o){if(po(n,o.options)&&po(r,o.config))return o;throw di.create("duplicate-app",{appName:i})}let s=new Kh(i);for(let u of z_.values())s.addComponent(u);let a=new q_(n,r,s);return Yh.set(i,a),a}function Jh(t=H_){let e=Yh.get(t);if(!e&&t===H_&&M_())return K_();if(!e)throw di.create("no-app",{appName:t});return e}function vn(t,e,n){var r;let i=(r=qB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}hi(new en(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var KB="firebase-heartbeat-database",QB=1,Wc="firebase-heartbeat-store",U_=null;function UR(){return U_||(U_=OR(KB,QB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),U_}function YB(t){return I(this,null,function*(){try{let n=(yield UR()).transaction(Wc),r=yield n.objectStore(Wc).get(BR(t));return yield n.done,r}catch(e){if(e instanceof Ht)Tr.warn(e.message);else{let n=di.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}})}function FR(t,e){return I(this,null,function*(){try{let r=(yield UR()).transaction(Wc,"readwrite");yield r.objectStore(Wc).put(e,BR(t)),yield r.done}catch(n){if(n instanceof Ht)Tr.warn(n.message);else{let r=di.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(r.message)}}})}function BR(t){return`${t.name}!${t.options.appId}`}var JB=1024,ZB=720*60*60*1e3,G_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new W_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VR();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=ZB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Tr.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=VR(),{heartbeatsToSend:r,unsentEntries:i}=XB(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Tr.warn(n),""}})}};function VR(){return new Date().toISOString().substring(0,10)}function XB(t,e=JB){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var W_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return x_()?bR().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield YB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function jR(t){return Gc(JSON.stringify({version:2,heartbeats:t})).length}function e$(t){hi(new en("platform-logger",e=>new B_(e),"PRIVATE")),hi(new en("heartbeat",e=>new G_(e),"PRIVATE")),vn($_,kR,t),vn($_,kR,"esm2017"),vn("fire-js","")}e$("");function nN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rN=nN,iN=new wr("auth","Firebase",nN());var rf=new li("@firebase/auth");function t$(t,...e){rf.logLevel<=ce.WARN&&rf.warn(`Auth (${fi}): ${t}`,...e)}function Xh(t,...e){rf.logLevel<=ce.ERROR&&rf.error(`Auth (${fi}): ${t}`,...e)}function Bn(t,...e){throw hE(t,...e)}function _n(t,...e){return hE(t,...e)}function dE(t,e,n){let r=Object.assign(Object.assign({},rN()),{[e]:n});return new wr("auth","Firebase",r).create(e,{appName:t.name})}function mo(t){return dE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n$(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bn(t,"argument-error"),dE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iN.create(t,...e)}function ee(t,e,...n){if(!t)throw hE(e,...n)}function Dr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Xh(e),new Error(e)}function Cr(t,e){t||Dr(e)}function J_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function r$(){return $R()==="http:"||$R()==="https:"}function $R(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function i$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r$()||IR()||"connection"in navigator)?navigator.onLine:!0}function o$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var yo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=_R()||wR()}get(){return i$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fE(t,e){Cr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var of=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var s$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var a$=new yo(3e4,6e4);function pE(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Os(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){return oN(t,i,()=>I(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ms(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return ER()||(y.referrerPolicy="no-referrer"),of.fetch()(sN(t,t.config.apiHost,n,p),y)}))})}function oN(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},s$),e);try{let i=new Z_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Zh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Zh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dE(t,h,l);Bn(t,h)}}catch(i){if(i instanceof Ht)throw i;Bn(t,"network-request-failed",{message:String(i)})}})}function c$(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield Os(t,e,n,r,i);return"mfaPendingCredential"in l&&Bn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function sN(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?fE(t.config,i):`${t.config.apiScheme}://${i}`}var Z_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),a$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Zh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=_n(t,e,r);return i.customData._tokenResponse=n,i}function u$(t,e){return I(this,null,function*(){return Os(t,"POST","/v1/accounts:delete",e)})}function aN(t,e){return I(this,null,function*(){return Os(t,"POST","/v1/accounts:lookup",e)})}function Qc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cN(t,e=!1){return I(this,null,function*(){let n=He(t),r=yield n.getIdToken(e),i=gE(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qc(Q_(i.auth_time)),issuedAtTime:Qc(Q_(i.iat)),expirationTime:Qc(Q_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Q_(t){return Number(t)*1e3}function gE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{let i=R_(n);return i?JSON.parse(i):(Xh("Failed to decode base64 JWT payload"),null)}catch(i){return Xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function HR(t){let e=gE(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Jc(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ht&&l$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function l$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var X_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Zc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function sf(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Jc(t,aN(n,{idToken:r}));ee(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lN(o.providerUserInfo):[],a=d$(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Zc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function uN(t){return I(this,null,function*(){let e=He(t);yield sf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function d$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lN(t){return t.map(e=>{var{providerId:n}=e,r=hl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function h$(t,e){return I(this,null,function*(){let n=yield oN(t,{},()=>I(null,null,function*(){let r=Ms({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=sN(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",of.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function f$(t,e){return I(this,null,function*(){return Os(t,"POST","/v2/accounts:revokeToken",pE(t,e))})}var Yc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let n=HR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield h$(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Dr("not implemented")}};function pi(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=hl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield Jc(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return cN(this,e)}reload(){return uN(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield sf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(jn(this.auth.app))return Promise.reject(mo(this.auth));let e=yield this.getIdToken();return yield Jc(this,u$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,U=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:X,emailVerified:ge,isAnonymous:Pe,providerData:le,stsTokenManager:D}=n;ee(X&&D,e,"internal-error");let v=Yc.fromJSON(this.name,D);ee(typeof X=="string",e,"internal-error"),pi(p,e.name),pi(g,e.name),ee(typeof ge=="boolean",e,"internal-error"),ee(typeof Pe=="boolean",e,"internal-error"),pi(y,e.name),pi(w,e.name),pi(R,e.name),pi(N,e.name),pi(x,e.name),pi(U,e.name);let E=new t({uid:X,auth:e,email:g,emailVerified:ge,displayName:p,isAnonymous:Pe,photoURL:w,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:x,lastLoginAt:U});return le&&Array.isArray(le)&&(E.providerData=le.map(T=>Object.assign({},T))),N&&(E._redirectEventId=N),E}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Yc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sf(o),o})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?lN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Yc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Zc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var zR=new Map;function br(t){Cr(t instanceof Function,"Expected a class definition");let e=zR.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zR.set(t,e),e)}var p$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),eE=p$;function ef(t,e,n){return`firebase:${t}:${e}:${n}`}var af=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ef(this.userKey,i.apiKey,o),this.fullPersistenceKey=ef("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(br(eE),e,r);let i=(yield Promise.all(n.map(l=>I(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||br(eE),s=ef(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=xs._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>I(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function qR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mN(e))return"Blackberry";if(yN(e))return"Webos";if(hN(e))return"Safari";if((e.includes("chrome/")||fN(e))&&!e.includes("edge/"))return"Chrome";if(gN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function dN(t=et()){return/firefox\//i.test(t)}function hN(t=et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fN(t=et()){return/crios\//i.test(t)}function pN(t=et()){return/iemobile/i.test(t)}function gN(t=et()){return/android/i.test(t)}function mN(t=et()){return/blackberry/i.test(t)}function yN(t=et()){return/webos/i.test(t)}function mE(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g$(t=et()){var e;return mE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m$(){return TR()&&document.documentMode===10}function vN(t=et()){return mE(t)||gN(t)||yN(t)||mN(t)||/windows phone/i.test(t)||pN(t)}function _N(t,e=[]){let n;switch(t){case"Browser":n=qR(et());break;case"Worker":n=`${qR(et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fi}/${r}`}var tE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function y$(n){return I(this,arguments,function*(t,e={}){return Os(t,"GET","/v2/passwordPolicy",pE(t,e))})}var v$=6,nE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:v$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var rE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cf(this),this.idTokenSubscription=new cf(this),this.beforeStateQueue=new tE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield af.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield aN(this,{idToken:e}),r=yield xs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(jn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield sf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=o$()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(jn(this.app))return Promise.reject(mo(this));let n=e?He(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return jn(this.app)?Promise.reject(mo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return jn(this.app)?Promise.reject(mo(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(br(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield y$(this),n=new nE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield f$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&br(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=yield af.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_N(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&t$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function mf(t){return He(t)}var cf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=SR(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yE={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _$(t){yE=t}function E$(t){return yE.loadJS(t)}function I$(){return yE.gapiScript}function EN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function IN(t,e){let n=Kc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(po(o,e??{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}function w$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(br);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function wN(t,e,n){let r=mf(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=TN(e),{host:s,port:a}=T$(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||D$()}function TN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T$(t){let e=TN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:GR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:GR(s)}}}function GR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function D$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}};function Ps(t,e){return I(this,null,function*(){return c$(t,"POST","/v1/accounts:signInWithIdp",pE(t,e))})}var b$="http://localhost",uf=class t extends Xc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=hl(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return Ps(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Ps(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Ps(e,n)}buildRequest(){let e={requestUri:b$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ms(n)}return e}};var eu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var lf=class extends eu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var vE=(()=>{class t extends lf{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return uf._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var tu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let o=yield xs._fromIdTokenResponse(e,r,i),s=WR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=WR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function WR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var iE=class t extends Ht{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function DN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?iE._fromErrorAndOperation(t,o,e,r):o})}function C$(t,e,n=!1){return I(this,null,function*(){let r=yield Jc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return tu._forOperation(t,"link",r)})}function S$(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(jn(r.app))return Promise.reject(mo(r));let i="reauthenticate";try{let o=yield Jc(t,DN(r,i,e,t),n);ee(o.idToken,r,"internal-error");let s=gE(o.idToken);ee(s,r,"internal-error");let{sub:a}=s;return ee(t.uid===a,r,"user-mismatch"),tu._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Bn(r,"user-mismatch"),o}})}function A$(t,e,n=!1){return I(this,null,function*(){if(jn(t.app))return Promise.reject(mo(t));let r="signIn",i=yield DN(t,r,e),o=yield tu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function bN(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function CN(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function _E(t,e,n,r){return He(t).onAuthStateChanged(e,n,r)}function EE(t){return He(t).signOut()}var df="__sak";var hf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var R$=1e3,N$=10,M$=(()=>{class t extends hf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);m$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,N$):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},R$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield Fr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield Fr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield Fr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),SN=M$;var P$=(()=>{class t extends hf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),IE=P$;function x$(t){return Promise.all(t.map(e=>I(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var O$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>I(this,null,function*(){return h(r.origin,s)})),l=yield x$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function wE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var oE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=wE("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Un(){return window}function k$(t){Un().location.href=t}function AN(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}function L$(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function F$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V$(){return AN()?self:null}var RN="firebaseLocalStorageDb",j$=1,ff="firebaseLocalStorage",NN="fbase_key",vo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function yf(t,e){return t.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function U$(){let t=indexedDB.deleteDatabase(RN);return new vo(t).toPromise()}function sE(){let t=indexedDB.open(RN,j$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ff,{keyPath:NN})}catch(i){n(i)}}),t.addEventListener("success",()=>I(null,null,function*(){let r=t.result;r.objectStoreNames.contains(ff)?e(r):(r.close(),yield U$(),e(yield sE()))}))})}function KR(t,e,n){return I(this,null,function*(){let r=yf(t,!0).put({[NN]:e,value:n});return new vo(r).toPromise()})}function B$(t,e){return I(this,null,function*(){let n=yf(t,!1).get(e),r=yield new vo(n).toPromise();return r===void 0?null:r.value})}function QR(t,e){let n=yf(t,!0).delete(e);return new vo(n).toPromise()}var $$=800,H$=3,z$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield sE(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>H$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return AN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=O$._getInstance(V$()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield L$(),!this.activeServiceWorker)return;this.sender=new oE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||F$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield sE();return yield KR(n,df,"1"),yield QR(n,df),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>KR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>B$(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>QR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let s=yf(o,!1).getAll();return new vo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),$$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),MN=z$;var eie=EN("rcb"),tie=new yo(3e4,6e4);function PN(t,e){return e?br(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var nu=class extends Xc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ps(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function q$(t){return A$(t.auth,new nu(t),t.bypassAuthState)}function G$(t){let{auth:e,user:n}=t;return ee(n,e,"internal-error"),S$(n,new nu(t),t.bypassAuthState)}function W$(t){return I(this,null,function*(){let{auth:e,user:n}=t;return ee(n,e,"internal-error"),C$(n,new nu(t),t.bypassAuthState)})}var pf=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q$;case"linkViaPopup":case"linkViaRedirect":return W$;case"reauthViaPopup":case"reauthViaRedirect":return G$;default:Bn(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var K$=new yo(2e3,1e4);function TE(t,e,n){return I(this,null,function*(){if(jn(t.app))return Promise.reject(_n(t,"operation-not-supported-in-this-environment"));let r=mf(t);n$(t,e,eu);let i=PN(r,n);return new Q$(r,"signInViaPopup",e,i).executeNotNull()})}var Q$=(()=>{class t extends pf{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return I(this,null,function*(){let n=yield this.execute();return ee(n,this.auth,"internal-error"),n})}onExecution(){return I(this,null,function*(){Cr(this.filter.length===1,"Popup operations only handle one event");let n=wE();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,K$.get())};n()}}t.currentPopupAction=null;return t})(),Y$="pendingRedirect",tf=new Map,aE=class t extends pf{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=tf.get(this.auth._key());if(!e){try{let r=(yield J$(this.resolver,this.auth))?yield Fr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tf.set(this.auth._key(),e)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Fr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Fr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function J$(t,e){return I(this,null,function*(){let n=eH(e),r=X$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Z$(t,e){tf.set(t._key(),e)}function X$(t){return br(t._redirectPersistence)}function eH(t){return ef(Y$,t.config.apiKey,t.name)}function tH(t,e,n=!1){return I(this,null,function*(){if(jn(t.app))return Promise.reject(mo(t));let r=mf(t),i=PN(r,e),s=yield new aE(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var nH=600*1e3,cE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nH&&this.cachedEventUids.clear(),this.cachedEventUids.has(YR(e))}saveEventToCache(e){this.cachedEventUids.add(YR(e)),this.lastProcessedEventTime=Date.now()}};function YR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xN(t);default:return!1}}function iH(n){return I(this,arguments,function*(t,e={}){return Os(t,"GET","/v1/projects",e)})}var oH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sH=/^https?/;function aH(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield iH(t);for(let n of e)try{if(cH(n))return}catch{}Bn(t,"unauthorized-domain")})}function cH(t){let e=J_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!sH.test(n))return!1;if(oH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var uH=new yo(3e4,6e4);function JR(){let t=Un().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lH(t){return new Promise((e,n)=>{var r,i,o;function s(){JR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JR(),n(_n(t,"network-request-failed"))},timeout:uH.get()})}if(!((i=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Un().gapi)===null||o===void 0)&&o.load)s();else{let a=EN("iframefcb");return Un()[a]=()=>{gapi.load?s():n(_n(t,"network-request-failed"))},E$(`${I$()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw nf=null,e})}var nf=null;function dH(t){return nf=nf||lH(t),nf}var hH=new yo(5e3,15e3),fH="__/auth/iframe",pH="emulator/auth/iframe",gH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yH(t){let e=t.config;ee(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?fE(e,pH):`https://${t.config.authDomain}/${fH}`,r={apiKey:e.apiKey,appName:t.name,v:fi},i=mH.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ms(r).slice(1)}`}function vH(t){return I(this,null,function*(){let e=yield dH(t),n=Un().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:yH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gH,dontclear:!0},r=>new Promise((i,o)=>I(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=_n(t,"network-request-failed"),a=Un().setTimeout(()=>{o(s)},hH.get());function u(){Un().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var _H={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EH=500,IH=600,wH="_blank",TH="http://localhost",gf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function DH(t,e,n,r=EH,i=IH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},_H),{width:r.toString(),height:i.toString(),top:o,left:s}),l=et().toLowerCase();n&&(a=fN(l)?wH:n),dN(l)&&(e=e||TH,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(g$(l)&&a!=="_self")return bH(e||"",a),new gf(null);let p=window.open(e||"",a,h);ee(p,t,"popup-blocked");try{p.focus()}catch{}return new gf(p)}function bH(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var CH="__/auth/handler",SH="emulator/auth/handler",AH=encodeURIComponent("fac");function ZR(t,e,n,r,i,o){return I(this,null,function*(){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fi,eventId:i};if(e instanceof eu){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",CR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof lf){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${AH}=${encodeURIComponent(u)}`:"";return`${RH(t)}?${Ms(a).slice(1)}${l}`})}function RH({config:t}){return t.emulator?fE(t,SH):`https://${t.authDomain}/${CH}`}var Y_="webStorageSupport",uE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=tH,this._overrideRedirectResult=Z$}_openPopup(e,n,r,i){return I(this,null,function*(){var o;Cr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield ZR(e,n,r,J_(),i);return DH(e,s,wE())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield ZR(e,n,r,J_(),i);return k$(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield vH(e),r=new cE(e);return n.register("authEvent",i=>(ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Y_,{type:Y_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Y_];s!==void 0&&n(!!s),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vN()||hN()||mE()}},ON=uE;var XR="@firebase/auth",eN="1.7.9";var lE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function NH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MH(t){hi(new en("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_N(t)},l=new rE(r,i,o,u);return w$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hi(new en("auth-internal",e=>{let n=mf(e.getProvider("auth").getImmediate());return(r=>new lE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(XR,eN,NH(t)),vn(XR,eN,"esm2017")}var PH=300,xH=P_("authIdTokenMaxAge")||PH,tN=null,OH=t=>e=>I(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xH)return;let i=n?.token;tN!==i&&(tN=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function DE(t=Jh()){let e=Kc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=IN(t,{popupRedirectResolver:ON,persistence:[MN,SN,IE]}),r=P_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=OH(o.toString());CN(n,s,()=>s(n.currentUser)),bN(n,a=>s(a))}}let i=N_("auth");return i&&wN(n,`http://${i}`),n}function kH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=_n("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",kH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MH("Browser");var LH="firebase",FH="10.14.1";vn(LH,FH,"app");var kN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LN={};var gi,bE;(function(){var t;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(T,b,S){for(var _=Array(arguments.length-2),Yn=2;Yn<arguments.length;Yn++)_[Yn-2]=arguments[Yn];return v.prototype[b].apply(T,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)T[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],b=D.g[2];var S=D.g[3],_=v+(S^E&(b^S))+T[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+T[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+T[2]+606105819&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+T[3]+3250441966&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(S^E&(b^S))+T[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+T[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+T[6]+2821735955&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+T[7]+4249261313&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(S^E&(b^S))+T[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+T[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+T[10]+4294925233&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+T[11]+2304563134&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(S^E&(b^S))+T[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=S+(b^v&(E^b))+T[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(E^S&(v^E))+T[14]+2792965006&4294967295,b=S+(_<<17&4294967295|_>>>15),_=E+(v^b&(S^v))+T[15]+1236535329&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(b^S&(E^b))+T[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+T[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+T[11]+643717713&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+T[0]+3921069994&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(E^b))+T[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+T[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+T[15]+3634488961&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+T[4]+3889429448&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(E^b))+T[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+T[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+T[3]+4107603335&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+T[8]+1163531501&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(E^b))+T[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=S+(E^b&(v^E))+T[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(S^v))+T[7]+1735328473&4294967295,b=S+(_<<14&4294967295|_>>>18),_=E+(S^v&(b^S))+T[12]+2368359562&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(E^b^S)+T[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+T[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+T[11]+1839030562&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+T[14]+4259657740&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^S)+T[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+T[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+T[7]+4139469664&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+T[10]+3200236656&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^S)+T[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+T[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+T[3]+3572445317&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+T[6]+76029189&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^S)+T[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=S+(v^E^b)+T[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^E)+T[15]+530742520&4294967295,b=S+(_<<16&4294967295|_>>>16),_=E+(b^S^v)+T[2]+3299628645&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(b^(E|~S))+T[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+T[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+T[14]+2878612391&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+T[5]+4237533241&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~S))+T[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+T[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+T[10]+4293915773&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+T[1]+2240044497&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~S))+T[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+T[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+T[6]+2734768916&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+T[13]+1309151649&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~S))+T[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=S+(E^(v|~b))+T[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~E))+T[2]+718787259&4294967295,b=S+(_<<15&4294967295|_>>>17),_=E+(S^(b|~v))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,T=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=E;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(T[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,T),b=0;break}}else for(;S<v;)if(T[b++]=D[S++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var T=0;32>T;T+=8)D[E++]=this.g[v]>>>T&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],T=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;T&&S==v||(E[b]=S,T=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var v=[],E=1,T=0;D>=E;T++)v[T]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return N(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),T=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),_=parseInt(D.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),T=T.j(S).add(l(_))):(T=T.j(E),T=T.add(l(_)))}return T}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-N(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var T=this.i(E);D+=(0<=T?T:4294967296+T)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(R(this))return"-"+N(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,T="";;){var b=ge(E,v).g;E=x(E,b.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=b,w(E))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=x(this,D),R(D)?-1:w(D)?0:1};function N(D){for(var v=D.g.length,E=[],T=0;T<v;T++)E[T]=~D.g[T];return new s(E,~D.h).add(g)}t.abs=function(){return R(this)?N(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0,b=0;b<=v;b++){var S=T+(this.i(b)&65535)+(D.i(b)&65535),_=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);T=_>>>16,S&=65535,_&=65535,E[b]=_<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function x(D,v){return D.add(N(v))}t.j=function(D){if(w(this)||w(D))return p;if(R(this))return R(D)?N(this).j(N(D)):N(N(this).j(D));if(R(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],T=0;T<2*v;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<D.g.length;b++){var S=this.i(T)>>>16,_=this.i(T)&65535,Yn=D.i(b)>>>16,na=D.i(b)&65535;E[2*T+2*b]+=_*na,U(E,2*T+2*b),E[2*T+2*b+1]+=S*na,U(E,2*T+2*b+1),E[2*T+2*b+1]+=_*Yn,U(E,2*T+2*b+1),E[2*T+2*b+2]+=S*Yn,U(E,2*T+2*b+2)}for(T=0;T<v;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=v;T<2*v;T++)E[T]=0;return new s(E,0)};function U(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function X(D,v){this.g=D,this.h=v}function ge(D,v){if(w(v))throw Error("division by zero");if(w(D))return new X(p,p);if(R(D))return v=ge(N(D),v),new X(N(v.g),N(v.h));if(R(v))return v=ge(D,N(v)),new X(N(v.g),v.h);if(30<D.g.length){if(R(D)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,T=v;0>=T.l(D);)E=Pe(E),T=Pe(T);var b=le(E,1),S=le(T,1);for(T=le(T,2),E=le(E,2);!w(T);){var _=S.add(T);0>=_.l(D)&&(b=b.add(E),S=_),T=le(T,1),E=le(E,1)}return v=x(D,b.j(v)),new X(b,v)}for(b=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=l(E),_=S.j(v);R(_)||0<_.l(D);)E-=T,S=l(E),_=S.j(v);w(S)&&(S=g),b=b.add(S),D=x(D,_)}return new X(b,D)}t.A=function(D){return ge(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)&D.i(T);return new s(E,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)|D.i(T);return new s(E,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],T=0;T<v;T++)E[T]=this.i(T)^D.i(T);return new s(E,this.h^D.h)};function Pe(D){for(var v=D.g.length+1,E=[],T=0;T<v;T++)E[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(E,D.h)}function le(D,v){var E=v>>5;v%=32;for(var T=D.g.length-E,b=[],S=0;S<T;S++)b[S]=0<v?D.i(S+E)>>>v|D.i(S+E+1)<<32-v:D.i(S+E);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bE=LN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,gi=LN.Integer=s}).apply(typeof kN<"u"?kN:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sr={};var CE,VH,ks,SE,ru,_f,AE,RE,NE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function w(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,A){for(var L=Array(arguments.length-2),De=2;De<arguments.length;De++)L[De-2]=arguments[De];return d.prototype[C].apply(m,L)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,A=m.length||0;c.length=C+A;for(let L=0;L<A;L++)c[C+L]=m[L]}else c.push(m)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function U(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var Pe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function le(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function _(){var c=fp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Yn{constructor(){this.h=this.g=null}add(d,f){let m=na.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var na=new x(()=>new TP,c=>c.reset());class TP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ra,ia=!1,fp=new Yn,Lw=()=>{let c=a.Promise.resolve(void 0);ra=()=>{c.then(DP)}};var DP=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){S(f)}var d=na;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ia=!1};function xr(){this.s=this.s,this.C=this.C}xr.prototype.s=!1,xr.prototype.ma=function(){this.s||(this.s=!0,this.N())},xr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var bP=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function oa(c,d){if(at.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Pe){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:CP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oa.aa.h.call(this)}}w(oa,at);var CP={2:"touch",3:"pen",4:"mouse"};oa.prototype.h=function(){oa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var sa="closure_listenable_"+(1e6*Math.random()|0),SP=0;function AP(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++SP,this.da=this.fa=!1}function Au(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ru(c){this.src=c,this.g={},this.h=0}Ru.prototype.add=function(c,d,f,m,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var L=gp(c,d,m,C);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new AP(d,this.src,A,!!m,C),d.fa=f,c.push(d)),d};function pp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(m,C,1),A&&(Au(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function gp(c,d,f,m){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return C}return-1}var mp="closure_lm_"+(1e6*Math.random()|0),yp={};function Fw(c,d,f,m,C){if(m&&m.once)return jw(c,d,f,m,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Fw(c,d[A],f,m,C);return null}return f=Ip(f),c&&c[sa]?c.K(d,f,l(m)?!!m.capture:!!m,C):Vw(c,d,f,!1,m,C)}function Vw(c,d,f,m,C,A){if(!d)throw Error("Invalid event type");var L=l(C)?!!C.capture:!!C,De=_p(c);if(De||(c[mp]=De=new Ru(c)),f=De.add(d,f,m,L,A),f.proxy)return f;if(m=RP(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)bP||(C=L),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(Bw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function RP(){function c(f){return d.call(c.src,c.listener,f)}let d=NP;return c}function jw(c,d,f,m,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)jw(c,d[A],f,m,C);return null}return f=Ip(f),c&&c[sa]?c.L(d,f,l(m)?!!m.capture:!!m,C):Vw(c,d,f,!0,m,C)}function Uw(c,d,f,m,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)Uw(c,d[A],f,m,C);else m=l(m)?!!m.capture:!!m,f=Ip(f),c&&c[sa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=gp(A,f,m,C),-1<f&&(Au(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=_p(c))&&(d=c.g[d.toString()],c=-1,d&&(c=gp(d,f,m,C)),(f=-1<c?d[c]:null)&&vp(f))}function vp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[sa])pp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Bw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=_p(d))?(pp(f,c),f.h==0&&(f.src=null,d[mp]=null)):Au(c)}}}function Bw(c){return c in yp?yp[c]:yp[c]="on"+c}function NP(c,d){if(c.da)c=!0;else{d=new oa(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&vp(c),c=f.call(m,d)}return c}function _p(c){return c=c[mp],c instanceof Ru?c:null}var Ep="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ip(c){return typeof c=="function"?c:(c[Ep]||(c[Ep]=function(d){return c.handleEvent(d)}),c[Ep])}function ct(){xr.call(this),this.i=new Ru(this),this.M=this,this.F=null}w(ct,xr),ct.prototype[sa]=!0,ct.prototype.removeEventListener=function(c,d,f,m){Uw(this,c,d,f,m)};function It(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new at(d,c);else if(d instanceof at)d.target=d.target||c;else{var C=d;d=new at(m,c),T(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var L=d.g=f[A];C=Nu(L,m,!0,d)&&C}if(L=d.g=c,C=Nu(L,m,!0,d)&&C,C=Nu(L,m,!1,d)&&C,f)for(A=0;A<f.length;A++)L=d.g=f[A],C=Nu(L,m,!1,d)&&C}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Au(f[m]);delete c.g[d],c.h--}}this.F=null},ct.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},ct.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Nu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==f){var De=L.listener,nt=L.ha||L.src;L.fa&&pp(c.i,L),C=De.call(nt,m)!==!1&&C}}return C&&!m.defaultPrevented}function $w(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Hw(c){c.g=$w(()=>{c.g=null,c.i&&(c.i=!1,Hw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class MP extends xr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Hw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(c){xr.call(this),this.h=c,this.g={}}w(aa,xr);var zw=[];function qw(c){le(c.g,function(d,f){this.g.hasOwnProperty(f)&&vp(d)},c),c.g={}}aa.prototype.N=function(){aa.aa.N.call(this),qw(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wp=a.JSON.stringify,PP=a.JSON.parse,xP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Tp(){}Tp.prototype.h=null;function Gw(c){return c.h||(c.h=c.i())}function Ww(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dp(){at.call(this,"d")}w(Dp,at);function bp(){at.call(this,"c")}w(bp,at);var wi={},Kw=null;function Mu(){return Kw=Kw||new ct}wi.La="serverreachability";function Qw(c){at.call(this,wi.La,c)}w(Qw,at);function ua(c){let d=Mu();It(d,new Qw(d))}wi.STAT_EVENT="statevent";function Yw(c,d){at.call(this,wi.STAT_EVENT,c),this.stat=d}w(Yw,at);function wt(c){let d=Mu();It(d,new Yw(d,c))}wi.Ma="timingevent";function Jw(c,d){at.call(this,wi.Ma,c),this.size=d}w(Jw,at);function la(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function OP(c,d,f,m,C,A){c.info(function(){if(c.g)if(A)for(var L="",De=A.split("&"),nt=0;nt<De.length;nt++){var fe=De[nt].split("=");if(1<fe.length){var ut=fe[0];fe=fe[1];var lt=ut.split("_");L=2<=lt.length&&lt[1]=="type"?L+(ut+"="+fe+"&"):L+(ut+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+L})}function kP(c,d,f,m,C,A,L){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+L})}function Po(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+FP(c,f)+(m?" "+m:"")})}function LP(c,d){c.info(function(){return"TIMEOUT: "+d})}da.prototype.info=function(){};function FP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<C.length;L++)C[L]=""}}}}return wp(f)}catch{return d}}var Pu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cp;function xu(){}w(xu,Tp),xu.prototype.g=function(){return new XMLHttpRequest},xu.prototype.i=function(){return{}},Cp=new xu;function Or(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xw}function Xw(){this.i=null,this.g="",this.h=!1}var eT={},Sp={};function Ap(c,d,f){c.L=1,c.v=Fu(Jn(d)),c.m=f,c.P=!0,tT(c,null)}function tT(c,d){c.F=Date.now(),Ou(c),c.A=Jn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),gT(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Xw,c.g=xT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new MP(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(zw[0]=C.toString()),C=zw);for(var A=0;A<C.length;A++){var L=Fw(f,C[A],m||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ua(),OP(c.i,c.u,c.A,c.l,c.R,c.m)}Or.prototype.ca=function(c){c=c.target;let d=this.M;d&&Zn(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let lt=Zn(this.g);var d=this.g.Ba();let ko=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||wT(this.g)))){this.J||lt!=4||d==7||(d==8||0>=ko?ua(3):ua(2)),Rp(this);var f=this.g.Z();this.X=f;t:if(nT(this)){var m=wT(this.g);c="";var C=m.length,A=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ti(this),ha(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,kP(this.i,this.u,this.A,this.l,this.R,lt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,nt=this.g;if((De=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(De)){var fe=De;break t}}fe=null}if(f=fe)Po(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Np(this,f);else{this.o=!1,this.s=3,wt(12),Ti(this),ha(this);break e}}if(this.P){f=!0;let nn;for(;!this.J&&this.C<L.length;)if(nn=VP(this,L),nn==Sp){lt==4&&(this.s=4,wt(14),f=!1),Po(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==eT){this.s=4,wt(15),Po(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Po(this.i,this.l,nn,null),Np(this,nn);if(nT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||L.length!=0||this.h.h||(this.s=1,wt(16),f=!1),this.o=this.o&&f,!f)Po(this.i,this.l,L,"[Invalid Chunked Response]"),Ti(this),ha(this);else if(0<L.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Lp(ut),ut.M=!0,wt(11))}}else Po(this.i,this.l,L,null),Np(this,L);lt==4&&Ti(this),this.o&&!this.J&&(lt==4?RT(this.j,this):(this.o=!1,Ou(this)))}else tx(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Ti(this),ha(this)}}}catch{}finally{}};function nT(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function VP(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Sp:(f=Number(d.substring(f,m)),isNaN(f)?eT:(m+=1,m+f>d.length?Sp:(d=d.slice(m,m+f),c.C=m+f,d)))}Or.prototype.cancel=function(){this.J=!0,Ti(this)};function Ou(c){c.S=Date.now()+c.I,rT(c,c.I)}function rT(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=la(g(c.ba,c),d)}function Rp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Or.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(LP(this.i,this.A),this.L!=2&&(ua(),wt(17)),Ti(this),this.s=2,ha(this)):rT(this,this.S-c)};function ha(c){c.j.G==0||c.J||RT(c.j,c)}function Ti(c){Rp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,qw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Np(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Mp(f.h,c))){if(!c.K&&Mp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)$u(f),Uu(f);else break e;kp(f),wt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=la(g(f.Za,f),6e3));if(1>=sT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else bi(f,11)}else if((c.K||f.g==c)&&$u(f),!U(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let fe=C[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let ut=fe[3];ut!=null&&(f.la=ut,f.j.info("VER="+f.la));let lt=fe[4];lt!=null&&(f.Aa=lt,f.j.info("SVER="+f.Aa));let ko=fe[5];ko!=null&&typeof ko=="number"&&0<ko&&(m=1.5*ko,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let nn=c.g;if(nn){let zu=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zu){var A=m.h;A.g||zu.indexOf("spdy")==-1&&zu.indexOf("quic")==-1&&zu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Pp(A,A.h),A.h=null))}if(m.D){let Fp=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fp&&(m.ya=Fp,Ae(m.I,m.D,Fp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var L=c;if(m.qa=PT(m,m.J?m.ia:null,m.W),L.K){aT(m.h,L);var De=L,nt=m.L;nt&&(De.I=nt),De.B&&(Rp(De),Ou(De)),m.g=L}else ST(m);0<f.i.length&&Bu(f)}else fe[0]!="stop"&&fe[0]!="close"||bi(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?bi(f,7):Op(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}ua(4)}catch{}}var jP=class{constructor(c,d){this.g=c,this.map=d}};function iT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oT(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sT(c){return c.h?1:c.g?c.g.size:0}function Mp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Pp(c,d){c.g?c.g.add(d):c.h=d}function aT(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}iT.prototype.cancel=function(){if(this.i=cT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function cT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function UP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function BP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function uT(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=BP(c),m=UP(c),C=m.length,A=0;A<C;A++)d.call(void 0,m[A],f&&f[A],c)}var lT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $P(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var A=c[f].substring(0,m);C=c[f].substring(m+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Di){this.h=c.h,ku(this,c.j),this.o=c.o,this.g=c.g,Lu(this,c.s),this.l=c.l;var d=c.i,f=new ga;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),dT(this,f),this.m=c.m}else c&&(d=String(c).match(lT))?(this.h=!1,ku(this,d[1]||"",!0),this.o=fa(d[2]||""),this.g=fa(d[3]||"",!0),Lu(this,d[4]),this.l=fa(d[5]||"",!0),dT(this,d[6]||"",!0),this.m=fa(d[7]||"")):(this.h=!1,this.i=new ga(null,this.h))}Di.prototype.toString=function(){var c=[],d=this.j;d&&c.push(pa(d,hT,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(pa(d,hT,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(pa(f,f.charAt(0)=="/"?qP:zP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",pa(f,WP)),c.join("")};function Jn(c){return new Di(c)}function ku(c,d,f){c.j=f?fa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Lu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function dT(c,d,f){d instanceof ga?(c.i=d,KP(c.i,c.h)):(f||(d=pa(d,GP)),c.i=new ga(d,c.h))}function Ae(c,d,f){c.i.set(d,f)}function Fu(c){return Ae(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,HP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function HP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hT=/[#\/\?@]/g,zP=/[#\?:]/g,qP=/[#\?]/g,GP=/[#\?@]/g,WP=/#/g;function ga(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function kr(c){c.g||(c.g=new Map,c.h=0,c.i&&$P(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ga.prototype,t.add=function(c,d){kr(this),this.i=null,c=xo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function fT(c,d){kr(c),d=xo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function pT(c,d){return kr(c),d=xo(c,d),c.g.has(d)}t.forEach=function(c,d){kr(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},t.na=function(){kr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let A=0;A<C.length;A++)f.push(d[m])}return f},t.V=function(c){kr(this);let d=[];if(typeof c=="string")pT(this,c)&&(d=d.concat(this.g.get(xo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return kr(this),this.i=null,c=xo(this,c),pT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function gT(c,d,f){fT(c,d),0<f.length&&(c.i=null,c.g.set(xo(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),L=this.V(m);for(m=0;m<L.length;m++){var C=A;L[m]!==""&&(C+="="+encodeURIComponent(String(L[m]))),c.push(C)}}return this.i=c.join("&")};function xo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function KP(c,d){d&&!c.j&&(kr(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(fT(this,m),gT(this,C,f))},c)),c.j=d}function QP(c,d){let f=new da;if(a.Image){let m=new Image;m.onload=y(Lr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Lr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Lr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Lr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function YP(c,d){let f=new da,m=new AbortController,C=setTimeout(()=>{m.abort(),Lr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(C),A.ok?Lr(f,"TestPingServer: ok",!0,d):Lr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Lr(f,"TestPingServer: error",!1,d)})}function Lr(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function JP(){this.g=new xP}function ZP(c,d,f){let m=f||"";try{uT(c,function(C,A){let L=C;l(C)&&(L=wp(C)),d.push(m+A+"="+encodeURIComponent(L))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function ma(c){this.l=c.Ub||null,this.j=c.eb||!1}w(ma,Tp),ma.prototype.g=function(){return new Vu(this.l,this.j)},ma.prototype.i=(function(c){return function(){return c}})({});function Vu(c,d){ct.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Vu,ct),t=Vu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,va(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ya(this):va(this),this.readyState==3&&mT(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ya(this))},t.Qa=function(c){this.g&&(this.response=c,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(c){c.readyState=4,c.l=null,c.j=null,c.v=null,va(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function va(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yT(c){let d="";return le(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function xp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=yT(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ae(c,d,f))}function xe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(xe,ct);var XP=/^https?$/i,ex=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cp.g(),this.v=this.o?Gw(this.o):Gw(Cp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){vT(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ex,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of f)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{IT(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){vT(this,A)}};function vT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,_T(c),ju(c)}function _T(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),ju(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ju(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ET(this):this.bb())},t.bb=function(){ET(this)};function ET(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)$w(c.Ea,0,c);else if(It(c,"readystatechange"),Zn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=L===0){var C=String(c.D).match(lT)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!XP.test(C?C.toLowerCase():"")}f=m}if(f)It(c,"complete"),It(c,"success");else{c.m=6;try{var A=2<Zn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",_T(c)}}finally{ju(c)}}}}function ju(c,d){if(c.g){IT(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||It(c,"ready");try{f.onreadystatechange=m}catch{}}}function IT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),PP(d)}};function wT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tx(c){let d={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(U(c[m]))continue;var f=b(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function TT(c){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,c),this.cb=_a("retryDelaySeedMs",1e4,c),this.Wa=_a("forwardChannelMaxRetries",2,c),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new iT(c&&c.concurrentRequestLimit),this.Da=new JP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=TT.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){wt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=PT(this,null,this.W),Bu(this)};function Op(c){if(DT(c),c.G==3){var d=c.U++,f=Jn(c.I);if(Ae(f,"SID",c.K),Ae(f,"RID",d),Ae(f,"TYPE","terminate"),Ea(c,f),d=new Or(c,c.j,d),d.L=2,d.v=Fu(Jn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=xT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ou(d)}MT(c)}function Uu(c){c.g&&(Lp(c),c.g.cancel(),c.g=null)}function DT(c){Uu(c),c.u&&(a.clearTimeout(c.u),c.u=null),$u(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Bu(c){if(!oT(c.h)&&!c.s){c.s=!0;var d=c.Ga;ra||Lw(),ia||(ra(),ia=!0),fp.add(d,c),c.B=0}}function nx(c,d){return sT(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=la(g(c.Ga,c,d),NT(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Or(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),T(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=CT(this,C,d),f=Jn(this.I),Ae(f,"RID",c),Ae(f,"CVER",22),this.D&&Ae(f,"X-HTTP-Session-Id",this.D),Ea(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(yT(A)))+"&"+d:this.m&&xp(f,this.m,A)),Pp(this.h,C),this.Ua&&Ae(f,"TYPE","init"),this.P?(Ae(f,"$req",d),Ae(f,"SID","null"),C.T=!0,Ap(C,f,null)):Ap(C,f,d),this.G=2}}else this.G==3&&(c?bT(this,c):this.i.length==0||oT(this.h)||bT(this))};function bT(c,d){var f;d?f=d.l:f=c.U++;let m=Jn(c.I);Ae(m,"SID",c.K),Ae(m,"RID",f),Ae(m,"AID",c.T),Ea(c,m),c.m&&c.o&&xp(m,c.m,c.o),f=new Or(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=CT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pp(c.h,f),Ap(f,m,d)}function Ea(c,d){c.H&&le(c.H,function(f,m){Ae(d,m,f)}),c.l&&uT({},function(f,m){Ae(d,m,f)})}function CT(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let L=["count="+f];A==-1?0<f?(A=C[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let De=!0;for(let nt=0;nt<f;nt++){let fe=C[nt].g,ut=C[nt].map;if(fe-=A,0>fe)A=Math.max(0,C[nt].g-100),De=!1;else try{ZP(ut,L,"req"+fe+"_")}catch{m&&m(ut)}}if(De){m=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function ST(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ra||Lw(),ia||(ra(),ia=!0),fp.add(d,c),c.v=0}}function kp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=la(g(c.Fa,c),NT(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,AT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=la(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Uu(this),AT(this))};function Lp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function AT(c){c.g=new Or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Jn(c.qa);Ae(d,"RID","rpc"),Ae(d,"SID",c.K),Ae(d,"AID",c.T),Ae(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ae(d,"TO",c.ja),Ae(d,"TYPE","xmlhttp"),Ea(c,d),c.m&&c.o&&xp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Fu(Jn(d)),f.m=null,f.P=!0,tT(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Uu(this),kp(this),wt(19))};function $u(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function RT(c,d){var f=null;if(c.g==d){$u(c),Lp(c),c.g=null;var m=2}else if(Mp(c.h,d))f=d.D,aT(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=Mu(),It(m,new Jw(m,f)),Bu(c)}else ST(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&nx(c,d)||m==2&&kp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function NT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function bi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new Di(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ku(m,"https"),Fu(m),C?QP(m.toString(),f):YP(m.toString(),f)}else wt(2);c.G=0,c.l&&c.l.sa(d),MT(c),DT(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function MT(c){if(c.G=0,c.ka=[],c.l){let d=cT(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function PT(c,d,f){var m=f instanceof Di?Jn(f):new Di(f);if(m.g!="")d&&(m.g=d+"."+m.g),Lu(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Di(null);m&&ku(A,m),d&&(A.g=d),C&&Lu(A,C),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Ae(m,f,d),Ae(m,"VER",c.la),Ea(c,m),m}function xT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new ma({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function OT(){}t=OT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hu(){}Hu.prototype.g=function(c,d){return new Lt(c,d)};function Lt(c,d){ct.call(this),this.g=new TT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!U(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!U(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Oo(this)}w(Lt,ct),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Op(this.g)},Lt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wp(c),c=f);d.i.push(new jP(d.Ya++,c)),d.G==3&&Bu(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Op(this.g),delete this.g,Lt.aa.N.call(this)};function kT(c){Dp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}w(kT,Dp);function LT(){bp.call(this),this.status=1}w(LT,bp);function Oo(c){this.g=c}w(Oo,OT),Oo.prototype.ua=function(){It(this.g,"a")},Oo.prototype.ta=function(c){It(this.g,new kT(c))},Oo.prototype.sa=function(c){It(this.g,new LT)},Oo.prototype.ra=function(){It(this.g,"b")},Hu.prototype.createWebChannel=Hu.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,NE=Sr.createWebChannelTransport=function(){return new Hu},RE=Sr.getStatEventTarget=function(){return Mu()},AE=Sr.Event=wi,_f=Sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pu.NO_ERROR=0,Pu.TIMEOUT=8,Pu.HTTP_ERROR=6,ru=Sr.ErrorCode=Pu,Zw.COMPLETE="complete",SE=Sr.EventType=Zw,Ww.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ks=Sr.WebChannel=Ww,VH=Sr.FetchXmlHttpFactory=ma,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,CE=Sr.XhrIo=xe}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});var FN="@firebase/firestore";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var ea="10.14.0";var wo=new li("@firebase/firestore");function iu(){return wo.logLevel}function j(t,...e){if(wo.logLevel<=ce.DEBUG){let n=e.map(gw);wo.debug(`Firestore (${ea}): ${t}`,...n)}}function Rr(t,...e){if(wo.logLevel<=ce.ERROR){let n=e.map(gw);wo.error(`Firestore (${ea}): ${t}`,...n)}}function $s(t,...e){if(wo.logLevel<=ce.WARN){let n=e.map(gw);wo.warn(`Firestore (${ea}): ${t}`,...n)}}function gw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Z(t="Unexpected state"){let e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function Ee(t,e){t||Z()}function te(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Df=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},kE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}},LE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},FE=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new Df(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new tt(e)}},VE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},jE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new VE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},UE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},BE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ee(this.o===void 0);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new UE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function jH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var bf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=jH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function pe(t,e){return t<e?-1:t>e?1:0}function Hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var st=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Cf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends Cf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},UH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qt=class t extends Cf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return UH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};var $E=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};$E.UNKNOWN_ID=-1;function BH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new To(i,G.empty(),e)}function $H(t){return new To(t.readTime,t.key,-1)}var To=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(se.min(),G.empty(),-1)}static max(){return new t(se.max(),G.empty(),-1)}};function HH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}var zH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",HE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Tu(t){return I(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==zH)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function qH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Du(t){return t.name==="IndexedDbTransactionError"}var vM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ip(t){return t==null}function lu(t){return t===0&&1/t==-1/0}function GH(t){return typeof t=="number"&&Number.isInteger(t)&&!lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var WH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Foe=[...WH,"documentOverlays"],KH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QH=KH,YH=[...QH,"indexConfiguration","indexState","indexEntries"];var Voe=[...YH,"globals"];function VN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _M(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fe=class t{constructor(e,n){this.comparator=e,this.root=n||zn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _t=class t{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sf(this.data.getIterator())}getIteratorFrom(e){return new Sf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Sf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var tn=class t{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new t([])}unionWith(e){let n=new _t(qt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Af=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Af("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var JH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(Ee(!!t),typeof t=="string"){let e=0,n=JH.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}function mw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yw(t){let e=t.mapValue.fields.__previous_value__;return mw(e)?yw(e):e}function du(t){let e=Nr(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}var zE=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Rf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ef={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mw(t)?4:IM(t)?9007199254740991:EM(t)?10:11:Z()}function Kn(t,e){if(t===e)return!0;let n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Nr(i.timestampValue),a=Nr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return yi(i.bytesValue).isEqual(yi(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),a=Re(o.doubleValue);return s===a?lu(s)===lu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Hs(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(VN(s)!==VN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Kn(s[u],a[u])))return!1;return!0})(t,e);default:return Z()}}function hu(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function zs(t,e){if(t===e)return 0;let n=Do(t),r=Do(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return jN(t.timestampValue,e.timestampValue);case 4:return jN(du(t),du(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=yi(o),u=yi(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=pe(a[l],u[l]);if(h!==0)return h}return pe(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=pe(Re(o.latitude),Re(s.latitude));return a!==0?a:pe(Re(o.longitude),Re(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return UN(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,w=(u=g.value)===null||u===void 0?void 0:u.arrayValue,R=pe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=w?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:UN(y,w)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Ef.mapValue&&s===Ef.mapValue)return 0;if(o===Ef.mapValue)return 1;if(s===Ef.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=pe(u[p],h[p]);if(g!==0)return g;let y=zs(a[u[p]],l[h[p]]);if(y!==0)return y}return pe(u.length,h.length)})(t.mapValue,e.mapValue);default:throw Z()}}function jN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);let n=Nr(t),r=Nr(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function UN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=zs(n[i],r[i]);if(o)return o}return pe(n.length,r.length)}function qs(t){return qE(t)}function qE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Nr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return yi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return G.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=qE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${qE(n.fields[s])}`;return i+"}"})(t.mapValue):Z()}function BN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function GE(t){return!!t&&"integerValue"in t}function vw(t){return!!t&&"arrayValue"in t}function $N(t){return!!t&&"nullValue"in t}function HN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function EM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=su(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=su(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){No(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(su(this.value))}};function wM(t){let e=[];return No(t.fields,(n,r)=>{let i=new qt([n]);if(wf(r)){let o=wM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new tn(e)}var En=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,se.min(),se.min(),se.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,se.min(),se.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,se.min(),se.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function zN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=zs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function qN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}var bo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function ZH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Nf=class{},Ge=class t extends Nf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KE(e,n,r):n==="array-contains"?new JE(e,r):n==="in"?new ZE(e,r):n==="not-in"?new XE(e,r):n==="array-contains-any"?new eI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QE(e,r):new YE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zs(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},In=class t extends Nf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return TM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function TM(t){return t.op==="and"}function DM(t){return XH(t)&&TM(t)}function XH(t){for(let e of t.filters)if(e instanceof In)return!1;return!0}function WE(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(DM(t))return t.filters.map(e=>WE(e)).join(",");{let e=t.filters.map(n=>WE(n)).join(",");return`${t.op}(${e})`}}function bM(t,e){return t instanceof Ge?(function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)})(t,e):t instanceof In?(function(r,i){return i instanceof In&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bM(s,i.filters[a]),!0):!1})(t,e):void Z()}function CM(t){return t instanceof Ge?(function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`})(t):t instanceof In?(function(n){return n.op.toString()+" {"+n.getFilters().map(CM).join(" ,")+"}"})(t):"Filter"}var KE=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},QE=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=SM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},YE=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=SM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function SM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var JE=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return vw(n)&&hu(n.arrayValue,this.value)}},ZE=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}},XE=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!hu(this.value.arrayValue,n)}},eI=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!vw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hu(this.value.arrayValue,r))}};var tI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function GN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new tI(t,e,n,r,i,o,s)}function _w(t){let e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>WE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qs(r)).join(",")),e.ue=n}return e.ue}function Ew(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qN(t.startAt,e.startAt)&&qN(t.endAt,e.endAt)}function nI(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var vi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function ez(t,e,n,r,i,o,s,a){return new vi(t,e,n,r,i,o,s,a)}function Iw(t){return new vi(t)}function WN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AM(t){return t.collectionGroup!==null}function au(t){let e=te(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new _t(qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new bo(o,r))}),n.has(qt.keyField().canonicalString())||e.ce.push(new bo(qt.keyField(),r))}return e.ce}function qn(t){let e=te(t);return e.le||(e.le=tz(e,au(t))),e.le}function tz(t,e){if(t.limitType==="F")return GN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new bo(i.field,o)});let n=t.endAt?new Gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gs(t.startAt.position,t.startAt.inclusive):null;return GN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rI(t,e){let n=t.filters.concat([e]);return new vi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iI(t,e,n){return new vi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function op(t,e){return Ew(qn(t),qn(e))&&t.limitType===e.limitType}function RM(t){return`${_w(qn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CM(i)).join(", ")}]`),ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qs(i)).join(",")),`Target(${r})`})(qn(t))}; limitType=${t.limitType})`}function sp(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of au(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=zN(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,au(r),i)||r.endAt&&!(function(s,a,u){let l=zN(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,au(r),i))})(t,e)}function nz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NM(t){return(e,n)=>{let r=!1;for(let i of au(t)){let o=rz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function rz(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?zs(u,l):Z()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var _i=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return _M(this.inner)}size(){return this.innerSize}};var iz=new Fe(G.comparator);function Mr(){return iz}var MM=new Fe(G.comparator);function ou(...t){let e=MM;for(let n of t)e=e.insert(n.key,n);return e}function PM(t){let e=MM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _o(){return cu()}function xM(){return cu()}function cu(){return new _i(t=>t.toString(),(t,e)=>t.isEqual(e))}var oz=new Fe(G.comparator),sz=new _t(G.comparator);function ue(...t){let e=sz;for(let n of t)e=e.add(n);return e}var az=new _t(pe);function cz(){return az}function ww(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lu(e)?"-0":e}}function OM(t){return{integerValue:""+t}}function uz(t,e){return GH(e)?OM(e):ww(t,e)}var Ws=class{constructor(){this._=void 0}};function lz(t,e,n){return t instanceof Co?(function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&mw(o)&&(o=yw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}})(n,e):t instanceof So?LM(t,e):t instanceof Ao?FM(t,e):(function(i,o){let s=kM(i,o),a=KN(s)+KN(i.Pe);return GE(s)&&GE(i.Pe)?OM(a):ww(i.serializer,a)})(t,e)}function dz(t,e,n){return t instanceof So?LM(t,e):t instanceof Ao?FM(t,e):n}function kM(t,e){return t instanceof Ks?(function(r){return GE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Co=class extends Ws{},So=class extends Ws{constructor(e){super(),this.elements=e}};function LM(t,e){let n=VM(e);for(let r of t.elements)n.some(i=>Kn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ao=class extends Ws{constructor(e){super(),this.elements=e}};function FM(t,e){let n=VM(e);for(let r of t.elements)n=n.filter(i=>!Kn(i,r));return{arrayValue:{values:n}}}var Ks=class extends Ws{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function KN(t){return Re(t.integerValue||t.doubleValue)}function VM(t){return vw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var oI=class{constructor(e,n){this.field=e,this.transform=n}};function hz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof So&&i instanceof So||r instanceof Ao&&i instanceof Ao?Hs(r.elements,i.elements,Kn):r instanceof Ks&&i instanceof Ks?Kn(r.Pe,i.Pe):r instanceof Co&&i instanceof Co})(t.transform,e.transform)}var sI=class{constructor(e,n){this.version=e,this.transformResults=n}},Ar=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qs=class{};function jM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fu(t.key,Ar.none()):new Ro(t.key,t.data,Ar.none());{let n=t.data,r=zt.empty(),i=new _t(qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qn(t.key,r,new tn(i.toArray()),Ar.none())}}function fz(t,e,n){t instanceof Ro?(function(i,o,s){let a=i.value.clone(),u=YN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Qn?(function(i,o,s){if(!Tf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=YN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(UM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function uu(t,e,n,r){return t instanceof Ro?(function(o,s,a,u){if(!Tf(o.precondition,s))return a;let l=o.value.clone(),h=JN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qn?(function(o,s,a,u){if(!Tf(o.precondition,s))return a;let l=JN(o.fieldTransforms,u,s),h=s.data;return h.setAll(UM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return Tf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function pz(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=kM(r.transform,i||null);o!=null&&(n===null&&(n=zt.empty()),n.set(r.field,o))}return n||null}function QN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hs(r,i,(o,s)=>hz(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ro=class extends Qs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qn=class extends Qs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function UM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function YN(t,e,n){let r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,dz(s,a,n[i]))}return r}function JN(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,lz(o,s,e))}return r}var fu=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},aI=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&fz(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=xM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=jM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,r)=>QN(n,r))&&Hs(this.baseMutations,e.baseMutations,(n,r)=>QN(n,r))}},uI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=(function(){return oz})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var lI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var dI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ze,de;function gz(t){switch(t){default:return Z();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function BM(t){if(t===void 0)return Rr("GRPC error has no .code"),M.UNKNOWN;switch(t){case ze.OK:return M.OK;case ze.CANCELLED:return M.CANCELLED;case ze.UNKNOWN:return M.UNKNOWN;case ze.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case ze.INTERNAL:return M.INTERNAL;case ze.UNAVAILABLE:return M.UNAVAILABLE;case ze.UNAUTHENTICATED:return M.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case ze.NOT_FOUND:return M.NOT_FOUND;case ze.ALREADY_EXISTS:return M.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return M.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case ze.ABORTED:return M.ABORTED;case ze.OUT_OF_RANGE:return M.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return M.UNIMPLEMENTED;case ze.DATA_LOSS:return M.DATA_LOSS;default:return Z()}}(de=ze||(ze={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var ZN=null;function mz(){return new TextEncoder}var yz=new gi([4294967295,4294967295],0);function XN(t){let e=mz().encode(t),n=new bE;return n.update(e),new Uint8Array(n.digest())}function eM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gi([n,r],0),new gi([i,o],0)]}var hI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eo(`Invalid padding: ${n}`);if(r<0)throw new Eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=gi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(gi.fromNumber(r)));return i.compare(yz)===1&&(i=new gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=XN(e),[r,i]=eM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=XN(e),[r,i]=eM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Eo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Mf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(se.min(),i,new Fe(pe),Mr(),ue())}},pu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var Us=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Pf=class{constructor(e,n){this.targetId=e,this.me=n}},xf=class{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Of=class{constructor(){this.fe=0,this.ge=nM(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new pu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=nM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},fI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=tM(),this.Qe=new Fe(pe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(nI(o))if(r===0){let s=new G(o.path);this.Ue(n,s,En.newNoDocument(s,se.min()))}else Ee(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}ZN?.et((function(h,p,g,y,w){var R,N,x,U,X,ge;let Pe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},le=p.unchangedNames;return le&&(Pe.bloomFilter={applied:w===0,hashCount:(R=le?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(U=(x=(N=le?.bits)===null||N===void 0?void 0:N.bitmap)===null||x===void 0?void 0:x.length)!==null&&U!==void 0?U:0,padding:(ge=(X=le?.bits)===null||X===void 0?void 0:X.padding)!==null&&ge!==void 0?ge:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Pe})(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=yi(r).toUint8Array()}catch(u){if(u instanceof Af)return $s("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new hI(s,i,o)}catch(u){return $s(u instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&nI(a.target)){let u=new G(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,En.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ue();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Mf(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=tM(),this.Qe=new Fe(pe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Of,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(pe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Of),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function tM(){return new Fe(G.comparator)}function nM(){return new Fe(G.comparator)}var vz={asc:"ASCENDING",desc:"DESCENDING"},_z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ez={and:"AND",or:"OR"},pI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function gI(t,e){return t.useProto3Json||ip(e)?e:{value:e}}function kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $M(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Iz(t,e){return kf(t,e.toTimestamp())}function Gn(t){return Ee(!!t),se.fromTimestamp((function(n){let r=Nr(n);return new st(r.seconds,r.nanos)})(t))}function Tw(t,e){return mI(t,e).canonicalString()}function mI(t,e){let n=(function(i){return new Me(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function HM(t){let e=Me.fromString(t);return Ee(KM(e)),e}function yI(t,e){return Tw(t.databaseId,e.path)}function ME(t,e){let n=HM(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(qM(n))}function zM(t,e){return Tw(t.databaseId,e)}function wz(t){let e=HM(t);return e.length===4?Me.emptyPath():qM(e)}function vI(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qM(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rM(t,e,n){return{name:yI(t,e),fields:n.value.mapValue.fields}}function Tz(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ee(h===void 0||typeof h=="string"),Et.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Et.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?M.UNKNOWN:BM(l.code);return new V(h,l.message||"")})(s);n=new xf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ME(t,r.document.name),o=Gn(r.document.updateTime),s=r.document.createTime?Gn(r.document.createTime):se.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=En.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Us(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ME(t,r.document),o=r.readTime?Gn(r.readTime):se.min(),s=En.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ME(t,r.document),o=r.removedTargetIds||[];n=new Us([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new dI(i,o),a=r.targetId;n=new Pf(a,s)}}return n}function Dz(t,e){let n;if(e instanceof Ro)n={update:rM(t,e.key,e.value)};else if(e instanceof fu)n={delete:yI(t,e.key)};else if(e instanceof Qn)n={update:rM(t,e.key,e.data),updateMask:xz(e.fieldMask)};else{if(!(e instanceof aI))return Z();n={verify:yI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Co)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof So)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ao)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Z()})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Iz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()})(t,e.precondition)),n}function bz(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>(function(i,o){let s=i.updateTime?Gn(i.updateTime):Gn(o);return s.isEqual(se.min())&&(s=Gn(o)),new sI(s,i.transformResults||[])})(n,e))):[]}function Cz(t,e){return{documents:[zM(t,e.path)]}}function Sz(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zM(t,i);let o=(function(l){if(l.length!==0)return WM(In.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:Fs(g.field),direction:Nz(g.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=gI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{_t:n,parent:i}}function Az(t){let e=wz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let g=GM(p);return g instanceof In&&DM(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(g=>(function(w){return new bo(Vs(w.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(g))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,ip(g)?null:g})(n.limit));let u=null;n.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new Gs(y,g)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new Gs(y,g)})(n.endAt)),ez(e,i,s,o,a,"F",u,l)}function Rz(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Vs(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Vs(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Vs(n.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Vs(n.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}})(t):t.fieldFilter!==void 0?(function(n){return Ge.create(Vs(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return In.create(n.compositeFilter.filters.map(r=>GM(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}})(n.compositeFilter.op))})(t):Z()}function Nz(t){return vz[t]}function Mz(t){return _z[t]}function Pz(t){return Ez[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Vs(t){return qt.fromServerFormat(t.fieldPath)}function WM(t){return t instanceof Ge?(function(n){if(n.op==="=="){if(HN(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if($N(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HN(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if($N(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:Mz(n.op),value:n.value}}})(t):t instanceof In?(function(n){let r=n.getFilters().map(i=>WM(i));return r.length===1?r[0]:{compositeFilter:{op:Pz(n.op),filters:r}}})(t):Z()}function xz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var gu=class t{constructor(e,n,r,i,o=se.min(),s=se.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var _I=class{constructor(e){this.ct=e}};function Oz(t){let e=Az({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iI(e,e.limit,"L"):e}var Lf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),lu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Nr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(yi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?IM(e)?this.dt(n,Number.MAX_SAFE_INTEGER):EM(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Re(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),G.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Lf.vt=new Lf;var EI=class{constructor(){this.un=new II}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(To.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(To.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},II=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Me.comparator)).toArray()}};var Uoe=new Uint8Array(0);var $n=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(41943040,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);var mu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var wI=class{constructor(){this.changes=new _i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var TI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var DI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uu(r.mutation,i,tn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=_o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ou();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=_o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mr(),s=cu(),a=(function(){return cu()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Qn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),uu(h.mutation,l,h.mutation.getFieldMask(),st.now())):s.set(l.key,tn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new TI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=cu(),i=new Fe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||tn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=xM();h.forEach(g=>{if(!o.has(g)){let y=jM(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(_o()),a=-1,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:PM(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ou();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=(function(p,g){return new vi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,En.newInvalidDocument(h)))});let a=ou();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&uu(h.mutation,l,tn.empty(),st.now()),sp(n,l)&&(a=a.insert(u,l))}),a})}};var bI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}})(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:Oz(i.bundledQuery),readTime:Gn(i.readTime)}})(n)),O.resolve()}};var CI=class{constructor(){this.overlays=new Fe(G.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=_o();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=_o(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=_o(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=_o(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new lI(n,r));let o=this.Ir.get(n);o===void 0&&(o=ue(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var SI=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var yu=class{constructor(){this.Tr=new _t(qe.Er),this.dr=new _t(qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new qe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new G(new Me([])),r=new qe(n,e),i=new qe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new G(new Me([])),r=new qe(n,e),i=new qe(n,e+1),o=ue();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new qe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},qe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||pe(e.wr,n.wr)}static Ar(e,n){return pe(e.wr,n.wr)||G.comparator(e.key,n.key)}};var AI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _t(qe.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new cI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(pe);return n.forEach(i=>{let o=new qe(i,0),s=new qe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new qe(new G(o),0),a=new _t(pe);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let o=new qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new qe(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var RI=class{constructor(e){this.Mr=e,this.docs=(function(){return new Fe(G.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():En.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mr(),s=n.path,a=new G(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||HH($H(h),r)<=0||(i.has(h.key)||sp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NI(this)}getSize(e){return O.resolve(this.size)}},NI=class extends wI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var MI=class{constructor(e){this.persistence=e,this.Nr=new _i(n=>_w(n),Ew),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yu,this.targetCount=0,this.kr=mu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new mu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var PI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new vM(0),this.Kr=!1,this.Kr=!0,this.$r=new SI,this.referenceDelegate=e(this),this.Ur=new MI(this),this.indexManager=new EI,this.remoteDocumentCache=(function(i){return new RI(i)})(r=>this.referenceDelegate.Wr(r)),this.serializer=new _I(n),this.Gr=new bI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new AI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new xI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},xI=class extends HE{constructor(e){super(),this.currentSequenceNumber=e}},OI=class t{constructor(e){this.persistence=e,this.Jr=new yu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=G.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var kI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var LI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var FI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return DR()?8:qH(et())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new LI;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(iu()<=ce.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(iu()<=ce.DEBUG&&j("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(iu()<=ce.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):O.resolve())}Yi(e,n){if(WN(n))return O.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iI(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,iI(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return WN(n)||i.isEqual(se.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?O.resolve(null):(iu()<=ce.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.rs(e,s,n,BH(i,-1)).next(a=>a))})}ts(e,n){let r=new _t(NM(e));return n.forEach((i,o)=>{sp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return iu()<=ce.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,To.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var VI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Fe(pe),this._s=new _i(o=>_w(o),Ew),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function kz(t,e,n,r){return new VI(t,e,n,r)}function QM(t,e){return I(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Lz(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),y=O.resolve();return g.forEach(w=>{y=y.next(()=>h.getEntry(u,w)).next(R=>{let N=l.docVersions.get(w);Ee(N!==null),R.version.compareTo(N)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YM(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Fz(t,e){let n=te(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Et.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(R,N,x){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0})(g,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=Mr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Vz(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(se.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function Vz(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function jz(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Uz(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new gu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function jI(t,e,n){return I(this,null,function*(){let r=te(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Du(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function iM(t,e,n){let r=te(t),i=se.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=te(u),g=p._s.get(h);return g!==void 0?O.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)})(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:ue())).next(a=>(Bz(r,nz(e),a),{documents:a,Ts:o})))}function Bz(t,e,n){let r=t.us.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Ff=class{constructor(){this.activeTargetIds=cz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var UI=class{constructor(){this.so=new Ff,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ff,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var BI=class{_o(e){}shutdown(){}};var Vf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var If=null;function PE(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}var $z={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var $I=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var vt="WebChannelConnection",HI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=PE(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw $s("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ea})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=$z[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=PE();return new Promise((s,a)=>{let u=new CE;u.setWithCredentials(!0),u.listenOnce(SE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ru.NO_ERROR:let h=u.getResponseJson();j(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case ru.TIMEOUT:j(vt,`RPC '${e}' ${o} timed out`),a(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case ru.HTTP_ERROR:let p=u.getStatus();if(j(vt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let w=(function(N){let x=N.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(x)>=0?x:M.UNKNOWN})(y.status);a(new V(w,y.message))}else a(new V(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(M.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{j(vt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);j(vt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=PE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=NE(),a=RE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,w=new $I({Io:N=>{y?j(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(j(vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),j(vt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),R=(N,x,U)=>{N.listen(x,X=>{try{U(X)}catch(ge){setTimeout(()=>{throw ge},0)}})};return R(p,ks.EventType.OPEN,()=>{y||(j(vt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),R(p,ks.EventType.CLOSE,()=>{y||(y=!0,j(vt,`RPC '${e}' stream ${i} transport closed`),w.So())}),R(p,ks.EventType.ERROR,N=>{y||(y=!0,$s(vt,`RPC '${e}' stream ${i} transport errored:`,N),w.So(new V(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,ks.EventType.MESSAGE,N=>{var x;if(!y){let U=N.data[0];Ee(!!U);let X=U,ge=X.error||((x=X[0])===null||x===void 0?void 0:x.error);if(ge){j(vt,`RPC '${e}' stream ${i} received error:`,ge);let Pe=ge.status,le=(function(E){let T=ze[E];if(T!==void 0)return BM(T)})(Pe),D=ge.message;le===void 0&&(le=M.INTERNAL,D="Unknown error status: "+Pe+" with message "+ge.message),y=!0,w.So(new V(le,D)),p.close()}else j(vt,`RPC '${e}' stream ${i} received:`,U),w.bo(U)}}),R(a,AE.STAT_EVENT,N=>{N.stat===_f.PROXY?j(vt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===_f.NOPROXY&&j(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}};function xE(){return typeof document<"u"?document:null}function ap(t){return new pI(t,!0)}var jf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Uf=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},zI=class extends Uf{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=Tz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Gn(s.readTime):se.min()})(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=vI(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=nI(u)?{documents:Cz(o,u)}:{query:Sz(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$M(o,s.resumeToken);let l=gI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=kf(o,s.snapshotVersion.toTimestamp());let l=gI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=Rz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=vI(this.serializer),n.removeTarget=e,this.a_(n)}},qI=class extends Uf{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=bz(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=vI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Dz(this.serializer,r))};this.a_(n)}};var GI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,mI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(M.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,mI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},WI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Rr(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var KI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>I(this,null,function*(){Mo(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield(function(u){return I(this,null,function*(){let l=te(u);l.L_.add(4),yield bu(l),l.q_.set("Unknown"),l.L_.delete(4),yield cp(l)})})(this))}))}),this.q_=new WI(r,i)}};function cp(t){return I(this,null,function*(){if(Mo(t))for(let e of t.B_)yield e(!0)})}function bu(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function JM(t,e){let n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Sw(n)?Cw(n):ta(n).r_()&&bw(n,e))}function Dw(t,e){let n=te(t),r=ta(n);n.N_.delete(e),r.r_()&&ZM(n,e),n.N_.size===0&&(r.r_()?r.o_():Mo(n)&&n.q_.set("Unknown"))}function bw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).A_(e)}function ZM(t,e){t.Q_.xe(e),ta(t).R_(e)}function Cw(t){t.Q_=new fI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.q_.v_()}function Sw(t){return Mo(t)&&!ta(t).n_()&&t.N_.size>0}function Mo(t){return te(t).L_.size===0}function XM(t){t.Q_=void 0}function Hz(t){return I(this,null,function*(){t.q_.set("Online")})}function zz(t){return I(this,null,function*(){t.N_.forEach((e,n)=>{bw(t,e)})})}function qz(t,e){return I(this,null,function*(){XM(t),Sw(t)?(t.q_.M_(e),Cw(t)):t.q_.set("Unknown")})}function Gz(t,e,n){return I(this,null,function*(){if(t.q_.set("Online"),e instanceof xf&&e.state===2&&e.cause)try{yield(function(i,o){return I(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})})(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bf(t,r)}else if(e instanceof Us?t.Q_.Ke(e):e instanceof Pf?t.Q_.He(e):t.Q_.We(e),!n.isEqual(se.min()))try{let r=yield YM(t.localStore);n.compareTo(r)>=0&&(yield(function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),ZM(o,u);let p=new gu(h.target,u,l,h.sequenceNumber);bw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield Bf(t,r)}})}function Bf(t,e,n){return I(this,null,function*(){if(!Du(e))throw e;t.L_.add(1),yield bu(t),t.q_.set("Offline"),n||(n=()=>YM(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(null,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield cp(t)}))})}function eP(t,e){return e().catch(n=>Bf(t,n,e))}function up(t){return I(this,null,function*(){let e=te(t),n=Ei(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Wz(e);)try{let i=yield jz(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Kz(e,i)}catch(i){yield Bf(e,i)}tP(e)&&nP(e)})}function Wz(t){return Mo(t)&&t.O_.length<10}function Kz(t,e){t.O_.push(e);let n=Ei(t);n.r_()&&n.V_&&n.m_(e.mutations)}function tP(t){return Mo(t)&&!Ei(t).n_()&&t.O_.length>0}function nP(t){Ei(t).start()}function Qz(t){return I(this,null,function*(){Ei(t).p_()})}function Yz(t){return I(this,null,function*(){let e=Ei(t);for(let n of t.O_)e.m_(n.mutations)})}function Jz(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=uI.from(r,e,n);yield eP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield up(t)})}function Zz(t,e){return I(this,null,function*(){e&&Ei(t).V_&&(yield(function(r,i){return I(this,null,function*(){if((function(s){return gz(s)&&s!==M.ABORTED})(i.code)){let o=r.O_.shift();Ei(r).s_(),yield eP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield up(r)}})})(t,e)),tP(t)&&nP(t)})}function oM(t,e){return I(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=Mo(n);n.L_.add(3),yield bu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield cp(n)})}function Xz(t,e){return I(this,null,function*(){let n=te(t);e?(n.L_.delete(2),yield cp(n)):e||(n.L_.add(2),yield bu(n),n.q_.set("Unknown"))})}function ta(t){return t.K_||(t.K_=(function(n,r,i){let o=te(n);return o.w_(),new zI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:Hz.bind(null,t),Ro:zz.bind(null,t),mo:qz.bind(null,t),d_:Gz.bind(null,t)}),t.B_.push(e=>I(null,null,function*(){e?(t.K_.s_(),Sw(t)?Cw(t):t.q_.set("Unknown")):(yield t.K_.stop(),XM(t))}))),t.K_}function Ei(t){return t.U_||(t.U_=(function(n,r,i){let o=te(n);return o.w_(),new qI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Qz.bind(null,t),mo:Zz.bind(null,t),f_:Yz.bind(null,t),g_:Jz.bind(null,t)}),t.B_.push(e=>I(null,null,function*(){e?(t.U_.s_(),yield up(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var QI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Aw(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),Du(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}var $f=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=ou(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Hf=class{constructor(){this.W_=new Fe(G.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ys=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,$f.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var YI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},JI=class{constructor(){this.queries=sM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=te(n),o=i.queries;i.queries=sM(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new V(M.ABORTED,"Firestore shutting down"))}};function sM(){return new _i(t=>RM(t),op)}function rP(t,e){return I(this,null,function*(){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new YI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Aw(s,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Rw(n)})}function iP(t,e){return I(this,null,function*(){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function eq(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Rw(n)}function tq(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Rw(t){t.Y_.forEach(e=>{e.next()})}var ZI,aM;(aM=ZI||(ZI={})).ea="default",aM.Cache="cache";var zf=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ZI.Cache}};var qf=class{constructor(e){this.key=e}},Gf=class{constructor(e){this.key=e}},XI=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=NM(e),this.Ra=new $f(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Hf,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=sp(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;g&&y?g.data.isEqual(y.data)?w!==R&&(r.track({type:3,doc:y}),N=!0):this.ga(g,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),N=!0):g&&!y&&(r.track({type:1,doc:g}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>(function(y,w){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return R(y)-R(w)})(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ys(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Hf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Gf(r))}),this.da.forEach(r=>{e.has(r)||n.push(new qf(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ys.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},ew=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},tw=class{constructor(e){this.key=e,this.va=!1}},nw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new _i(a=>RM(a),op),this.Ma=new Map,this.xa=new Set,this.Oa=new Fe(G.comparator),this.Na=new Map,this.La=new yu,this.Ba={},this.ka=new Map,this.qa=mu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function nq(t,e,n=!0){return I(this,null,function*(){let r=lP(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield oP(r,e,n,!0),i})}function rq(t,e){return I(this,null,function*(){let n=lP(t);yield oP(n,e,!0,!1)})}function oP(t,e,n,r){return I(this,null,function*(){let i=yield Uz(t.localStore,qn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield iq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JM(t.remoteStore,i),a})}function iq(t,e,n,r,i){return I(this,null,function*(){t.Ka=(p,g,y)=>(function(R,N,x,U){return I(this,null,function*(){let X=N.view.ma(x);X.ns&&(X=yield iM(R.localStore,N.query,!1).then(({documents:D})=>N.view.ma(D,X)));let ge=U&&U.targetChanges.get(N.targetId),Pe=U&&U.targetMismatches.get(N.targetId)!=null,le=N.view.applyChanges(X,R.isPrimaryClient,ge,Pe);return uM(R,N.targetId,le.wa),le.snapshot})})(t,p,g,y);let o=yield iM(t.localStore,e,!0),s=new XI(e,o.Ts),a=s.ma(o.documents),u=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);uM(t,n,l.wa);let h=new ew(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function oq(t,e,n){return I(this,null,function*(){let r=te(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!op(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dw(r.remoteStore,i.targetId),rw(r,i.targetId)}).catch(Tu))):(rw(r,i.targetId),yield jI(r.localStore,i.targetId,!0))})}function sq(t,e){return I(this,null,function*(){let n=te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dw(n.remoteStore,r.targetId))})}function aq(t,e,n){return I(this,null,function*(){let r=pq(t);try{let i=yield(function(s,a){let u=te(s),l=st.now(),h=a.reduce((y,w)=>y.add(w.key),ue()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Mr(),R=ue();return u.cs.getEntries(y,h).next(N=>{w=N,w.forEach((x,U)=>{U.isValidDocument()||(R=R.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(N=>{p=N;let x=[];for(let U of a){let X=pz(U,p.get(U.key).overlayedDocument);X!=null&&x.push(new Qn(U.key,X,wM(X.value.mapValue),Ar.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,x,a)}).next(N=>{g=N;let x=N.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,N.batchId,x)})}).then(()=>({batchId:g.batchId,changes:PM(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Fe(pe)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l})(r,i.batchId,n),yield Cu(r,i.changes),yield up(r.remoteStore)}catch(i){let o=Aw(i,"Failed to persist write");n.reject(o)}})}function sP(t,e){return I(this,null,function*(){let n=te(t);try{let r=yield Fz(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ee(s.va):i.removedDocuments.size>0&&(Ee(s.va),s.va=!1))}),yield Cu(n,r,e)}catch(r){yield Tu(r)}})}function cM(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&Rw(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cq(t,e,n){return I(this,null,function*(){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Fe(G.comparator);s=s.insert(o,En.newNoDocument(o,se.min()));let a=ue().add(o),u=new Mf(se.min(),new Map,new Fe(pe),s,a);yield sP(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Nw(r)}else yield jI(r.localStore,e,!1).then(()=>rw(r,e,n)).catch(Tu)})}function uq(t,e){return I(this,null,function*(){let n=te(t),r=e.batch.batchId;try{let i=yield Lz(n.localStore,e);cP(n,r,null),aP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Cu(n,i)}catch(i){yield Tu(i)}})}function lq(t,e,n){return I(this,null,function*(){let r=te(t);try{let i=yield(function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);cP(r,e,n),aP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Cu(r,i)}catch(i){yield Tu(i)}})}function aP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function cP(t,e,n){let r=te(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function rw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||uP(t,r)})}function uP(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Dw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Nw(t))}function uM(t,e,n){for(let r of n)r instanceof qf?(t.La.addReference(r.key,e),dq(t,r)):r instanceof Gf?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||uP(t,r.key)):Z()}function dq(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),Nw(t))}function Nw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new G(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new tw(n)),t.Oa=t.Oa.insert(n,r),JM(t.remoteStore,new gu(qn(Iw(n.path)),r,"TargetPurposeLimboResolution",vM.oe))}}function Cu(t,e,n){return I(this,null,function*(){let r=te(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=kI.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(function(u,l){return I(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,g=>O.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>O.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Du(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),w=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(g,R)}}})})(r.localStore,o))})}function hq(t,e){return I(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield QM(n.localStore,e);n.currentUser=e,(function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new V(M.CANCELLED,s))})}),o.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cu(n,r.hs)}})}function fq(t,e){let n=te(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function lP(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cq.bind(null,e),e.Ca.d_=eq.bind(null,e.eventManager),e.Ca.$a=tq.bind(null,e.eventManager),e}function pq(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lq.bind(null,e),e}var lM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return I(this,null,function*(){this.serializer=ap(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return kz(this.persistence,new FI,n.initialUser,this.serializer)}Ga(n){return new PI(OI.Zr,this.serializer)}Wa(n){return new UI}terminate(){return I(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var gq=(()=>{class t{initialize(n,r){return I(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hq.bind(null,this.syncEngine),yield Xz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return(function(){return new JI})()}createDatastore(n){let r=ap(n.databaseInfo.databaseId),i=(function(s){return new HI(s)})(n.databaseInfo);return(function(s,a,u,l){return new GI(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new KI(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>cM(this.syncEngine,r,0),(function(){return Vf.D()?new Vf:new BI})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let g=new nw(o,s,a,u,l,h);return p&&(g.Qa=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var n,r;yield(function(o){return I(this,null,function*(){let s=te(o);j("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield bu(s),s.k_.shutdown(),s.q_.set("Unknown")})})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Wf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var iw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=bf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>I(this,null,function*(){j("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Aw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function OE(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(null,null,function*(){r.isEqual(i)||(yield QM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function dM(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield mq(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oM(e.remoteStore,i)),t._onlineComponents=e})}function mq(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield OE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),yield OE(t,new lM)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield OE(t,new lM);return t._offlineComponents})}function dP(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield dM(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield dM(t,new gq))),t._onlineComponents})}function yq(t){return dP(t).then(e=>e.syncEngine)}function ow(t){return I(this,null,function*(){let e=yield dP(t),n=e.eventManager;return n.onListen=nq.bind(null,e.syncEngine),n.onUnlisten=oq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sq.bind(null,e.syncEngine),n})}function vq(t,e,n={}){let r=new Hn;return t.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return(function(o,s,a,u,l){let h=new Wf({next:g=>{h.Za(),s.enqueueAndForget(()=>iP(o,p)),g.fromCache&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new zf(a,h,{includeMetadataChanges:!0,_a:!0});return rP(o,p)})(yield ow(t),t.asyncQueue,e,n,r)})),r.promise}function hP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var hM=new Map;function fP(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _q(t,e,n,r){if(e===!0&&r===!0)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fM(t){if(!G.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pM(t){if(G.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=lp(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Kf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_q("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Js=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kf(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kE;switch(r.type){case"firstParty":return new jE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=hM.get(n);r&&(j("ComponentProvider","Removing Datastore"),hM.delete(n),r.terminate())})(this),Promise.resolve()}};function Eq(t,e,n,r={}){var i;let o=(t=Wn(t,Js))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=tt.MOCK_USER;else{a=vR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tt(l)}t._authCredentials=new LE(new Df(a,u))}}var Ii=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},kt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},mi=class t extends Ii{constructor(e,n,r){super(e,n,Iw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Hoe(t,e,...n){if(t=He(t),fP("collection","path",e),t instanceof Js){let r=Me.fromString(e,...n);return pM(r),new mi(t,null,r)}{if(!(t instanceof kt||t instanceof mi))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return pM(r),new mi(t.firestore,null,r)}}function Iq(t,e,...n){if(t=He(t),arguments.length===1&&(e=bf.newId()),fP("doc","path",e),t instanceof Js){let r=Me.fromString(e,...n);return fM(r),new kt(t,null,new G(r))}{if(!(t instanceof kt||t instanceof mi))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return fM(r),new kt(t.firestore,t instanceof mi?t.converter:null,new G(r))}}var Qf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jf(this,"async_queue_retry"),this.Vu=()=>{let r=xE();r&&j("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=xE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=xE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Hn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return I(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Du(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=(function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a})(r);throw Rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=QI.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}wu(){return I(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function gM(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Pr=class extends Js{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Qf(e),this._firestoreClient=void 0,yield e}})}};function pP(t,e){let n=typeof t=="object"?t:Jh(),r=typeof t=="string"?t:e||"(default)",i=Kc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=yR("firestore");o&&Eq(i,...o)}return i}function Mw(t){if(t._terminated)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wq(t),t._firestoreClient}function wq(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new zE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hP(h.experimentalLongPollingOptions),h.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var vu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Et.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Zs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xs=class{constructor(e){this._methodName=e}};var _u=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}};var Eu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}};var Tq=/^__.*__$/,sw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ro(e,this.data,n,this.fieldTransforms)}},Yf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function gP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var aw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(gP(this.Cu)&&Tq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},cw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ap(e)}Qu(e,n,r,i=!1){return new aw({Cu:e,methodName:n,qu:r,path:qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Pw(t){let e=t._freezeSettings(),n=ap(t._databaseId);return new cw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dq(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);xw("Data must be an object, but it was:",s,r);let a=mP(r,s),u,l;if(o.merge)u=new tn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=lw(e,p,n);if(!s.contains(g))throw new V(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);vP(h,g)||h.push(g)}u=new tn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new sw(new zt(a),u,l)}var Jf=class t extends Xs{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var uw=class t extends Xs{_toFieldTransform(e){return new oI(e.path,new Co)}isEqual(e){return e instanceof t}};function bq(t,e,n,r){let i=t.Qu(1,e,n);xw("Data must be an object, but it was:",i,r);let o=[],s=zt.empty();No(r,(u,l)=>{let h=Ow(e,u,n);l=He(l);let p=i.Nu(h);if(l instanceof Jf)o.push(h);else{let g=Su(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new tn(o);return new Yf(s,a,i.fieldTransforms)}function Cq(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[lw(e,r,n)],u=[i];if(o.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(lw(e,o[g])),u.push(o[g+1]);let l=[],h=zt.empty();for(let g=a.length-1;g>=0;--g)if(!vP(l,a[g])){let y=a[g],w=u[g];w=He(w);let R=s.Nu(y);if(w instanceof Jf)l.push(y);else{let N=Su(w,R);N!=null&&(l.push(y),h.set(y,N))}}let p=new tn(l);return new Yf(h,p,s.fieldTransforms)}function Sq(t,e,n,r=!1){return Su(n,t.Qu(r?4:3,e))}function Su(t,e){if(yP(t=He(t)))return xw("Unsupported field value:",e,t),mP(t,e);if(t instanceof Xs)return(function(r,i){if(!gP(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Su(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=st.fromDate(r);return{timestampValue:kf(i.serializer,o)}}if(r instanceof st){let o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kf(i.serializer,o)}}if(r instanceof _u)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vu)return{bytesValue:$M(i.serializer,r._byteString)};if(r instanceof kt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Eu)return(function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return ww(a.serializer,u)})}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${lp(r)}`)})(t,e)}function mP(t,e){let n={};return _M(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(r,i)=>{let o=Su(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function yP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof _u||t instanceof vu||t instanceof kt||t instanceof Xs||t instanceof Eu)}function xw(t,e,n){if(!yP(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){let r=lp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function lw(t,e,n){if((e=He(e))instanceof Zs)return e._internalPath;if(typeof e=="string")return Ow(t,e);throw Zf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Aq=new RegExp("[~\\*/\\[\\]]");function Ow(t,e,n){if(e.search(Aq)>=0)throw Zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zs(...e.split("."))._internalPath}catch{throw Zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(M.INVALID_ARGUMENT,a+t+u)}function vP(t,e){return t.some(n=>n.isEqual(e))}var Xf=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(dp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},dw=class extends Xf{data(){return super.data()}};function dp(t,e){return typeof e=="string"?Ow(t,e):e instanceof Zs?e._internalPath:e._delegate._internalPath}function _P(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Iu=class{},ep=class extends Iu{};function zoe(t,e,...n){let r=[];e instanceof Iu&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof hw).length,a=o.filter(u=>u instanceof tp).length;if(s>1||s>0&&a>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var tp=class t extends ep{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return EP(e._query,n),new Ii(e.firestore,e.converter,rI(e._query,n))}_parse(e){let n=Pw(e.firestore);return(function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){yM(p,h);let y=[];for(let w of p)y.push(mM(u,o,w));g={arrayValue:{values:y}}}else g=mM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||yM(p,h),g=Sq(a,s,p,h==="in"||h==="not-in");return Ge.create(l,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function qoe(t,e,n){let r=e,i=dp("where",t);return tp._create(i,r,n)}var hw=class t extends Iu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)EP(s,u),s=rI(s,u)})(e._query,n),new Ii(e.firestore,e.converter,rI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var fw=class t extends ep{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bo(o,s)})(e._query,this._field,this._direction);return new Ii(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new vi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function Goe(t,e="asc"){let n=e,r=dp("orderBy",t);return fw._create(r,n)}function mM(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AM(e)&&n.indexOf("/")!==-1)throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Me.fromString(n));if(!G.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BN(t,new G(r))}if(n instanceof kt)return BN(t,n._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lp(n)}.`)}function yM(t,e){if(!Array.isArray(t)||t.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EP(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new V(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var pw=class{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return No(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Re(s.doubleValue));return new Eu(o)}convertGeoPoint(e){return new _u(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=yw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){let n=Nr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Me.fromString(e);Ee(KM(r));let i=new Rf(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Rq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Io=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},np=class extends Xf{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Bs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(dp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Bs=class extends np{data(e={}){return super.data(e)}},rp=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bs(this._firestore,this._userDataWriter,r.key,r,new Io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Nq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Nq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}var wu=class extends pw{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}};function Woe(t){t=Wn(t,Ii);let e=Wn(t.firestore,Pr),n=Mw(e),r=new wu(e);return _P(t._query),vq(n,t._query).then(i=>new rp(e,r,t,i))}function Koe(t,e,n,...r){t=Wn(t,kt);let i=Wn(t.firestore,Pr),o=Pw(i),s;return s=typeof(e=He(e))=="string"||e instanceof Zs?Cq(o,"updateDoc",t._key,e,n,r):bq(o,"updateDoc",t._key,e),kw(i,[s.toMutation(t._key,Ar.exists(!0))])}function Qoe(t){return kw(Wn(t.firestore,Pr),[new fu(t._key,Ar.none())])}function Yoe(t,e){let n=Wn(t.firestore,Pr),r=Iq(t),i=Rq(t.converter,e);return kw(n,[Dq(Pw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}function Joe(t,...e){var n,r,i;t=He(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||gM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(gM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof kt)l=Wn(t.firestore,Pr),h=Iw(t._key.path),u={next:p=>{e[s]&&e[s](Mq(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Wn(t,Ii);l=Wn(p.firestore,Pr),h=p._query;let g=new wu(l);u={next:y=>{e[s]&&e[s](new rp(l,g,p,y))},error:e[s+1],complete:e[s+2]},_P(t._query)}return(function(g,y,w,R){let N=new Wf(R),x=new zf(y,N,w);return g.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return rP(yield ow(g),x)})),()=>{N.Za(),g.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return iP(yield ow(g),x)}))}})(Mw(l),h,a,u)}function kw(t,e){return(function(r,i){let o=new Hn;return r.asyncQueue.enqueueAndForget(()=>I(null,null,function*(){return aq(yield yq(r),i,o)})),o.promise})(Mw(t),e)}function Mq(t,e,n){let r=n.docs.get(e._key),i=new wu(t);return new np(t,i,e._key,r,new Io(n.hasPendingWrites,n.fromCache),e.converter)}function Zoe(){return new uw("serverTimestamp")}(function(e,n=!0){(function(i){ea=i})(fi),hi(new en("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Pr(new FE(r.getProvider("auth-internal")),new BE(r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vn(FN,"4.7.3",e),vn(FN,"4.7.3","esm2017")})();var IP={production:!1,firebase:{apiKey:"AIzaSyCaCyk5zQ_5sYkB0vfC8aQW294GWyhjR8Y",authDomain:"financetracker-b5e5d.firebaseapp.com",projectId:"financetracker-b5e5d",storageBucket:"financetracker-b5e5d.firebasestorage.app",messagingSenderId:"515607980314",appId:"1:515607980314:web:9dc0d70fe7987e0d1164a3",measurementId:"G-E697346JPP"}};var wP=K_(IP.firebase),hp=DE(wP),cse=pP(wP);var mse=(()=>{let e=class e{constructor(){this.user=Rn(null),this.user$=Q(this.user()),this.router=P(fo),_E(hp,r=>{console.log("Auth state changed:",r),this.user.set(r)})}loginWithGoogle(){return I(this,null,function*(){let r=new vE;try{let i=yield TE(hp,r);console.log("User:",i.user),this.router.navigate(["/dashboard"])}catch(i){console.error("Login error:",i)}})}logout(){return I(this,null,function*(){yield EE(hp),this.router.navigate(["/auth"])})}get uid(){return this.user()?.uid??null}get isAuthed(){return console.log(this.user()),!!this.user()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{F as a,he as b,Pq as c,ux as d,xq as e,Oq as f,I as g,Oe as h,ae as i,zo as j,Ne as k,it as l,ba as m,Cx as n,$r as o,Sx as p,ht as q,hl as r,Aa as s,ag as t,ke as u,Q as v,Wo as w,cg as x,re as y,Sl as z,Hr as A,Ra as B,Hx as C,zx as D,ft as E,qx as F,zr as G,Gx as H,Ft as I,Wx as J,Kx as K,Ko as L,Jx as M,fg as N,ED as O,Zx as P,pg as Q,pt as R,Ml as S,Xx as T,Ke as U,eO as V,k as W,Vl as X,B as Y,Yr as Z,$ as _,K as $,P as aa,Zo as ba,Qe as ca,YD as da,JD as ea,lb as fa,db as ga,Dt as ha,Je as ia,un as ja,Gt as ka,mm as la,Rn as ma,Qb as na,OO as oa,no as pa,Md as qa,hr as ra,md as sa,Pd as ta,gs as ua,sk as va,Od as wa,fn as xa,MC as ya,tL as za,dr as Aa,Zi as Ba,dc as Ca,we as Da,pS as Ea,pn as Fa,oi as Ga,eo as Ha,Jy as Ia,ro as Ja,Jt as Ka,fc as La,OS as Ma,LS as Na,FS as Oa,St as Pa,Ue as Qa,BS as Ra,io as Sa,ai as Ta,Yd as Ua,i1 as Va,o1 as Wa,s1 as Xa,a1 as Ya,qS as Za,av as _a,cv as $a,Jd as ab,uv as bb,lv as cb,GS as db,dv as eb,hv as fb,KS as gb,d1 as hb,QS as ib,Zd as jb,JS as kb,m1 as lb,v1 as mb,_1 as nb,XS as ob,I1 as pb,eA as qb,tA as rb,w1 as sb,T1 as tb,D1 as ub,b1 as vb,iA as wb,oA as xb,L1 as yb,W1 as zb,hA as Ab,fv as Bb,fA as Cb,gA as Db,Y1 as Eb,mA as Fb,J1 as Gb,nV as Hb,rV as Ib,aV as Jb,uV as Kb,lV as Lb,dV as Mb,hV as Nb,ys as Ob,Zt as Pb,mV as Qb,yV as Rb,eh as Sb,uee as Tb,lee as Ub,th as Vb,dee as Wb,hee as Xb,mc as Yb,bv as Zb,rh as _b,fee as $b,pee as ac,gee as bc,mr as cc,oo as dc,vj as ec,n0 as fc,_j as gc,r0 as hc,Ej as ic,Ij as jc,Dj as kc,Cj as lc,Sj as mc,s0 as nc,yte as oc,Qv as pc,zj as qc,rU as rc,iU as sc,I_ as tc,fo as uc,fR as vc,L2 as wc,H2 as xc,OR as yc,_E as zc,Hoe as Ac,Iq as Bc,zoe as Cc,qoe as Dc,Goe as Ec,Woe as Fc,Koe as Gc,Qoe as Hc,Yoe as Ic,Joe as Jc,Zoe as Kc,wP as Lc,hp as Mc,cse as Nc,mse as Oc};
